<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>我的 ZeroTier Network 管理 bot | 烂杯的博客</title><meta name=keywords content="telegram,zerotier,python,bot,requests"><meta name=description content="一个用于管理 ZeroTier 网络的 Telegram Bot"><meta name=author content="cgcel"><link rel=canonical href=https://cgcel.github.io/posts/2021/05/13/%E6%88%91%E7%9A%84-zerotier-network-%E7%AE%A1%E7%90%86-bot/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css integrity="sha256-7I2jZsovtkdTfMt6j2+ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://cgcel.github.io/images/avatar.jpg><link rel=icon type=image/png sizes=16x16 href=https://cgcel.github.io/images/avatar.jpg><link rel=icon type=image/png sizes=32x32 href=https://cgcel.github.io/images/avatar.jpg><link rel=apple-touch-icon href=https://cgcel.github.io/images/avatar.jpg><link rel=mask-icon href=https://cgcel.github.io/images/avatar.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="我的 ZeroTier Network 管理 bot"><meta property="og:description" content="一个用于管理 ZeroTier 网络的 Telegram Bot"><meta property="og:type" content="article"><meta property="og:url" content="https://cgcel.github.io/posts/2021/05/13/%E6%88%91%E7%9A%84-zerotier-network-%E7%AE%A1%E7%90%86-bot/"><meta property="og:image" content="https://cgcel.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-13T21:51:24+08:00"><meta property="article:modified_time" content="2021-05-13T21:51:24+08:00"><meta property="og:site_name" content="CGCEL BLOG"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cgcel.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="我的 ZeroTier Network 管理 bot"><meta name=twitter:description content="一个用于管理 ZeroTier 网络的 Telegram Bot"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://cgcel.github.io/posts/"},{"@type":"ListItem","position":3,"name":"我的 ZeroTier Network 管理 bot","item":"https://cgcel.github.io/posts/2021/05/13/%E6%88%91%E7%9A%84-zerotier-network-%E7%AE%A1%E7%90%86-bot/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"我的 ZeroTier Network 管理 bot","name":"我的 ZeroTier Network 管理 bot","description":"一个用于管理 ZeroTier 网络的 Telegram Bot","keywords":["telegram","zerotier","python","bot","requests"],"articleBody":"起因 ZeroTier 我从去年开始第一次使用, 用来给家里的树莓派做内网穿透, 不过中间因为3B当做个小服务器没什么好玩的就中断了.\n去年年底双十一从闲鱼如了一台 4G RAM 的4B (有点后悔没耐心等 8G 版本), 刷了 RaspiOS 之后就拿来跑PT站的签到脚本和当做下载机使用, 顺便安装了 ZeroTier One, 加入我的 ZeroTier Network, 如此一来在外也能较为轻松地访问到我的 pi.\n但是由于 ZeroTier 的官网在国内访问较慢, 每次需要通过新加入成员或者管理成员都要花一点时间登录官网并管理, 一开始还不觉得麻烦, 后来加入成员越来越多, 也邀请朋友一起加入, 这样管理起来就比较麻烦. 恰巧此时从 ZeroTier 官网上看到他们有官方的 API 可供用户调用, 于是我申请了 API Key, 短暂测试之后决定写一个 Telegram Bot 帮助监控以及管理我的 ZeroTier Network.\nAPI 调用测试 根据 官方文档 说明, 使用 postman 进行 API 调用测试, 根据指示, 在 header 中按照格式加入 API Key 即可请求到数据, 如下图:\nBot 设计 本 bot 使用 Telegram Bot 的第三方库 pyTelegramBotAPI 来实现, 代码部分主要包括两个部分:\n Bot 命令以及定时任务 ZeroTier API 调用  初期版本 初期的版本通过在 config.yaml 文件中添加用户 ID 来添加管理员, 并通过私聊 bot 的方式来对 Network 进行管理. 这种交互方式在 只有一个管理员的时候还是挺方便的, 只需要直接与 bot 私聊发送指令, 开发到一大半的时候发现一个比较难实现的功能: 当有多个管理员管理的时候, bot 显示管理信息会比较困难 (需要在所有管理员对话框同步修改信息, 以显示是哪位管理员进行了此项操作).\n改进版本 与其说初期版本功能的实现比较绕, 不如说是设计之初就考虑的不周到, 本 bot 想要设计成一个允许多人管理的 bot, 就不能以私聊的方式交互, 而是应该将 bot 添加至群聊中, 让群管理员有权限进行管理, 如此一来逻辑便清晰许多了.\nBot 功能  Show networks info Show network members info Set member name (Admin only) Authorize new member (Admin only) Unauthorize member (Admin only) Delete member (Admin only) Set sub admin (Invite your friends to group chat, set as admin and manage the network with you)  创建私人 ZeroTier Network 管理 Bot 具体步骤 开始   创建你的 ZeroTier Web API Token:\n点击链接创建 API Access Token.\n  创建你的 Telegram Bot:\n发送指令给 @BotFather, 你可以复制以下内容发送至 @BotFather 以编辑你的 bot 指令:\n1 2 3 4 5 6  help - Show commands list. show_network - Show your zerotier networks. set_member_name - Set your member's name by using this command. auth_member - Authorize a member. unauth_member - Unauthorize a member. delete_member - Delete a member.     拷贝仓库至本地:\n1  $ git clone https://github.com/koonchung/ZeroTierTelegramBot.git     安装依赖:\n1  $ pip3 install -r requirements.txt     编辑 config.yaml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  # Fill with your telegram bot token# Create your bot by sending commands to @BotFather in Telegrambot_token:\"your_bot_token\"# Fill with your zerotier token# Get your own API Access Token at: https://my.zerotier.com/accountzerotier_token:\"your_zerotier_web_api_token\"# Fill with telegram id which you want to set as adminadmin_id:- your_telegram_id# Fill with refresh seconds, used to check new membersrefresh_seconds:60    运行 Bot\n1 2  $ cd ZeroTierTelegramBot $ python3 zerotiertelegrambot   将 bot 邀请至自建群聊中, 发送 /start@your_bot 至群聊, 然后即可开始管理你的ZeroTier Networks.\n  后台运行\n  本菜鸟使用tmux在后台挂起bot服务.\n运行截图   start\u0026help\n  show_network\n  network_info\n  accept\u0026setname\n  auth\u0026setname\n  new_member\n  结尾 项目已发布在 GitHub, 欢迎提意见🤗\n","wordCount":"338","inLanguage":"en","datePublished":"2021-05-13T21:51:24+08:00","dateModified":"2021-05-13T21:51:24+08:00","author":{"@type":"Person","name":"cgcel"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cgcel.github.io/posts/2021/05/13/%E6%88%91%E7%9A%84-zerotier-network-%E7%AE%A1%E7%90%86-bot/"},"publisher":{"@type":"Organization","name":"烂杯的博客","logo":{"@type":"ImageObject","url":"https://cgcel.github.io/images/avatar.jpg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://cgcel.github.io accesskey=h title="烂杯的博客 (Alt + H)"><img src=https://cgcel.github.io/images/avatar.jpg alt=logo aria-label=logo height=35>烂杯的博客</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://cgcel.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://cgcel.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://cgcel.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://cgcel.github.io>Home</a>&nbsp;»&nbsp;<a href=https://cgcel.github.io/posts/>Posts</a></div><h1 class=post-title>我的 ZeroTier Network 管理 bot</h1><div class=post-description>一个用于管理 ZeroTier 网络的 Telegram Bot</div><div class=post-meta><span title="2021-05-13 21:51:24 +0800 CST">May 13, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;cgcel&nbsp;|&nbsp;<a href=https://github.com/cgcel.github.io/content/posts/2021/05/13/%e6%88%91%e7%9a%84%20ZeroTier%20Network%20%e7%ae%a1%e7%90%86%20bot/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e8%b5%b7%e5%9b%a0 aria-label=起因>起因</a></li><li><a href=#api-%e8%b0%83%e7%94%a8%e6%b5%8b%e8%af%95 aria-label="API 调用测试">API 调用测试</a></li><li><a href=#bot-%e8%ae%be%e8%ae%a1 aria-label="Bot 设计">Bot 设计</a><ul><li><a href=#%e5%88%9d%e6%9c%9f%e7%89%88%e6%9c%ac aria-label=初期版本>初期版本</a></li><li><a href=#%e6%94%b9%e8%bf%9b%e7%89%88%e6%9c%ac aria-label=改进版本>改进版本</a></li></ul></li><li><a href=#bot-%e5%8a%9f%e8%83%bd aria-label="Bot 功能">Bot 功能</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e7%a7%81%e4%ba%ba-zerotier-network-%e7%ae%a1%e7%90%86-bot-%e5%85%b7%e4%bd%93%e6%ad%a5%e9%aa%a4 aria-label="创建私人 ZeroTier Network 管理 Bot 具体步骤">创建私人 ZeroTier Network 管理 Bot 具体步骤</a><ul><li><a href=#%e5%bc%80%e5%a7%8b aria-label=开始>开始</a></li><li><a href=#%e8%bf%90%e8%a1%8c%e6%88%aa%e5%9b%be aria-label=运行截图>运行截图</a></li></ul></li><li><a href=#%e7%bb%93%e5%b0%be aria-label=结尾>结尾</a></li></ul></div></details></div><div class=post-content><h2 id=起因>起因<a hidden class=anchor aria-hidden=true href=#起因>#</a></h2><p>ZeroTier 我从去年开始第一次使用, 用来给家里的树莓派做内网穿透, 不过中间因为3B当做个小服务器没什么好玩的就中断了.</p><p>去年年底双十一从闲鱼如了一台 4G RAM 的4B (有点后悔没耐心等 8G 版本), 刷了 RaspiOS 之后就拿来跑PT站的签到脚本和当做下载机使用, 顺便安装了 ZeroTier One, 加入我的 ZeroTier Network, 如此一来在外也能较为轻松地访问到我的 pi.</p><p>但是由于 ZeroTier 的官网在国内访问较慢, 每次需要通过新加入成员或者管理成员都要花一点时间登录官网并管理, 一开始还不觉得麻烦, 后来加入成员越来越多, 也邀请朋友一起加入, 这样管理起来就比较麻烦. 恰巧此时从 ZeroTier 官网上看到他们有官方的 API 可供用户调用, 于是我申请了 API Key, 短暂测试之后决定写一个 Telegram Bot 帮助监控以及管理我的 ZeroTier Network.</p><h2 id=api-调用测试>API 调用测试<a hidden class=anchor aria-hidden=true href=#api-调用测试>#</a></h2><p>根据 <a href=https://apidocs.zerotier.com/>官方文档</a> 说明, 使用 postman 进行 API 调用测试, 根据指示, 在 header 中按照格式加入 API Key 即可请求到数据, 如下图:</p><p><img loading=lazy src=Snipaste_2021-05-13_23-45-40.jpg alt=使用postman调用API></p><h2 id=bot-设计>Bot 设计<a hidden class=anchor aria-hidden=true href=#bot-设计>#</a></h2><p>本 bot 使用 Telegram Bot 的第三方库 <a href=https://github.com/eternnoir/pyTelegramBotAPI>pyTelegramBotAPI</a> 来实现, 代码部分主要包括两个部分:</p><ul><li>Bot 命令以及定时任务</li><li>ZeroTier API 调用</li></ul><h3 id=初期版本>初期版本<a hidden class=anchor aria-hidden=true href=#初期版本>#</a></h3><p>初期的版本通过在 <code>config.yaml</code> 文件中添加用户 ID 来添加管理员, 并通过私聊 bot 的方式来对 Network 进行管理. 这种交互方式在 只有一个管理员的时候还是挺方便的, 只需要直接与 bot 私聊发送指令, 开发到一大半的时候发现一个比较难实现的功能: 当有多个管理员管理的时候, bot 显示管理信息会比较困难 (需要在所有管理员对话框同步修改信息, 以显示是哪位管理员进行了此项操作).</p><h3 id=改进版本>改进版本<a hidden class=anchor aria-hidden=true href=#改进版本>#</a></h3><p>与其说初期版本功能的实现比较绕, 不如说是设计之初就考虑的不周到, 本 bot 想要设计成一个允许多人管理的 bot, 就不能以私聊的方式交互, 而是应该将 bot 添加至群聊中, 让群管理员有权限进行管理, 如此一来逻辑便清晰许多了.</p><h2 id=bot-功能>Bot 功能<a hidden class=anchor aria-hidden=true href=#bot-功能>#</a></h2><ul><li>Show networks info</li><li>Show network members info</li><li>Set member name (Admin only)</li><li>Authorize new member (Admin only)</li><li>Unauthorize member (Admin only)</li><li>Delete member (Admin only)</li><li>Set sub admin (Invite your friends to group chat, set as admin and manage the network with you)</li></ul><h2 id=创建私人-zerotier-network-管理-bot-具体步骤>创建私人 ZeroTier Network 管理 Bot 具体步骤<a hidden class=anchor aria-hidden=true href=#创建私人-zerotier-network-管理-bot-具体步骤>#</a></h2><h3 id=开始>开始<a hidden class=anchor aria-hidden=true href=#开始>#</a></h3><ol><li><p>创建你的 ZeroTier Web API Token:</p><p>点击<a href=https://my.zerotier.com/account>链接</a>创建 API Access Token.</p></li><li><p>创建你的 Telegram Bot:</p><p>发送指令给 @BotFather, 你可以复制以下内容发送至 @BotFather 以编辑你的 bot 指令:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>help - Show commands list.
</span></span><span class=line><span class=cl>show_network - Show your zerotier networks.
</span></span><span class=line><span class=cl>set_member_name - Set your member&#39;s name by using this command.
</span></span><span class=line><span class=cl>auth_member - Authorize a member.
</span></span><span class=line><span class=cl>unauth_member - Unauthorize a member.
</span></span><span class=line><span class=cl>delete_member - Delete a member.
</span></span></code></pre></td></tr></table></div></div></li><li><p>拷贝仓库至本地:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ git clone https://github.com/koonchung/ZeroTierTelegramBot.git
</span></span></code></pre></td></tr></table></div></div></li><li><p>安装依赖:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ pip3 install -r requirements.txt
</span></span></code></pre></td></tr></table></div></div></li><li><p>编辑 <code>config.yaml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Fill with your telegram bot token</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Create your bot by sending commands to @BotFather in Telegram</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>bot_token</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;your_bot_token&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Fill with your zerotier token</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Get your own API Access Token at: https://my.zerotier.com/account</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>zerotier_token</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;your_zerotier_web_api_token&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Fill with telegram id which you want to set as admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>admin_id</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span>- <span class=l>your_telegram_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Fill with refresh seconds, used to check new members</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>refresh_seconds</span><span class=p>:</span><span class=w> </span><span class=m>60</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>运行 Bot</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ cd ZeroTierTelegramBot
</span></span><span class=line><span class=cl>$ python3 zerotiertelegrambot
</span></span></code></pre></td></tr></table></div></div><p>将 bot 邀请至自建群聊中, 发送 <code>/start@your_bot</code> 至群聊, 然后即可开始管理你的ZeroTier Networks.</p></li><li><p>后台运行</p></li></ol><p>本菜鸟使用tmux在后台挂起bot服务.</p><h3 id=运行截图>运行截图<a hidden class=anchor aria-hidden=true href=#运行截图>#</a></h3><ol><li><p>start&help</p><p><img loading=lazy src=start&help.png alt=start&amp;amp;help></p></li><li><p>show_network</p><p><img loading=lazy src=show_network.png alt=show_network></p></li><li><p>network_info</p><p><img loading=lazy src=network_info.png alt=network_info></p></li><li><p>accept&setname</p><p><img loading=lazy src=accept&setname.png alt=accept&amp;amp;setname></p></li><li><p>auth&setname</p><p><img loading=lazy src=auth&setname.png alt=auth&amp;amp;setname></p></li><li><p>new_member</p><p><img loading=lazy src=new_member.png alt=new_member></p></li></ol><h2 id=结尾>结尾<a hidden class=anchor aria-hidden=true href=#结尾>#</a></h2><p><a href=https://github.com/koonchung/ZeroTierTelegramBot>项目</a>已发布在 GitHub, 欢迎提意见🤗</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://cgcel.github.io/tags/telegram/>telegram</a></li><li><a href=https://cgcel.github.io/tags/zerotier/>zerotier</a></li><li><a href=https://cgcel.github.io/tags/python/>python</a></li><li><a href=https://cgcel.github.io/tags/bot/>bot</a></li><li><a href=https://cgcel.github.io/tags/requests/>requests</a></li></ul><nav class=paginav><a class=prev href=https://cgcel.github.io/posts/2021/05/17/%E4%BB%8Eoos%E5%88%B0los--%E4%B8%80%E5%8A%A08t%E7%9A%84%E5%88%B7%E6%9C%BA%E8%AE%B0%E5%BD%95/><span class=title>« Prev</span><br><span>从OOS到LOS -- 一加8T的刷机记录</span></a>
<a class=next href=https://cgcel.github.io/posts/2020/11/17/diy%E9%A1%B9%E7%9B%AE--%E8%87%AA%E5%88%B6%E7%BA%A2%E5%A4%96%E6%B5%8B%E6%B8%A9%E6%9E%AA/><span class=title>Next »</span><br><span>DIY项目 -- 自制红外测温枪</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 我的 ZeroTier Network 管理 bot on twitter" href="https://twitter.com/intent/tweet/?text=%e6%88%91%e7%9a%84%20ZeroTier%20Network%20%e7%ae%a1%e7%90%86%20bot&url=https%3a%2f%2fcgcel.github.io%2fposts%2f2021%2f05%2f13%2f%25E6%2588%2591%25E7%259A%2584-zerotier-network-%25E7%25AE%25A1%25E7%2590%2586-bot%2f&hashtags=telegram%2czerotier%2cpython%2cbot%2crequests"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 我的 ZeroTier Network 管理 bot on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcgcel.github.io%2fposts%2f2021%2f05%2f13%2f%25E6%2588%2591%25E7%259A%2584-zerotier-network-%25E7%25AE%25A1%25E7%2590%2586-bot%2f&title=%e6%88%91%e7%9a%84%20ZeroTier%20Network%20%e7%ae%a1%e7%90%86%20bot&summary=%e6%88%91%e7%9a%84%20ZeroTier%20Network%20%e7%ae%a1%e7%90%86%20bot&source=https%3a%2f%2fcgcel.github.io%2fposts%2f2021%2f05%2f13%2f%25E6%2588%2591%25E7%259A%2584-zerotier-network-%25E7%25AE%25A1%25E7%2590%2586-bot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 我的 ZeroTier Network 管理 bot on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fcgcel.github.io%2fposts%2f2021%2f05%2f13%2f%25E6%2588%2591%25E7%259A%2584-zerotier-network-%25E7%25AE%25A1%25E7%2590%2586-bot%2f&title=%e6%88%91%e7%9a%84%20ZeroTier%20Network%20%e7%ae%a1%e7%90%86%20bot"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 我的 ZeroTier Network 管理 bot on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcgcel.github.io%2fposts%2f2021%2f05%2f13%2f%25E6%2588%2591%25E7%259A%2584-zerotier-network-%25E7%25AE%25A1%25E7%2590%2586-bot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 我的 ZeroTier Network 管理 bot on whatsapp" href="https://api.whatsapp.com/send?text=%e6%88%91%e7%9a%84%20ZeroTier%20Network%20%e7%ae%a1%e7%90%86%20bot%20-%20https%3a%2f%2fcgcel.github.io%2fposts%2f2021%2f05%2f13%2f%25E6%2588%2591%25E7%259A%2584-zerotier-network-%25E7%25AE%25A1%25E7%2590%2586-bot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 我的 ZeroTier Network 管理 bot on telegram" href="https://telegram.me/share/url?text=%e6%88%91%e7%9a%84%20ZeroTier%20Network%20%e7%ae%a1%e7%90%86%20bot&url=https%3a%2f%2fcgcel.github.io%2fposts%2f2021%2f05%2f13%2f%25E6%2588%2591%25E7%259A%2584-zerotier-network-%25E7%25AE%25A1%25E7%2590%2586-bot%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//https-cgcel-github-io.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://cgcel.github.io>烂杯的博客</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>