[{"content":"å‰è¨€ æˆ‘çš„æœåŠ¡å™¨ä¹‹å‰è¿è¡Œçš„ #ç§æœ‰å›¾åº“ æ˜¯ PhotoPrism, ç”¨ç€ä¹Ÿè¿˜ä¸é”™, ä½†æœ‰å‡ å¤„ä¸é¡ºæ‰‹çš„åœ°æ–¹, æ¯”å¦‚æ²¡æœ‰å®˜æ–¹çš„ Android App, äººè„¸è¯†åˆ«å‡†ç¡®ç‡ä¸å¤ªç†æƒ³. ç„¶åæœ€è¿‘åœ¨ vç«™çœ‹åˆ°å¾ˆå¤šæ¨è #immich çš„å¸–å­å’Œè¯„è®º, æ‰€ä»¥æ‰“ç®—éƒ¨ç½²ä¸€ä¸‹è¯•è¯•çœ‹, å¹¶ä¸”å’Œ #photoprism å¯¹æ¯”ä¸€ä¸‹.\nå‡†å¤‡å·¥ä½œ åŸæœ¬æˆ‘çš„ç›¸å†Œæ˜¯åŒæ­¥è‡³ #nextcloud ç„¶åéƒ¨ç½² photoprism å¹¶æŒ‚è½½å›¾åº“å­˜å‚¨è·¯å¾„çš„, è¿™æ ·åšçš„å¥½å¤„æ˜¯:\nä»¥ nextcloud åŒæ­¥ä¸ºä¸» photoprism æ— ç—›ä½¿ç”¨, ä¸ä¼šå¯¹åŸæ•°æ®é€ æˆå½±å“å’Œå˜åŠ¨ å› æ­¤, å­˜å‚¨åœ¨ nextcloud ä¸­çš„å›¾åº“éœ€è¦å…ˆå¤‡ä»½ä¸€ä»½å‡ºæ¥, å•ç‹¬ç”¨äº immich, ç”¨äºæµ‹è¯•ä½¿ç”¨æ•ˆæœ.\néƒ¨ç½²è¿‡ç¨‹ (docker-compose) ä½¿ç”¨ docker-compose éƒ¨ç½² immich, å®˜æ–¹æ–‡æ¡£ æœ‰æ¯”è¾ƒè¯¦ç»†çš„ä»‹ç». æ ¹æ®æŒ‡å¼•, å°† docker-compose.yml å’Œ .env ä¸‹è½½è‡³ç›®æ ‡è·¯å¾„, ç„¶åè¿›è¡Œå¾®è°ƒå³å¯.\ndocker-compose.yml (v1.88.2) v1.88.2 æœ‰é‡å¤§æ›´æ–°, åŸæœ¬çš„é…ç½®æœ‰å¤§æ”¹, ä½¿å¾—é…ç½®æ›´ç®€å•äº†, å¥½è¯„.\ndocker-compose.yml ç›¸è¾ƒäºå®˜æ–¹ä¸‹ä¸‹æ¥çš„ç‰ˆæœ¬, å¢åŠ äº†å®¿ä¸»æœºæ—¶åŒºæŒ‚è½½, immich_machine_learning å®¹å™¨çš„ä»£ç†æŒ‚è½½.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 version: \u0026#34;3.8\u0026#34; # # WARNING: Make sure to use the docker-compose.yml of the current release: # # https://github.com/immich-app/immich/releases/latest/download/docker-compose.yml # # The compose file on main may not be compatible with the latest release. # name: immich services: immich-server: container_name: immich_server image: ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release} command: [ \u0026#34;start.sh\u0026#34;, \u0026#34;immich\u0026#34; ] volumes: - ${UPLOAD_LOCATION}:/usr/src/app/upload - /etc/localtime:/etc/localtime:ro env_file: - .env ports: - 15140:3001 depends_on: - redis - database - typesense restart: unless-stopped immich-microservices: container_name: immich_microservices image: ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release} # extends: # file: hwaccel.yml # service: hwaccel command: [ \u0026#34;start.sh\u0026#34;, \u0026#34;microservices\u0026#34; ] volumes: - ${UPLOAD_LOCATION}:/usr/src/app/upload - /etc/localtime:/etc/localtime:ro env_file: - .env depends_on: - redis - database - typesense restart: unless-stopped immich-machine-learning: container_name: immich_machine_learning image: ghcr.io/immich-app/immich-machine-learning:${IMMICH_VERSION:-release} volumes: - model-cache:/cache - /etc/localtime:/etc/localtime:ro env_file: - .env environment: - HTTP_PROXY=http://192.168.0.192:7890 - HTTPS_PROXY=http://192.168.0.192:7890 restart: unless-stopped typesense: container_name: immich_typesense image: typesense/typesense:0.24.1@sha256:9bcff2b829f12074426ca044b56160ca9d777a0c488303469143dd9f8259d4dd environment: - TYPESENSE_API_KEY=${TYPESENSE_API_KEY} - TYPESENSE_DATA_DIR=/data # remove this to get debug messages - GLOG_minloglevel=1 volumes: - tsdata:/data - /etc/localtime:/etc/localtime:ro restart: unless-stopped redis: container_name: immich_redis image: redis:6.2-alpine@sha256:80cc8518800438c684a53ed829c621c94afd1087aaeb59b0d4343ed3e7bcf6c5 volumes: - /etc/localtime:/etc/localtime:ro restart: unless-stopped database: container_name: immich_postgres image: postgres:14-alpine@sha256:50d9be76e9a90da4c781554955e0ffc79d9d5c4226838e64b36aacc97cbc35ad env_file: - .env environment: POSTGRES_PASSWORD: ${DB_PASSWORD} POSTGRES_USER: ${DB_USERNAME} POSTGRES_DB: ${DB_DATABASE_NAME} volumes: - pgdata:/var/lib/postgresql/data - /etc/localtime:/etc/localtime:ro restart: unless-stopped volumes: pgdata: model-cache: tsdata: .env .env æ–‡ä»¶åªå¯¹ UPLOAD_LOCATION åšäº†ä¿®æ”¹, å…¶ä»–å†…å®¹ä¿æŒä¸å˜.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 ################################################################################### # Database ################################################################################### DB_HOSTNAME=immich_postgres DB_USERNAME=postgres DB_PASSWORD=postgres DB_DATABASE_NAME=immich # Optional Database settings: # DB_PORT=5432 ################################################################################### # Redis ################################################################################### REDIS_HOSTNAME=immich_redis # Optional Redis settings: # Note: these parameters are not automatically passed to the Redis Container # to do so, please edit the docker-compose.yml file as well. Redis is not configured # via environment variables, only redis.conf or the command line # REDIS_PORT=6379 # REDIS_DBINDEX=0 # REDIS_PASSWORD= # REDIS_SOCKET= ################################################################################### # Upload File Location # # This is the location where uploaded files are stored. ################################################################################### UPLOAD_LOCATION=/mnt/usb1/immich/cgc/upload # UPLOAD_LOCATION=/mnt/usb1/nextcloud/apache/nextcloud/data/cgc/files/Photos ################################################################################### # Log message level - [simple|verbose] ################################################################################### LOG_LEVEL=simple ################################################################################### # Typesense ################################################################################### # TYPESENSE_ENABLED=false TYPESENSE_API_KEY=some-random-text # TYPESENSE_HOST: typesense # TYPESENSE_PORT: 8108 # TYPESENSE_PROTOCOL: http ################################################################################### # Reverse Geocoding # # Reverse geocoding is done locally which has a small impact on memory usage # This memory usage can be altered by changing the REVERSE_GEOCODING_PRECISION variable # This ranges from 0-3 with 3 being the most precise # 3 - Cities \u0026gt; 500 population: ~200MB RAM # 2 - Cities \u0026gt; 1000 population: ~150MB RAM # 1 - Cities \u0026gt; 5000 population: ~80MB RAM # 0 - Cities \u0026gt; 15000 population: ~40MB RAM #################################################################################### # DISABLE_REVERSE_GEOCODING=false # REVERSE_GEOCODING_PRECISION=3 #################################################################################### # WEB - Optional # # Custom message on the login page, should be written in HTML form. # For example: # PUBLIC_LOGIN_PAGE_MESSAGE=\u0026#34;This is a demo instance of Immich.\u0026lt;br\u0026gt;\u0026lt;br\u0026gt;Email: \u0026lt;i\u0026gt;demo@demo.de\u0026lt;/i\u0026gt;\u0026lt;br\u0026gt;Password: \u0026lt;i\u0026gt;demo\u0026lt;/i\u0026gt;\u0026#34; #################################################################################### PUBLIC_LOGIN_PAGE_MESSAGE=\u0026#34;My Family Photos and Videos Backup Server\u0026#34; #################################################################################### # Alternative Service Addresses - Optional # # This is an advanced feature for users who may be running their immich services on different hosts. # It will not change which address or port that services bind to within their containers, but it will change where other services look for their peers. # Note: immich-microservices is bound to 3002, but no references are made #################################################################################### #IMMICH_VERSION= å¯¼å…¥å·²æœ‰å›¾åº“ å¾…å®Œå–„\u0026hellip;\né—®é¢˜è§£å†³ æ¨¡å‹ä¸‹è½½é—®é¢˜ è¯¥é—®é¢˜ä¼šå¯¼è‡´ immich é¡µé¢æœç´¢ä¸èƒ½æ­£å¸¸ä½¿ç”¨, å…ƒæ•°æ®å’Œäººè„¸æ•°æ®ç­‰ä»»åŠ¡ä¹Ÿä¸èƒ½æ­£å¸¸è¿›è¡Œ, è§£å†³è¿™ä¸€é—®é¢˜çš„æ–¹æ³•æ˜¯åœ¨ immich çš„ #docker-compose æ–‡ä»¶ä¸­è®¾ç½®ä»£ç†.\nå¦‚ä¸Šå›¾, æŸ¥çœ‹æ—¥å¿—å¯çŸ¥, æ˜¯ immich_machine_learning å®¹å™¨çš„ä¸‹è½½ä»»åŠ¡å—é˜», å› æ­¤åœ¨ docker-compose ä¸­è®¾ç½®ä»£ç†å³å¯:\n1 2 3 4 5 6 7 8 9 10 11 12 immich-machine-learning: container_name: immich_machine_learning image: ghcr.io/immich-app/immich-machine-learning:${IMMICH_VERSION:-release} volumes: - model-cache:/cache - /etc/localtime:/etc/localtime:ro env_file: - .env restart: unless-stopped environment: - HTTP_PROXY=http://192.168.0.192:7890 - HTTPS_PROXY=http://192.168.0.192:7890 è®¾ç½® nginx åä»£ è¿›å…¥ #nginx-proxy-manager , å¯¹ 192.168.0.192:15140 è¿›è¡Œåä»£å³å¯. è¿™é‡Œ 192.168.0.192 æ˜¯æœåŠ¡å™¨åœ¨å±€åŸŸç½‘çš„åœ°å€, 15140 åˆ™æ˜¯ä¸Šæ–‡ immich_proxy å®¹å™¨çš„æš´éœ²ç«¯å£.\nä¸ PhotoPrism å¯¹æ¯” éƒ¨ç½²å®Œæˆåä½¿ç”¨ä¸‹æ¥æœ‰å‡ ç‚¹æ„Ÿå—:\nImmich PhotoPrism éƒ¨ç½²éš¾åº¦ ä¸­ç­‰ (é•œåƒå¤§, æ¨¡å‹ä¸‹è½½éœ€ä»£ç†, æœ‰è‡ªå·±çš„å›¾ç‰‡å­˜å‚¨è·¯å¾„æ ¼å¼) ç®€å•é…ç½®, å¯ä»¥ç›´æ¥æŒ‚è½½å·²æœ‰çš„å›¾åº“åŒæ­¥è·¯å¾„ å®¢æˆ·ç«¯ å…¨é¢, å®‰å“ç«¯å¾ˆå¥½ç”¨ åªæœ‰ç½‘é¡µç«¯ æ¨¡å‹ç²¾ç¡®åº¦ æ›´é«˜, å¾ˆå¤šåˆé’»äººè„¸, ä¸åŒæ—¶æœŸåŒä¸€äººä¹Ÿèƒ½è¯†åˆ«å‡º ä¸ç”šç†æƒ³ æ–‡æ¡£ è¯¦ç»† è¯¦ç»† ç»¼ä¸Šæ¥è¯´, immich ç¡®å®æ›´èƒœä¸€ç­¹, ä½¿ç”¨ä½“éªŒä¸Šå·²ç»é¢†å…ˆäº photoprism, ä½¿ç”¨ä½“éªŒç¡®å®å¾ˆé‡è¦, æ¯”å¦‚æ—¥å¸¸æƒ³è¦æ‰¾åˆ°è‡ªå·±çš„è¯ä»¶ç…§, photoprism ä¼šç»™æˆ‘ä¸€ç§ä¸é è°±çš„æ„Ÿè§‰, æ— è®ºä»å®¢æˆ·ç«¯å’Œäººè„¸è¯†åˆ«ç²¾åº¦éƒ½æœ‰æ‰€æ¬ ç¼º. è€Œ immich ç›®å‰æ¥è¯´èƒ½å¾ˆå¥½çš„è§£å†³æˆ‘è¿™ä¸ªéœ€æ±‚.\n","date":"2023-11-22T14:45:22+08:00","permalink":"https://cgcel.github.io/posts/immich-docker-compose-%E5%A2%99%E5%86%85%E9%83%A8%E7%BD%B2/","title":"Immich Docker Compose å¢™å†…éƒ¨ç½²"},{"content":"å‰è¨€ åœ¨éƒ¨ç½² #obsidian-livesync ä¹‹å‰, æˆ‘ä½¿ç”¨çš„æ˜¯ #remotely-save æ’ä»¶, ä¹Ÿå°è¯•äº† #obsidian-git æ’ä»¶, éæ’ä»¶åŒæ­¥æ–¹æ¡ˆå°è¯•è¿‡åšæœäº‘æ•´ä¸ªæ–‡ä»¶å¤¹åŒæ­¥, è¿™ä¸‰ä¸ªæ–¹æ³•å„æœ‰ä¼˜åŠ£:\nremotely-save ä¼˜ç‚¹:\nå€ŸåŠ© webdav è¿›è¡ŒåŒæ­¥, é…ç½®è¾ƒä¸ºç®€å• å¯ä»¥åšåˆ°è·¨è®¾å¤‡åŒæ­¥ ç¼ºç‚¹:\næ— æ³•åŒæ­¥æ’ä»¶é…ç½®ç­‰ä¸ªäººé…ç½®æ–‡ä»¶ obsidian-git ä¼˜ç‚¹:\nå¯ä»¥ç™½å«– github çš„å­˜å‚¨ç©ºé—´ å¯ä»¥è¿›è¡Œç‰ˆæœ¬ç®¡ç† å¯ä»¥é€‰æ‹©åŒæ­¥ä»»ä½•ä»“åº“å†…çš„æ–‡ä»¶ (é€šè¿‡ç¼–è¾‘ .gitignore å®ç°) ç¼ºç‚¹:\nåœ¨ç§»åŠ¨è®¾å¤‡å¾ˆéš¾é…ç½® git åšæœäº‘ ä¼˜ç‚¹:\nç™½å«–åšæœäº‘å…è´¹ç©ºé—´ åŒæ­¥æ•´ä¸ªæ–‡ä»¶å¤¹, æœ‰ç‰ˆæœ¬ç®¡ç† ç¼ºç‚¹:\nå¿…é¡»å€ŸåŠ©ç¬¬ä¸‰æ–¹è½¯ä»¶æ‰èƒ½å®ç°åŒæ­¥, obsidian æ— æ³•ç‹¬è‡ªå®ŒæˆåŒæ­¥ å› æ­¤, å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…æˆ‘æ˜¯ä½¿ç”¨ åšæœäº‘ + remotely-save ç»“åˆçš„æ–¹æ¡ˆè¿›è¡Œ ob çš„åŒæ­¥, å¦‚æœä¸å«Œè‡ƒè‚¿çš„è¯, ä¸ªäººæ„Ÿè§‰è¿™ç¡®å®æ˜¯æŒºä¸é”™çš„é€‰æ‹©äº†.\nç„¶åæœ€è¿‘å¬è¯´äº† obsidian-livesync è¿™ä¸ªæ’ä»¶, æ®è¯´å¯ä»¥åšåˆ°æ¥è¿‘ä¸ obsidian-sync ç›¸è¿‘çš„åŒæ­¥ä½“éªŒ, æ‰€ä»¥æˆ‘è¯•ç€è‡ªå·±æ­å»ºäº†ä¸€ä¸‹, ä¸€ç•ªä½“éªŒä¸‹æ¥, æ„Ÿè§‰ç¡®å®æ˜¯ç‹¬ä¸€æ¡£çš„.\néƒ¨ç½² æ ¹æ® å®˜æ–¹ä»“åº“ æŒ‡å¼•, æœ€ç®€å•çš„éƒ¨ç½²æ–¹æ³•åº”è¯¥æ˜¯: é€šè¿‡ #docker éƒ¨ç½² #CouchDB , ç„¶åé…ç½® self-hosted livesync æ’ä»¶, å¼€å¯åŒæ­¥.\nDocker Compose éƒ¨ç½² CouchDB æ ¹æ®æŒ‡å¼•, éœ€è¦å…ˆå‡†å¤‡å¥½ local.ini å’Œ docker-compose.yml æ–‡ä»¶.\nlocal.ini ç›´æ¥å¤åˆ¶å®˜æ–¹ç¤ºä¾‹å†…å®¹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 [couchdb] single_node=true max_document_size = 50000000 [chttpd] require_valid_user = true max_http_request_size = 4294967296 enable_cors = true [chttpd_auth] require_valid_user = true authentication_redirect = /_utils/session.html [httpd] WWW-Authenticate = Basic realm=\u0026#34;couchdb\u0026#34; bind_address = 0.0.0.0 [cors] origins = app://obsidian.md, capacitor://localhost, http://localhost credentials = true headers = accept, authorization, content-type, origin, referer methods = GET,PUT,POST,HEAD,DELETE max_age = 3600 æˆ‘å°†è¯¥æ–‡ä»¶ä¿å­˜åœ¨ /etc/couchdb/local.ini ä¸­.\ndocker-compose.yml æ ¹æ® æ–‡æ¡£ æŒ‡ç¤º, å…ˆåˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„ CouchDB çš„ #docker-compose é…ç½®æ–‡ä»¶, å¯¹è‡ªå·±çš„é…ç½®è¿›è¡Œä¸€äº›è‡ªå®šä¹‰åå†…å®¹å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 version: \u0026#34;3.7\u0026#34; # convenient compose file for Self-hosted LiveSync. # Initial Author: @arminus # Modified : @vrtmrz services: couchserver: image: couchdb:3.1.2 container_name: couchdb ports: - \u0026#34;15150:5984\u0026#34; environment: - COUCHDB_USER=admin - COUCHDB_PASSWORD=JackChen85756328 volumes: # The files\u0026#39; owner will be id:5984 when you launch the image. # Because CouchDB writes on-the-fly configurations into local.ini. # So when you want to perform git pull or change something, you have to change owners back. - /opt/couchdb/data:/opt/couchdb/data - /etc/couchdb/local.ini:/opt/couchdb/etc/local.ini restart: unless-stopped è¿è¡Œ CouchDB 1 sudo docker compose up -d å¦‚æœæœ‰é˜²ç«å¢™, åˆ™è®¾ç½®å…è®¸è‡ªå®šä¹‰æš´éœ²çš„ç«¯å£\nåˆ›å»ºæ•°æ®åº“ CouchDB è¿è¡ŒæˆåŠŸå, è®¿é—® http://localhost:15150/_utils , ç„¶ååˆ›å»ºä¸€ä¸ªæ•°æ®åº“, ç”¨äºæ’ä»¶åŒæ­¥æ•°æ®.\nå¼€å§‹åŒæ­¥ æ¥ä¸‹æ¥çš„æ“ä½œ, æ ¹æ®å®˜æ–¹æ–‡æ¡£æŒ‡å¼•å³å¯.\n","date":"2023-07-25T09:21:04+08:00","permalink":"https://cgcel.github.io/posts/%E9%83%A8%E7%BD%B2-obsidian-livesync-%E8%AE%B0%E5%BD%95/","title":"éƒ¨ç½² obsidian-livesync"},{"content":"Rime å°ç‹¼æ¯« è¾“å…¥æ³•é…ç½®ä½¿ç”¨è®°å½• å‰è¨€ ä¹…é—» #Rime çš„å¤§å, è¶æœ€è¿‘æ¯”è¾ƒç©ºé—²å­¦ä¹ ä¸€ä¸‹å¦‚ä½•é…ç½® Windows ç«¯çš„ #å°ç‹¼æ¯« , é¡ºä¾¿è®°å½•ä¸€ä¸‹.\nç®€ä½“å…¨æ‹¼é…ç½®è¿‡ç¨‹ å‚è€ƒé“¾æ¥ ä¸å¤šèµ˜è¿°, ä¸»è¦å°±æ˜¯å‚è€ƒäº†å®˜æ–¹çš„ Wiki ä»¥åŠä¸€äº›ç”¨æˆ·å†™çš„æ€»ç»“, å…¶å®å®˜æ–¹æ–‡æ¡£å†™çš„æŒºè¯¦ç»†äº†, åªæ˜¯æˆ‘æ‡’å¾—ä¸€é¡µä¸€é¡µç¿», æ‰€ä»¥å¤šæ‰¾äº†ä¸€äº›ç¬¬ä¸‰æ–¹çš„æ”»ç•¥.\nå°ç‹¼æ¯« 3 åˆ†é’Ÿå…¥é—¨åŠè¿›é˜¶æŒ‡å—\nRime æ“´å……è©åº«\nã€Šå®šè£½æŒ‡å—ã€‹\né…ç½®åŒæ­¥\nå®˜æ–¹ Wiki è¯´æ˜ä¹¦\né¼ é¡»ç®¡è¯åº“çš„åŒæ­¥å’Œå¤‡ä»½\nä¸­è‹±æ–‡æ··è¾“ã€Œeasy_enã€\nè‡ªå®šä¹‰è¯åº“æ³¨æ„äº‹é¡¹ è‡ªå®šä¹‰è¯åº“å¿…é¡»éµå®ˆä¸¥æ ¼çš„ yaml æ ¼å¼, ç‰¹åˆ«æ˜¯åœ¨ windows ç¯å¢ƒå°¤å…¶éœ€è¦æ³¨æ„, å¦åˆ™ã€Œé‡æ–°éƒ¨ç½²ã€åä¹Ÿä¸ä¼šç”Ÿæ•ˆä¸Šå±.\n1 windowsä¸­å¯ä»¥åœ¨ *vscode* ä¸­å…ˆå°†è¡Œå°¾è®¾ç½®æˆ **LF**, ç„¶åæ‰“å¼€ä¸‹è½½ä¸‹æ¥çš„ç¬¬ä¸‰æ–¹è¯åº“è¿›è¡Œç¼–è¾‘, è‹¥è¦æ·»åŠ è‡ªé€ è¯, å¯ä»¥å¤åˆ¶å…ˆæœ‰çš„ä¸€è¡Œç„¶åè‡ªè¡Œä¿®æ”¹, ä¿å­˜åé‡æ–°éƒ¨ç½²å³å¯. æ¢å¤å¤‡ä»½ æŒ‰ç…§ä¸Šè¿°æ­¥éª¤é…ç½®å¥½ ã€Œç”¨æˆ·èµ„æ–™åŒæ­¥ã€ å, æˆ‘é€šè¿‡åšæœäº‘å¤‡ä»½äº†ç”Ÿæˆçš„ç”¨æˆ·å¤‡ä»½èµ„æ–™, è¯¥èµ„æ–™å­˜å‚¨è·¯å¾„è¢«æˆ‘å®šä¹‰åœ¨ D:/NutsBackup/RimeSync/ ä¸­äº†.\nåœ¨æ–°çš„ä¸€å°ç”µè„‘å®‰è£…å¥½ ã€ŒRime å°ç‹¼æ¯«ã€ å, å¯ç”¨åšæœäº‘, å¹¶å°†åŸå…ˆå¤‡ä»½å¥½çš„ã€Œç”¨æˆ·èµ„æ–™åŒæ­¥ã€æ•°æ®åŒæ­¥åˆ°æœ¬æœºç›¸åŒçš„è·¯å¾„ D:/NutsBackup/RimeSync/, ç„¶åå°†å…¶ä¸­çš„ .yaml æ–‡ä»¶è¦†ç›–è‡³ç”¨æˆ·æ–‡ä»¶å¤¹ä¸­ï¼›ç„¶å, æ‰“å¼€ Rime çš„ã€Œç”¨æˆ·è¯å…¸ç®¡ç†ã€, é€‰æ‹© luna_pinyin_simp è¯å…¸, ç„¶åé€‰æ‹©ã€Œåˆå…¥è¯å…¸å¿«ç…§ã€, é€‰æ‹©åšæœäº‘å¤‡ä»½ä¸­æƒ³è¦åˆå¹¶çš„ .userdb.txt æ–‡ä»¶, å°†å…¶åˆå¹¶è‡³ç”¨æˆ·è¯å…¸ä¸­.\nuserdb ä¸­çš„ä¸€äº›å‚æ•°æ„ä¹‰ c = è¯é¢‘ d = æƒå€¼ t = æ—¶åˆ»\nç”¨æˆ·è¯å…¸çš„è¯æ¡åœ¨æ¯æ¬¡è¾“å…¥çš„æ—¶å€™ä¼šæ›´æ–°, t è®°å½•çš„æ˜¯ä»–æœ€è¿‘ä¸€æ¬¡æ›´æ–°çš„è¾“å…¥æ³•æ—¶é—´. è‡³äºè¯é¢‘ c, ä¸€å¹´å‰è¾“å…¥çš„ä¸€æ¬¡å’Œåˆšåˆšè¾“å…¥è¿‡çš„ä¸€æ¬¡å…¶è¡¨ç°å‡ºæ¥çš„æ•ˆæœè‚¯å®šä¸ä¸€æ ·, æ‰€ä»¥ä¼šç»¼åˆæ—¶é—´å‚æ•° t æŠ˜ç®—æˆä¸€ä¸ªæƒå€¼ d, d å€¼å¹¶ä¸æ˜¯å½“å‰çš„æƒé‡, è€Œæ˜¯ t æ—¶åˆ»è¯¥è¯çš„æƒé‡. éšç€æ—¶é—´æµé€, d å€¼ä¼šè¡°å‡çš„.\nä¸è¦è¢«ç”¨æˆ·è¯åº“é‡Œè‡ªå·±çš„åˆ›é€ å“åˆ°, å¦‚æœæœ‰å¿ƒç»´æŠ¤ä¸€ä¸‹, ä¸ä¼šæ­£åˆ™è¡¨è¾¾å¼è¿˜æ˜¯ç®—äº†, æ¯•ç«Ÿæ¡ç›®å¤ªå¤šäº†, è€Œä¸”å¤§å¤šæ•°æ—¶å€™ä¸å½±å“ä½ çš„ä½¿ç”¨. ä¸è¿‡å‰å‡ å¤©ç½‘å‹çš„æ¡ˆä¾‹å€’æ˜¯ä¸€ä¸ªæé†’, ä»–åé¦ˆçš„é—®é¢˜ç°è±¡æ˜¯è¾“å…¥æŸäº›ç‰¹å®šå­—æ¯æ—¶è¾“å…¥æ³•å¡é¡¿, æ‰¾äº†ä¸€åœˆåŸå› , æœ€åå‘ç°æ˜¯ç”¨æˆ·è¯åº“é‡Œæœ‰ä¸€å †ä¸æ°å½“çš„é¦–å­—æ¯åˆ†è¯å¯¼è‡´çš„, å› ä¸ºå½“æˆ‘ä»¬è¾“å…¥å­—æ¯æ—¶, è¾“å…¥æ³•ä¼šåŸºäºè¯åº“è¿›è¡Œæ£€ç´¢å’ŒåŒ¹é…å“åº”, åŸæœ¬åº”è¯¥æ˜¯shu ru fa, ç»“æœè¯åº“é‡Œæœ‰s hué‚£ä¹ˆåˆ¤æ–­å…³è”åˆ°çš„å°±æ˜¯ä¸åŒçš„è¯æ±‡, è¿™ç§éå…ƒéŸ³çš„ä¸åˆç†åˆ‡åˆ†ä¹Ÿä¼šå¯¼è‡´æ‹¼éŸ³ç»„åˆæ··ä¹±, æ£€ç´¢é‡çº§ä¸Šæ¥äº†å°±è¡¨ç°å‡ºå¡é¡¿ç°è±¡.\nå¤šè®¾å¤‡è¯åº“è¦†ç›–ï¼ˆåˆå¹¶ï¼‰åŸç† .userdb æ˜¯å¢é‡åˆå¹¶çš„, é‚£ä¹ˆå¦‚æœä½ ä¿®æ”¹äº† .userdb.txt, è¯¥å¦‚ä½•éƒ¨ç½²åˆ°è¾“å…¥æ³•é‡Œå‘¢ï¼Ÿ\nå¦‚æœä½ æœ‰å¤šå°ç”µè„‘çš„åŒæ­¥é…ç½®, .userdb.txt æ–‡ä»¶ä¿®æ”¹å¥½ä»¥åå…ˆè¦†ç›–å¦ä¸€ä¸ªåŒæ­¥æ–‡ä»¶å¤¹é‡Œçš„åŒå .userdb.txt æ–‡ä»¶ï¼› åˆ é™¤ã€Œç”¨æˆ·è®¾å®šã€ä¹Ÿå°±æ˜¯æœ¬åœ°é…ç½®æ–‡ä»¶å¤¹ä¸‹çš„ åŒå .userdb æ–‡ä»¶å¤¹ï¼› èœå•æ æ‰§è¡Œã€ŒåŒæ­¥ç”¨æˆ·æ•°æ®ã€, è¾“å…¥æ³•ä¼šåŸºäº .userdb.txt ç”Ÿæˆæ–°çš„ .userdb æ–‡ä»¶å¤¹ä»è€Œå®ç°ç”¨æˆ·è¯åº“çš„ä¿®æ”¹. ä¸­è‹±æ–‡æ··è¾“ã€Œeasy_enã€ Rime ç³»åˆ—è¾“å…¥æ³•è‡ªç„¶ä¹Ÿå¯ä»¥å®ç° #ä¸­è‹±æ–‡æ··è¾“ , è¿™å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€é¡¹å¾ˆå¸¸ç”¨çš„åŠŸèƒ½. å½“å¹´åœ¨ Google æ‹¼éŸ³å°±ç»å¸¸ç”¨ä¹å®«æ ¼ã€Œé€ è¯ã€, æ‰“å‡ºè‡ªå·±æƒ³è¦çš„å•è¯è®©è¾“å…¥æ³•å¼ºè¡Œè®°ä½, è¿™æ ·å¯ä»¥ä¸ç”¨åˆ‡æ¢è‡³è‹±æ–‡è¾“å…¥ä¹Ÿèƒ½æ‰“å‡ºç®€å•çš„è‹±è¯­å•è¯æˆ–è€…è‡ªå·±çš„é€ è¯.\nç»“åˆ #easy_en çš„å®˜æ–¹æ–‡æ¡£, å°†å…¶å®‰è£…å¹¶é‡æ–°éƒ¨ç½²å, å¯å®ç°ä¸­è‹±æ–‡æ··è¾“å‰åå¯¹æ¯”æ•ˆæœå¦‚ä¸‹å›¾ï¼š emoji å‘¨æœ«é—²æ¥æ— äº‹, ç ”ç©¶äº†ä¸€ä¸‹æ€ä¹ˆç»™ RIME é…ç½® #emoji è¾“å…¥, å®˜æ–¹æ–‡æ¡£æŒ‡å‘äº† rime-emoji.\nç”±äºæ²¡æœ‰å®‰è£…ã€Œä¸œé£ç ´ã€, æœ¬ç¯‡é‡‡ç”¨æ‰‹åŠ¨å®‰è£…æ–¹æ³•.\nåœ¨ä»“åº“ä¸­ä¸‹è½½ /opencc æ–‡ä»¶å¤¹, å°†å…¶æ”¾ç½®åœ¨ RIME çš„ç”¨æˆ·ç›®å½•ï¼š æ ¹æ®æ–‡æ¡£æ‰€è¿°, æ¥ä¸‹æ¥éœ€è¦ç¼–è¾‘ç®€ä½“è¾“å…¥çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶, æ‰¾äº†ä¸€ä¸‹, åœ¨æˆ‘çš„ç”¨æˆ·ç›®å½•ä¸­æ˜¯ luna_pinyin_simp.custom.yaml, å†…å®¹ç¼–è¾‘å¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # luna_pinyin_simp.custom.yaml patch: translator/dictionary: luna_pinyin_simp.extended __include: easy_en:/patch easy_en/enable_sentence: false # åŠ å…¥ä»¥ä¸‹å†…å®¹ switches/@next: name: emoji_suggestion reset: 1 states: [ \u0026#34;ğŸˆšï¸ï¸\\uFE0E\u0026#34;, \u0026#34;ğŸˆ¶ï¸ï¸\\uFE0F\u0026#34; ] \u0026#39;engine/filters/@before 0\u0026#39;: simplifier@emoji_suggestion emoji_suggestion: opencc_config: emoji.json option_name: emoji_suggestion tips: all æœ€åé‡æ–°éƒ¨ç½²ä¸€ä¸‹ RIME, å³å¯å¼€å§‹è¾“å…¥ emoji äº†, æ•ˆæœå›¾å¦‚ä¸‹ï¼š æ‹¼éŸ³æ¨¡ç³ŠéŸ³é…ç½® å…³äºã€Œæœ™ï¼ˆming2ï¼‰æœˆæ‹¼éŸ³ã€çš„æ¨¡ç³ŠéŸ³é…ç½®, å®˜æ–¹è¯´æ˜ä¹¦å·²ç»æœ‰è¯¦å°½çš„æŒ‡å¯¼. ç›®å‰æˆ‘æ²¡æœ‰å¯¹å®˜æ–¹çš„æ¨¡ç³ŠéŸ³é…ç½®ä½œä»»ä½•ä¿®æ”¹, ç›´æ¥å°†å…¶ç²˜è´´è‡³æˆ‘çš„ ==RIME ç”¨æˆ·ç›®å½•==çš„ luna_pinyin_simp.custom.yaml æ–‡ä»¶ä¸­, ç„¶å==é‡æ–°éƒ¨ç½²==å³å¯.\nè‡ªå®šä¹‰é…ç½® æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æä¾›çš„ yaml æ–‡ä»¶, å¾ˆå®¹æ˜“è‡ªè¡Œå®šä¹‰, ä»¥ä¸‹æ˜¯éƒ¨åˆ†æ–‡æ¡£ç¤ºä¾‹ä»¥åŠè‡ªå®šä¹‰é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 # è‡ªå‹•ç³¾æ­£ä¸€äº›å¸¸è¦‹çš„æŒ‰éµéŒ¯èª¤ - derive/([aeiou])ng$/$1gn/ # dagn =\u0026gt; dang - derive/([dtngkhrzcs])o(u|ng)$/$1o/ # zho =\u0026gt; zhong|zhou - derive/ong$/on/ # zhonguo =\u0026gt; zhong guo - derive/ao$/oa/ # hoa =\u0026gt; hao - derive/([iu])a(o|ng?)$/a$1$2/ # tain =\u0026gt; tian # è‡ªå®šä¹‰éƒ¨åˆ† - derive/an$/na/ # kna =\u0026gt; kan - derive/huang$/ahung/ # zahung =\u0026gt; zhuang æ•ˆæœå›¾ ç¬¦å·é”®è‡ªå®šä¹‰ ç¼–è¾‘ç”¨æˆ·ç›®å½•ä¸‹çš„ default.custom.yaml\n1 2 3 4 patch: punctuator: half_shape: \u0026#34;/\u0026#34;: \u0026#34;/\u0026#34; # æ–¹ä¾¿æ•²ä»£ç æ‰“æ³¨é‡Š å°†é»˜è®¤çš„æ˜ å°„æ”¹æ‰, æ–¹ä¾¿æ•²ä»£ç æ—¶æ·»åŠ æ³¨é‡Š. å¦å¤–, æˆ‘è¿˜æ˜¯ä¹ æƒ¯ç”¨åŠè§’ç¬¦å·. ä½†æ˜¯è¿™æ ·ç®€å•çš„è®¾ç½®ä¼šæŠŠå…¶ä»–ä¸€äº›å¥½ç”¨çš„æ˜ å°„ç»™è¦†ç›–æ‰, äºæ˜¯æˆ‘è¿›è¡Œæ¥ä¸‹æ¥çš„ çƒ­é”®è®¾ç½®, ä½¿ç¬¦å·åˆ‡æ¢æ›´è‡ªå¦‚.\nçƒ­é”®è‡ªå®šä¹‰ åœ¨ windows ä¸‹, é»˜è®¤çš„ä¸­è‹±æ–‡ç¬¦å·åˆ‡æ¢çƒ­é”®æ˜¯ ctrl+., è¿™é‡Œæˆ‘å‡†å¤‡æŠŠ rime ä¹Ÿè®¾ç½®æˆä¸€æ ·çš„çƒ­é”®. å‚è€ƒé“¾æ¥\nç¼–è¾‘ç”¨æˆ·ç›®å½•ä¸‹çš„ default.custom.yaml\n1 2 3 4 5 6 7 patch: key_binder: bindings: - { when: composing, accept: Control+c, send: Escape } # ctrl-c æ¸…å± - { when: composing, accept: -, send: Page_Up } # å€™é€‰è¯åˆ†é¡µ - { when: composing, accept: =, send: Page_Down } # å€™é€‰è¯åˆ†é¡µ - { when: always, accept: Control+period, toggle: ascii_punct } # åˆ‡æ¢è¥¿æ–‡/ä¸­æ–‡æ ‡ç‚¹ Ctrl + . é»˜è®¤è¾“å…¥è‹±æ–‡ç¬¦å· ç¼–è¾‘ç”¨æˆ·ç›®å½•ä¸‹çš„ luna_pinyin.schema.yaml, å¦‚æœæ²¡æœ‰åˆ™ä»ç¨‹åºç›®å½•å¤åˆ¶ä¸€ä»½, ç”¨äºè¦†ç›–åŸçŸ³é…ç½®.\n1 2 3 4 5 6 7 8 9 10 11 12 switches: - name: ascii_mode reset: 0 states: [ ä¸­æ–‡, è¥¿æ–‡ ] - name: full_shape states: [ åŠè§’, å…¨è§’ ] - name: simplification reset: 1 states: [ æ¼¢å­—, æ±‰å­— ] - name: ascii_punct reset: 1 states: [ . , , ï¼, ] ç¼–è¾‘ä¿å­˜å, é‡æ–°éƒ¨ç½² rime å³å¯.\nåç»­è®°å½• ä½¿ç”¨äº†åŠä¸ªæœˆæ—¶é—´, è¯åº“å…»åˆ°æ¥è¿‘ 5k è¡Œï¼š\nå°é¹¤åŒæ‹¼é…ç½®è¿‡ç¨‹ åœ¨é…ç½®äº†ç®€ä½“å…¨æ‹¼çš„åŸºç¡€ä¸Š, å°é¹¤åŒæ‹¼çš„é…ç½®ä¼šå˜å¾—éå¸¸ç®€å•.\nä¸‹è½½å®‰è£… é¦–å…ˆæˆ‘ä»¬ä¸‹è½½å®˜æ–¹æä¾›çš„åŒæ‹¼è¾“å…¥æ–¹æ¡ˆ, å°† double_pinyin_flypy.schema.yaml ä¹Ÿå³æˆ‘ä»¬éœ€è¦å®‰è£…çš„å°é¹¤åŒæ‹¼æ–¹æ¡ˆ, æ”¾ç½®åœ¨ç”¨æˆ·ç›®å½•ä¸­, é‡æ–°éƒ¨ç½²å³å¯å®Œæˆå®‰è£….\nå¯ç”¨ç®€ä½“å°é¹¤åŒæ‹¼ é€šè¿‡ä»»åŠ¡æ å³ä¸‹è§’å›¾æ ‡æˆ–å¿«æ·é”®è¿›å…¥ RIME è®¾ç½®, é€‰æ‹©å°é¹¤åŒæ‹¼åæ ¹æ®ä½¿ç”¨ä¹ æƒ¯é€‰æ‹©ç®€ä½“å­—è¾“å…¥, å¦‚æ­¤ä¸€æ¥å°±è®¾ç½®å¥½äº† PC ç«¯çš„å°é¹¤åŒæ‹¼äº†.\nåŠ è½½è‡ªå®šä¹‰é…ç½® å½“ç„¶, åªè®¾ç½®å¥½äº†è¾“å…¥æ–¹æ¡ˆæ˜¯ä¸å¤Ÿçš„, è¿˜éœ€è¦è®¾ç½®ç”¨æˆ·è‡ªå®šä¹‰çš„è¯åº“ã€è¾“å…¥ä¹ æƒ¯ç­‰é¡¹æ‰èƒ½ç§°ä¸ºä¸€ä¸ªåˆæ ¼çš„ RIME è¾“å…¥æ³•.\næŒ‰ç…§ RIME å‘½åè§„èŒƒ, åœ¨ç”¨æˆ·ç›®å½•åˆ›å»º double_pinyin_flypy.custom.yaml, æ„ä¸ºå°é¹¤åŒæ‹¼çš„ç”¨æˆ·è‡ªå®šä¹‰é…ç½®æ–‡ä»¶, ç„¶åè¿›è¡Œä»¥ä¸‹æ“ä½œï¼š\nåŠ è½½ç”¨æˆ·è¯å…¸ å°é¹¤åŒæ‹¼å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨å…¨æ‹¼çš„ç”¨æˆ·è¯å…¸, åœ¨ RIME ä¸­, ä¸¤è€…å…±ç”¨åŒä¸€ä¸ªè¯å…¸, è¿™ä½¿å¾—è¯å…¸çš„å¤‡ä»½åŒæ­¥å°¤ä¸ºç®€å•.\nåœ¨ double_pinyin_flypy.custom.yaml ä¸­, æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 # luna_pinyin_simp.custom.yaml # ç”¨äºè‡ªå®šä¹‰å„ç§é™„åŠ åŠŸèƒ½ patch: # ç”¨æˆ·è¯å…¸å¼•å…¥ translator/dictionary: luna_pinyin_simp.extended # ã€Œæ‹¼éŸ³è¾“å…¥è‹±è¯­ã€ easy_en å¯ç”¨ __include: easy_en:/patch easy_en/enable_sentence: false # æ‹¼éŸ³è¾“å…¥ emoji å¯ç”¨ switches/@next: name: emoji_suggestion reset: 1 states: [ \u0026#34;ğŸˆšï¸ï¸\\uFE0E\u0026#34;, \u0026#34;ğŸˆ¶ï¸ï¸\\uFE0F\u0026#34; ] \u0026#39;engine/filters/@before 0\u0026#39;: simplifier@emoji_suggestion emoji_suggestion: opencc_config: emoji.json option_name: emoji_suggestion tips: all å¯è§è¿è¯åº“éƒ½å¯ä»¥ç”¨å’Œå…¨æ‹¼çš„åŒæ¬¾, ç›¸å½“æ–¹ä¾¿. ä¸è¿‡æ­¤å¤„ç›¸æ¯”å…¨æ‹¼é…ç½®å°‘äº†æ¨¡ç³ŠéŸ³éƒ¨åˆ†, è¿™æ˜¯å› ä¸ºåŒæ‹¼ä¸å­˜åœ¨æ¨¡ç³ŠéŸ³ä¸€è¯´.\né›¾å‡‡æ‹¼éŸ³é…ç½®è¿‡ç¨‹ é…ç½® å‚è€ƒ é›¾å‡‡ä»“åº“ README, å°† RIME ç”¨æˆ·ç›®å½•ä¸‹çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹å…¨éƒ¨æ¸…é™¤, ç„¶åè¿›è¡Œé›¾å‡‡çš„å®‰è£….\nç²¤è¯­è¯å…¸ç»´æŠ¤ ä½¿ç”¨é›¾å‡‡ä¸€æ®µæ—¶é—´åå‘ç°, ç²¤è¯­è¯æ±‡åº”è¯¥æ˜¯æ²¡æœ‰åŒ…å«åœ¨é›¾å‡‡çš„è¯å…¸ä¸­, åº”è¯¥æ˜¯ä½œè€…å’Œç”¨æˆ·æ²¡æœ‰ç²¤è¯­åœ°åŒºç”¨æˆ·, æˆ–æ˜¯ç”¨æˆ·è‡ªè¡ŒæŒ‚è½½äº†ç²¤è¯­è¯å…¸, äºæ˜¯æ‰“ç®—ç»´æŠ¤ä¸€ä¸ªç²¤è¯­è¯åº“, é¡ºä¾¿å¤šäº†è§£ä¸€äº›ç²¤è¯­è¯æ±‡, å¢é•¿è§è¯†.\né—®é¢˜è§£å†³ æ¸…é™¤ç¼“å­˜ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ç»å†äº†ä¸€ä¸‹åœºæ™¯: ä»é»˜è®¤ä¸ºç¹ä½“çš„ rime_pinyin è¾“å…¥æ–¹æ¡ˆè½¬è‡³ rime-ice é›¾å‡‡æ–¹æ¡ˆ, ä¼šå¯¼è‡´å€™é€‰è¯ä¸­æœ‰å¤§é‡æ®‹ç•™çš„ç¹ä½“å­—ç¼“å­˜.\nè§£å†³æ–¹æ³• åœæ­¢å°ç‹¼æ¯«ç®—æ³•æœåŠ¡ è¿›å…¥ç”¨æˆ·ç›®å½•, åˆ é™¤ rime_ice.userdb æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ è¿›å…¥ç”¨æˆ·è¯å…¸ç®¡ç†, å°†å·²æœ‰çš„ userdb.txt ä¸­çš„å†…å®¹è½¬æˆç®€ä½“æˆ–å»é™¤å¤šä½™çš„ç¹ä½“å­—çš„è¡Œ åˆå…¥è¯å…¸å¿«ç…§, é€‰æ‹©ç¼–è¾‘å¥½çš„ userdb.txt ","date":"2022-10-22T11:55:38+08:00","permalink":"https://cgcel.github.io/posts/rime-%E5%B0%8F%E7%8B%BC%E6%AF%AB-%E8%BE%93%E5%85%A5%E6%B3%95%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/","title":"Rime å°ç‹¼æ¯« è¾“å…¥æ³•é…ç½®ä½¿ç”¨è®°å½•"},{"content":"å†™åœ¨å¼€å¤´ æœ¬ç¯‡æ˜¯ä¸Šä¸€ç¯‡ [[é€šè¿‡ZeroTierå’ŒScrcpyè¿œç¨‹æ“æ§å®‰å“æœº]] çš„ç»­ç¯‡, ä¸Šç¯‡çš„æ–¹æ¡ˆå­˜åœ¨å‡ ä¸ªç¼ºç‚¹:\nç”±äºæ‰‹æœºçš„æ— çº¿è°ƒè¯•ä¸ç¨³å®š (ç½‘ç»œæ–­å¼€å°±ä¼šå…³é—­, éœ€è¦æ‰‹åŠ¨é‡æ–°å¼€å¯), ç”±äºä½¿ç”¨äº†å…è´¹æœåŠ¡ ZeroTier è¿›è¡Œå†…ç½‘ç©¿é€, è¿æ¥ç¯å¢ƒåœ¨å¢™å†…æ—¶å¥½æ—¶å, ä¸ç¨³å®š ç»¼ä¸Šçš„å› ç´ å¯¼è‡´è¿™ä¸ªæ–¹æ¡ˆæ€»ä½“ä¸ç¨³å®š, å‚è€ƒäº† Github ä¸Šçš„ä¸€ç¯‡æ–‡ç« , æœ¬ç¯‡è®°å½•ä¸€ä¸ªåŸºäº Android 12 å’Œ æ–°ç‰ˆæœ¬ Termux çš„, æ›´åŠ ç¨³å¥çš„æ–¹æ¡ˆ, é€šè¿‡åœ¨å·² Root çš„æ‰‹æœºä¸Šå®‰è£… Termux, ç„¶ååœ¨ Termux ä¸­é…ç½® ssh (è¿œç¨‹ ssh æ“æ§) å’Œ frpc (é€šè¿‡ç§æœ‰æœåŠ¡å™¨çš„ IP è¿›è¡Œåå‘ä»£ç†), å®ç°è¿œç¨‹ adb é…å¯¹è®¾å¤‡å¹¶é€šè¿‡ Scrcpy å¯¹æ‰‹æœºè¿›è¡Œæ“ä½œ.\nç¡¬ä»¶å‡†å¤‡ æœ‰ å…¬ç½‘ IP, å¹¶è£…æœ‰ Frps çš„æœåŠ¡å™¨ 1å° å·² Root çš„å®‰å“æ‰‹æœº è£…æœ‰ adb å’Œ scrcpy çš„ç”µè„‘ä¸€å° æ–¹æ¡ˆä½¿ç”¨æ‰‹æœºæœºå‹ä¸º Oneplus 8T, è¿è¡ŒåŸºäº Android 12.1 çš„ LineageOS 19.1, ä½¿ç”¨ Magisk 25.2 è·å– Root æƒé™.\né…ç½®è¿‡ç¨‹ Termux å®‰è£…ä¸é…ç½® 1. å®‰è£… F-Droid é¦–å…ˆåœ¨æ‰‹æœºç«¯ä¸‹è½½å¹¶å®‰è£…åº”ç”¨å•†åº— F-Droid, ä»ä¸­å®‰è£…æœ€æ–°ç‰ˆ Termux (Google Play ç‰ˆæœ¬è½åå¾ˆå¤š)\n2. è·å–å­˜å‚¨æƒé™ 1 termux-setup-storage 3. è·å– Root æƒé™ä¸è®¾ç½® root è´¦å·å¯†ç  åœ¨ Termux å‘½ä»¤è¡Œä¸­è·å– Root æƒé™, è¾“å…¥:\n1 su åœ¨å¼¹çª—ä¸­åŒæ„ Termux è·å– Root æƒé™, è¿›å…¥ su å, é”®å…¥ passwd è®¾ç½® root è´¦å·çš„å¯†ç .\n1 passwd ç„¶åé‡å¯ Termux ä»¥ä¾¿äºåç»­çš„æ“ä½œ.\n4. æ›´æ¢æ¸…åæº 1 termux-change-repo æ ¹æ® Termux çš„ GUI æç¤ºè¿›è¡Œæ“ä½œ, ä½¿ç”¨ç©ºæ ¼å’Œå›è½¦é€‰æ‹©å›½å†…æº, è¿™é‡Œå› ä¸ºä¸ªäººä¹ æƒ¯é€‰æ‹©æ¸…åæº.\n5. å®‰è£…å¿…è¦åŒ… 1 2 apt update \u0026amp;\u0026amp; apt upgrade -y --force-yes pkg install openssh tsu cronie -y 6. (Optional) å¼€å¯ SSH ä¸ºäº†æ–¹ä¾¿åç»­å‘½ä»¤è¡Œæ“ä½œ, å¯ä»¥é€‰æ‹©å…ˆåœ¨ Termux å¼€å¯ SSH, ä¾¿äºåç»­æ“ä½œ. åœ¨ Termux å‘½ä»¤è¡Œä¸­è¾“å…¥:\n1 sshd å¼€å¯å, è·å–æ‰‹æœºçš„å±€åŸŸç½‘ IP, åœ¨æ¡Œé¢ç«¯å‘½ä»¤è¡Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤å°è¯•è¿œç¨‹è¿æ¥ (openssh é»˜è®¤ç«¯å£ä¸º 8022):\n1 ssh root@{å±€åŸŸç½‘IP} -p 8022 å¦‚æœæˆåŠŸ, å°†ä¼šæç¤ºè¾“å…¥æ¥å—å¯†é’¥ä»¥åŠè¾“å…¥å¯†ç .\nå‚è€ƒé“¾æ¥:\nhttps://blog.csdn.net/freeking101/article/details/122725389 https://wiki.termux.com/wiki/Main_Page éƒ¨ç½² Frpc å¹¶æµ‹è¯•è¿æ¥ 1. æœåŠ¡å™¨ç«¯ Frps éƒ¨ç½² åœ¨æœåŠ¡å™¨å‘½ä»¤è¡Œè¾“å…¥ name -a æŸ¥çœ‹æœåŠ¡å™¨ç³»ç»Ÿæ¶æ„. æ ¹æ®æœåŠ¡å™¨ç³»ç»Ÿæ¶æ„ä¸‹è½½å¯¹åº”çš„ Frp ç‰ˆæœ¬, åœ¨æœåŠ¡å™¨ç«¯è§£å‹ç¼©å¹¶æ ¹æ®å®é™…æƒ…å†µåœ¨ frps.ini é…ç½® Frps ç«¯å£, token. dashboard ç­‰. é…ç½®å®Œæˆå, åœ¨è§£å‹ç¼©çš„ç›®å½•å‘½ä»¤è¡Œè¾“å…¥ ./frps -c ./frps.ini, æŸ¥çœ‹æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ.\n2. ç§»åŠ¨ç«¯ Frpc éƒ¨ç½² é¦–å…ˆåœ¨ Termux ä¸­å¼€å¯æ‰‹æœº adb è°ƒè¯•ç«¯å£, é»˜è®¤ä¸º 5555:\n1 2 3 4 cd /system/bin sudo ./setprop service.adb.tcp.port 5555 sudo ./stop adbd sudo ./start adbd ä¸‹è½½ Frp linux arm64 ç‰ˆ (ç°åœ¨çš„å®‰å“æœºä¸€èˆ¬éƒ½æ˜¯arm64ä½çš„äº†) è‡³ç”µè„‘, æŒ‰ç…§ å®˜æ–¹æ–‡æ¡£ ä»¥åŠæœåŠ¡å™¨å®é™…æƒ…å†µé…ç½®å¥½ frpc.ini, å°†æ‰‹æœºé€šè¿‡ USB è¿æ¥ç”µè„‘, ç„¶åå°† frpc.ini å’Œ frpc å¤åˆ¶è‡³ storage/emulated/0/Download ä¸­.\nåœ¨ Termux çš„è§£å‹ç›®å½•ä¸­, è¾“å…¥ ./frpc -c ./frpc.ini, è§‚å¯Ÿè¿æ¥æƒ…å†µ.\nå®é™…æ“ä½œä¸­, åœ¨æ‰‹æœºç«¯å¼€å¯ Frpc æœåŠ¡æ—¶æŠ¥é”™: [W] [service.go:82] login to server failed: dial tcp: lookup xx.xx.com on [::1]:53: read udp [::1]:37354-\u0026gt;[::1]:53: read: connection refused\nå‚è€ƒä½œè€…ç­”å¤, è°ƒæ•´ frpc.ini é…ç½®æ–‡ä»¶å¯è§£å†³.\n3. ç”µè„‘ç«¯è¿œç¨‹è¿æ¥å¹¶æ“æ§æ‰‹æœº è¿æ¥æ­£å¸¸å, åœ¨ç”µè„‘å‘½ä»¤è¡Œä¸­é…å¯¹æ‰‹æœº:\n1 adb connect {æœåŠ¡å™¨ IP}:{frpc.ini ä¸­é…ç½®çš„ 5555 æ˜ å°„ç«¯å£} é…å¯¹æˆåŠŸå, è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤è¿æ¥æ‰‹æœº, å¯æ ¹æ®ç½‘ç»œæƒ…å†µè‡ªè¡Œè®¾ç½®åˆ†è¾¨ç‡å’Œæ¯”ç‰¹ç‡ç­‰, å‚è€ƒå®˜æ–¹æ–‡æ¡£:\n1 scrcpy -m 720 -b 2M 4. é…ç½® Frps service åœ¨æœåŠ¡å™¨ä¸­é…ç½® Frps service, ä½¿å…¶æ›´æ–¹ä¾¿æ“æ§. æ ¹æ® å®˜æ–¹æ–‡æ¡£ å®Œæˆè®¾ç½®.\né…ç½®å®šæ—¶ä»»åŠ¡ å°†æ–‡ä»¶å¤åˆ¶è‡³ Termux æ ¹ç›®å½•:\n1 2 3 cp storage/downloads/frpc ~/ cp storage/downloads/frpc.ini ~/ chmod +x ./frpc åœ¨æ ¹ç›®å½•, é”®å…¥ nano start_adb_frpc ç¼–è¾‘å¯åŠ¨è„šæœ¬:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!/data/data/com.termux/files/usr/bin/sh termux-wake-lock # open adb port, ssh cd /system/bin sudo ./setprop service.adb.tcp.port 5555 sudo ./stop adbd sudo ./start adbd sudo sshd # open frp cd ~ sudo killall frpc nohup sudo ./frpc -c ./frpc-pi.ini \u0026gt; ./log.txt 2\u0026gt;\u0026amp;1 \u0026amp; killall crond crond èµ‹äºˆå¯æ‰§è¡Œæƒé™:\n1 chmod +x ./start_adb_frpc åœ¨æ ¹ç›®å½•ä¸­, é”®å…¥ ./start_adb_frpc å³å¯å¯åŠ¨æœåŠ¡.\næœ€å, è¿›å…¥ crontab é…ç½®å®šæ—¶ä»»åŠ¡, ç¡®ä¿æœåŠ¡åå°å­˜æ´»:\n1 2 # è¿›å…¥ crontab crontab -e åœ¨ crontab ä¸­é…ç½®å®šæ—¶ä»»åŠ¡:\n1 2 # æ¯åŠä¸ªå°æ—¶é‡å¯è„šæœ¬ */30 * * * * ~/start_adb_frpc è‡³æ­¤, æ‰€æœ‰é…ç½®å·²ç»å®Œæˆ.\næ€»ç»“ é…ç½®å®Œæˆå, å·²ç»ä½¿ç”¨è¿™ä¸ªæ–¹æ¡ˆè¿›è¡Œäº†ä¸¤æ¬¡è¿œç¨‹æ“ä½œ, å…¨ç¨‹ç¨³å®šæµç•…, å·²ç»èƒ½å¤Ÿå®Œç¾æ»¡è¶³æˆ‘ä¸ªäººçš„ä½¿ç”¨è¦æ±‚, åç»­å‡†å¤‡å°†æœåŠ¡ç§»æ¤è‡³æˆ‘çš„ ä¸€åŠ 6 ä¸­, ä¸€åŠ  8T å°±ç»§ç»­ä½œä¸ºå¤‡æœºç”¨æ¥åˆ·æœºç©.\n","date":"2022-09-28T09:59:57+08:00","permalink":"https://cgcel.github.io/posts/android-12-%E7%9A%84-termux-%E5%AE%89%E8%A3%85%E5%B9%B6%E4%BD%BF%E7%94%A8-frpc-%E8%AE%B0%E5%BD%95/","title":"Termux å®‰è£…å¹¶ä½¿ç”¨ Frpc"},{"content":"å†™åœ¨å¼€å¤´ æœ€è¿‘ç”±äºæœ‰éœ€è¦è¿œç¨‹æ“æ§æ‰‹æœºçš„éœ€æ±‚, ç›®å‰æˆ‘æ‰€çŸ¥é“çš„ç¬¬ä¸‰æ–¹æœåŠ¡ TeamViewer, AirDroid, ToDesk ç­‰å‡å¯æ”¯æŒè¿œç¨‹æ“æ§å®‰å“è®¾å¤‡, ä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹, æ¯”å¦‚å¢™å†…è¿æ¥ä¸ç¨³å®šå»¶æ—¶é«˜, éœ€è¦æ³¨å†Œè´¦å·, éœ€è¦ä»˜è´¹, éœ€è¦ Root ç­‰, ä½œä¸ºæŠ˜è…¾å…š, ä¹Ÿè¶ç€8tåˆšåˆ·ä¸Š LineageOS19.1 çš„è¿™æ®µæ—¶é—´é‡æ–°è¯•äº†ä¸€ä¸‹é€šè¿‡å®‰è£…, é…ç½®Â ZeroTierÂ å’ŒÂ ScrcpyÂ å®Œæˆå¯¹æ‰‹æœºçš„æ“æ§, å…¶å®å»å¹´å°±åšäº†è¿™æ ·çš„å°è¯•, ä½†æ˜¯æ²¡æœ‰åšè®°å½•, è¿™æ¬¡å°±è¶çƒ­æ‰“é“æ°´ä¸€ç¯‡åšå®¢å§.\nè½¯ä»¶å®‰è£… è½¯ä»¶å®‰è£…åˆ†ä¸ºæ“æ§ç«¯è®¾å¤‡ (å®ä¾‹ä¸ºå¸¦å›¾å½¢æ¡Œé¢çš„ç”µè„‘), è¢«æ§ç«¯è®¾å¤‡ (å®‰å“æ‰‹æœº, å®ä¾‹ä¸ºè¿è¡Œ Android 12.1 çš„ä¸€åŠ 8T):\næ“æ§ç«¯ ZeroTier 1.10.1 Scrcpy 1.24 adb 1.0.41 1 å…¶ä¸­, Windows ç¯å¢ƒåœ¨ä½¿ç”¨ adb æ—¶é‡åˆ°äº† adb ç‰ˆæœ¬è¿‡ä½æ— æ³•ä½¿ç”¨Â `adb pair`Â æŒ‡ä»¤çš„æƒ…å†µ. æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æ“ä½œä¼šè¾“å‡ºä¸€å¤§ä¸² adb ä½¿ç”¨æŒ‡å¼•, å¿˜è®°æˆªå›¾äº†, è§£å†³æ–¹æ³•æ˜¯æ›´æ–°å®‰è£…çš„ platform-tools æ–‡ä»¶å¤¹å†…çš„ adb ç‰ˆæœ¬. å¦‚æœæ›´æ–°äº†ä¹‹åè¿˜æ˜¯å‡ºç°è¿™ç§æƒ…å†µ, åº”è¯¥åœ¨ç”µè„‘ç¯å¢ƒä¸­æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–è‡ªå¸¦äº† adb çš„è½¯ä»¶ä¹Ÿæ³¨å†Œäº†ç¯å¢ƒå˜é‡, å°†å…¶ä»ç¯å¢ƒå˜é‡ä¸­ç§»é™¤å³å¯, å¦‚æœé€‰æ‹©ä¸ç§»é™¤, å¯ä»¥ç›´æ¥åœ¨ adb çš„å®‰è£…ç›®å½•å¯åŠ¨å‘½ä»¤è¡Œ, æ­¤æ—¶å°†ä¼šä¼˜å…ˆä½¿ç”¨ç›®å½•ä¸‹çš„ adb.exe. è¢«æ§ç«¯ ZeroTier One 1.8.9-1 (Google Play å®‰è£…) ZeroTier ç½‘ç»œæ³¨å†Œ æœ¬æ–¹æ¡ˆé‡‡ç”¨ ZeroTier æ„å»ºè®¾å¤‡ç‚¹å¯¹ç‚¹è¿æ¥, å®ç°å†…ç½‘ç©¿é€. è¦ä½¿ç”¨ ZeroTier, åº”é¦–å…ˆæ³¨å†Œè´¦å·å¹¶åˆ›å»º Network.\nåˆ›å»ºå¥½ç½‘ç»œå, åœ¨Â æ“æ§ç«¯Â ä»¥åŠÂ è¢«æ§ç«¯Â å¼€å¯ ZeroTier å®¢æˆ·ç«¯å¹¶åŠ å…¥ç½‘ç»œ, ç„¶åé€šè¿‡ ZeroTier å®˜ç½‘çš„ä¸ªäººæ§åˆ¶å°å…è®¸è®¾å¤‡æ¥å…¥ç½‘ç»œ.\nè®¾å¤‡åœ¨ ZeroTier ç½‘ç»œä¸­çš„è™šæ‹Ÿ IP å¯ä»¥åœ¨æ§åˆ¶å°æŸ¥è¯¢, æˆ–è€…åœ¨è®¾å¤‡ä¸­è‡ªè¡ŒæŸ¥è¯¢æ¯”å¯¹. Ok, å‡†å¤‡å°±ç»ª, å¯ä»¥å¼€å§‹å‡†å¤‡æ“æ§æ‰‹ä¸­çš„å®‰å“è®¾å¤‡äº†!\né…ç½®æ— çº¿è°ƒè¯• (Wireless Debugging) å®‰å“è®¾å¤‡ä» Android 11 å¼€å§‹æ”¯æŒé€šè¿‡ WiFi è°ƒè¯•è®¾å¤‡,Â å‚è€ƒé“¾æ¥, æ ¹æ®æ–‡æ¡£æè¿°, æˆ‘ä»¬é¦–å…ˆå¼€å¯æ‰‹æœºçš„Â å¼€å‘è€…é€‰é¡¹, ç„¶åå‹¾é€‰Â æ— çº¿è°ƒè¯•, å‹¾é€‰åè¿›å…¥æ— çº¿è°ƒè¯•çš„å­èœå•, ç‚¹å‡»Â ä½¿ç”¨é…å¯¹ç é…å¯¹è®¾å¤‡, æ­¤æ—¶æ‰‹æœºä¼šå¼¹çª—æç¤ºå½“å‰è®¾å¤‡çš„Â WLANé…å¯¹ç ,Â IP åœ°å€å’Œç«¯å£, è®°ä¸‹è¿™äº›ä¿¡æ¯. åœ¨æ“æ§ç«¯ç”µè„‘å¼€å¯å‘½ä»¤è¡Œ, è¾“å…¥Â adb pair IPåœ°å€:ç«¯å£, æ­¤å¤„çš„ä¿¡æ¯ä¸ºç¬¬ä¸€æ­¥è·å¾—çš„ä¿¡æ¯, å›è½¦åç»§ç»­æ ¹æ®æé†’è¾“å…¥å…­ä½æ•°å­—é…å¯¹ç , æ­¤æ—¶ä¸å‡ºæ„å¤–çš„è¯å°†å®Œæˆé…å¯¹å·¥ä½œ. (Optional) å­˜åœ¨é…å¯¹æˆåŠŸå adb ä¸ä¼šè‡ªåŠ¨è¿æ¥è®¾å¤‡çš„æƒ…å†µ, æ­¤æ—¶å¯ä»¥åœ¨å‘½ä»¤è¡Œè¾“å…¥Â adb connect IPåœ°å€:ç«¯å£, æ³¨æ„æ­¤å¤„çš„ IP ä¸ç«¯å£å¹¶éç¬¬ä¸€æ­¥çš„, è€Œæ˜¯è¿›å…¥æ— çº¿è°ƒè¯•å­èœå•é¡µé¢æ˜¾ç¤ºçš„ IP åœ°å€å’Œç«¯å£. è¿æ¥äº†å‡ æ¬¡å‘ç°è¿™é‡Œçš„ç«¯å£éƒ½æ˜¯ 37995, ä¸çŸ¥é“æ˜¯ä¸æ˜¯å›ºå®šçš„ç«¯å£æ‰€ä»¥ä¸æ‰“ç . è¿æ¥æˆåŠŸå, åœ¨å‘½ä»¤è¡Œè¾“å…¥Â adb devicesÂ å³å¯çœ‹è§åˆšåˆšé…å¯¹æˆåŠŸçš„æ‰‹æœºäº†, è¾“å…¥Â scrcpyÂ å³å¯è¿œç¨‹æ“æ§æ‰‹æœºäº†. æ€»ç»“ æ¥ä¸‹æ¥åªéœ€è¦ä¿è¯æ“æ§ç«¯èƒ½ä¸€ç›´åœ¨çº¿å°±å¯ä»¥å®ç°éšæ—¶éšåœ°çš„åœ¨å¤–æ“æ§å®¶ä¸­çš„æ‰‹æœºäº†. è¿™ä¸ªæ–¹æ¡ˆåº”è¯¥ä¸ç®—ç‰¹åˆ«æŠ˜è…¾, ç‰¹åˆ«æ˜¯å¯¹æˆ‘è¿™ç§ç»å¸¸åˆ·æœºçš„äººæ¥è¯´å…¶å®ç¯å¢ƒæ—©å°±è£…çš„å·®ä¸å¤šäº†, åªéœ€è¦é…å¯¹è®¾å¤‡å°±å¯ä»¥äº†. ä½†æ˜¯æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯: ä¸€æ—¦æ‰‹æœºæ–­å¼€ä¸å±€åŸŸç½‘çš„è¿æ¥, é‡è¿åå¤§æ¦‚ç‡ä¼šéœ€è¦é‡æ–°é…å¯¹, æ­¤æ—¶å°±éœ€è¦é‡æ–°æ¥è§¦æ‰‹æœº, æ‰“å¼€è®¾ç½®æŸ¥çœ‹æ–°çš„é…å¯¹ç å’Œç«¯å£äº†. æ‰€ä»¥å¦‚æœä¸è¿½æ±‚è¿æ¥è´¨é‡ä¸æ€§èƒ½çš„è¯æœ€å¥½è¿˜æ˜¯åœ¨ç”µè„‘è£…ä¸€ä¸ªæ¨¡æ‹Ÿå™¨.\n","date":"2022-09-25T11:24:55+08:00","permalink":"https://cgcel.github.io/posts/%E9%80%9A%E8%BF%87-zerotier-%E5%92%8C-scrcpy-%E8%BF%9C%E7%A8%8B%E6%93%8D%E6%8E%A7%E5%AE%89%E5%8D%93%E6%9C%BA/","title":"é€šè¿‡ ZeroTier å’Œ Scrcpy è¿œç¨‹æ“æ§å®‰å“æœº"},{"content":"å†™åœ¨å¼€å¤´ æˆ‘çš„æ ‘è“æ´¾ä½œä¸ºæœåŠ¡å™¨ä½¿ç”¨å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†, ä¹‹å‰å®‰è£…äº†ä¸€ä¸ªé“å£³è¢«åŠ¨æ•£çƒ­, åœ¨è¿˜æ²¡è¿›å…¥å¤å¤©çš„5æœˆä»½, è½»è´Ÿè½½æ—¶å¯ä»¥çªç ´50åº¦, è¿™æ—¶å€™ç”¨æ‰‹ç›´æ¥æ‘¸æ•£çƒ­å£³å·²ç»æ˜¯å¾ˆçƒ«çš„äº†.\nç”±äºpiæ”¾åœ¨äº†æˆ‘æˆ¿é—´çš„æœ¨æ¡Œä¸Š, è®©æˆ‘ä¸å¤ªæ•¢ç”¨åŠ›å‹æ¦¨å®ƒ, ç»™å®ƒæ›´æ¢æ›´å¥½çš„æ•£çƒ­å·²ç»æ˜¯å¾ˆæ—©å°±æœ‰çš„æƒ³æ³•.\næ­£å·§æœ€è¿‘618å°†è‡³, æˆ‘åœ¨æµè§ˆæ•£çƒ­å™¨çš„æ—¶å€™å‘ç°äº†æ ‘è“æ´¾æœºç®±çš„æ¨è, å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ç§å½¢çŠ¶:\nå…¶å®è¿™ç§æ ·å­çš„æœºç®±æˆ‘åœ¨å’¸é±¼çœ‹è¿‡å¾ˆå¤šæ¬¡, ä¸è¿‡æˆ‘è§‰å¾—å¤–è§‚ä¸Šæ¯”è¾ƒä¸€èˆ¬, è®©æˆ‘æ²¡æœ‰è´­ä¹°çš„æ¬²æœ›, äºæ˜¯ä¾¿èŒç”Ÿäº†è‡ªå·±è®¾è®¡ä¸€ä¸ªæœºç®±å¹¶æ‰“å°çš„æƒ³æ³•, æ­£å¥½è‡ªå·±å¯¹3Dæ‰“å°å»ºæ¨¡æŒºæ„Ÿå…´è¶£, å¯ä»¥åˆ©ç”¨è¿™æ¬¡æœºä¼šå…¥å‘ä¸€ä¸‹, é¡ºä¾¿å­¦ä¹ å»ºæ¨¡.\nç½‘ä¸Šå†²æµªä¹‹å, æˆ‘äº†è§£åˆ°3Dæ‰“å°ä¸»è¦ä½¿ç”¨ .stl æ ¼å¼çš„æ¨¡å‹, è€Œå¯ä»¥ç”Ÿæˆè¿™ç§æ ¼å¼æ¨¡å‹çš„è½¯ä»¶ä¹Ÿæœ‰å¾ˆå¤š, æ¯”å¦‚ Solid Works, Zbrush, Sketchup ç­‰ç­‰, æˆ‘å¾ˆå¿«å°±å†³å®šä½¿ç”¨ Sketchup è¿›è¡Œå»ºæ¨¡, å› ä¸ºæˆ‘å¥³å‹å¯ä»¥æŒ‡å¯¼æˆ‘, è®©æˆ‘æ›´å®¹æ˜“ä¸Šæ‰‹. è‡³äºæ¨¡å‹çš„æ‰“å°, åˆ™å¯ä»¥äº¤ç»™æœ‰3Dæ‰“å°æœºçš„æœ‹å‹æˆ–è€…ç½‘åº—ä»£å·¥.\nå»ºæ¨¡éƒ¨åˆ† çµæ„Ÿæ¥æº åœ¨åšä¸Šè¿°çš„åŠŸè¯¾æ—¶, æˆ‘äº†è§£åˆ°ä¸€ä¸ªä¸»æµçš„3Dæ‰“å°æ¨¡å‹åˆ†äº«ç«™, å›½å†…ç§°ä¹‹ä¸º Tç«™, åœ¨ä¸Šé¢æˆ‘çœ‹åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒæ„Ÿå…´è¶£çš„ æ¨¡å‹:\nçœ‹åˆ°è¿™ä¸ªæ­£æ–¹ä½“æˆ‘é©¬ä¸Šè”æƒ³åˆ° MC ä¸­ TNT æ–¹å—çš„æ ·å­:\næ ¹æ®Tç«™çš„é©¬é‡Œå¥¥é—®å·ç®±, æˆ‘å¯ä»¥ç¨ä½œä¿®æ”¹, å°†æ¨¡å‹æ”¹æˆæˆ‘æƒ³è¦çš„ TNT å½¢çŠ¶, å¯¹äºå…¥é—¨å­¦ä¹  Sketchup å»ºæ¨¡çš„æˆ‘æ¥è¯´æ˜¯æ¯”è¾ƒå¥½çš„ä¸€ä¸ªæ–¹æ¡ˆ.\nå»ºæ¨¡ åœ¨ Sketchup ä¸­æ–°å»ºæ¨¡å‹, ç„¶åå¯¼å…¥ .stl æ–‡ä»¶ æŠ¹å¹³åŸæ¨¡å‹ä¸­çš„å››è¾¹å›¾æ¡ˆ æ¨æ‹‰ä¸­é—´ç™½æ¡åŒºåŸŸ, å‡†å¤‡å®ç°å‚ç…§æ¨¡å‹çš„å‡¸èµ·éƒ¨åˆ† è¿æ¥çªèµ·ç™½æ¡, å¹¶æ ¹æ®3Dæ–‡å­—è¿›è¡Œä¿®æ”¹, å°† N æ”¹æˆåƒç´ é£æ ¼, ç„¶åä½¿ç”¨æ¨æ‹‰, åœ¨ç™½æ¡ä¸Šåˆ»å­— åˆæ­¥ä¸Šè‰²çœ‹çœ‹æ•ˆæœ åœ¨ä¸ŠåŠéƒ¨åˆ†åŠ å…¥å‡¹æ§½, ä½¿æ¨¡å‹æ›´è´´è¿‘åŸ TNT çš„æ ·å­ æ”¹é€ ç›–å­, è¿˜æ˜¯ä¸€æ ·æ“ä½œå…ˆæŠŠåŸæ¨¡å‹å›¾æ¡ˆå»é™¤ç„¶åæ¨æ‹‰æˆå¹³é¢, ç”±äºæ ‘è“æ´¾å°†ä¼šå®‰è£…å§å¼æ•£çƒ­, ç›–å­è®¾è®¡æˆäº†é•‚ç©ºå½¢çŠ¶, æ–¹ä¾¿é€æ°” æ¨¡å‹æ‰“å°ä¸åŠ å·¥ æ‰“å°æ¨¡å‹ åœ¨æ‰¾åº—å®¶æ‰“å°çš„åŒæ—¶, æˆ‘äº†è§£åˆ°3Dæ‰“å°æœºä¸»è¦åˆ† SLA å’Œ FDM è¿™ä¸¤ç§.\nFDMæ˜¯æˆ‘å°è±¡æ¯”è¾ƒæ·±çš„æœ‰å–·å¤´çš„æ‰“å°æœº, é€šè¿‡ç†”èæ²‰ç§¯æŠ€æœ¯å°†ææ–™åŠ çƒ­å¹¶æŒ‰ç…§è½¨è¿¹æ‰“å°æ¨¡å‹, å…¥é—¨æ‰“å°æœºå¤§å¤šéƒ½æ˜¯FDMæ‰“å°æœº, è¿™ç§æ–¹æ³•æ‰“å°çš„æ¨¡å‹è¡¨é¢æ¯”è¾ƒç²—ç³™, ç²¾åº¦è¾ƒä½.\nSLAæ˜¯æœ€æ—©å‡ºç°çš„å¿«é€ŸåŸå‹åˆ¶é€ å·¥è‰º, é€šè¿‡å…‰è½´ç§»åŠ¨æ¥æ‰“å°. SLAå·¥ä¸šæœºå‹æ˜¯æ¿€å…‰å›ºåŒ–æˆå‹, åœ¨ç²¾åº¦ä¸Šæœ‰FDMæœºå‹æ— æ³•é€¾è¶Šçš„ä¼˜åŠ¿, å¯åˆ¶ä½œå„ç§ç»“æ„å¤æ‚çš„ç²¾å¯†é›¶ä»¶å’Œç»„è£…ä»¶.\næœ€ç»ˆ, å’Œåº—å®¶ç¡®å®šäº†æ–¹æ¡ˆ, é‡‡ç”¨ SLA æ‰“å°æœºæ‰“å°, ææ–™ä¸ºå…‰æ•æ ‘è„‚ (åº—å®¶æ¨èç”¨å°¼é¾™æ‰“å°, å¯ä»¥è€é«˜æ¸©, ä½†å‡ºäºæˆæœ¬è€ƒè™‘è¿˜æ˜¯é€‰æ‹©æ ‘è„‚, æ¯•ç«Ÿæ˜¯æˆ‘çš„ç¬¬ä¸€æ¬¡å°è¯•, æ²¡å¿…è¦æ€é¸¡ç”¨ç‰›åˆ€), æ‰“å°è´¹ç”¨150å…ƒ (åŸæƒ³ç€å‡ åå—è§£å†³, æ²¡æƒ³åˆ°æœ€ä¾¿å®œçš„ä¹Ÿè¦ä¸Šç™¾)\nå‡ å¤©å, æ¨¡å‹æ‰“å°å®Œæˆ, ç»è¿‡æ‰“ç£¨åå¯„ç»™äº†æˆ‘.\næ‰‹æ¶‚æ¨¡å‹ åº—å®¶çš„ä¸Šè‰²è´¹ç”¨è¦200, æ¯”æ‰“å°è´¹è¿˜è´µ, æ‰€ä»¥åœ¨åŒäº‹å¤§ä½¬çš„å»ºè®®ä¸‹æˆ‘ä¹°äº†æ°´è¡¥åœŸå’Œæ¶ˆå…‰, å‡†å¤‡åç»­ä¸Šè‰², æ¼†æ–™åˆ™ä½¿ç”¨åŒäº‹å‹æƒ…èµåŠ©çš„æ°´æ€§æ¼†å’Œç¼“å¹²å‰‚. ä¸è¿‡ç”±äºä¸´æ—¶è¡Œç¨‹æœ‰å˜, ä¸€ä¸¤å¤©å†…è¦å›ä¸œèäº†, å–·é›¾ä¸èƒ½å¸¦è¿›å…¬å…±äº¤é€š, æ‰€ä»¥æˆ‘è¦èµ¶å·¥ç›´æ¥ä¸Šè‰², æ‰‹æ¶‚å®Œå°±ç»™æˆ‘çš„ pi è£…ä¸Šä¸“å±æœºç®±.\næ‰¾äº†ä¸¤ä¸ªå†»å¹²å’–å•¡ç›–å­ç”¨æ¥è£…æ¼†æ–™, å‡†å¤‡å¼€å·¥ æ‰‹æ¶‚ä¸Šè‰², å…ˆæ‰¾å†…å£ä¸Šç‚¹çº¢è‰²è¯•è¯•æ°´ å¤–å£ç®€å•ä¸Šäº†ä¸€ä¸¤å±‚çº¢æ¼† å¤§ä½¬å»ºè®®å…ˆä¸Šç™½è‰²éƒ¨åˆ†, é¿å…çº¢è‰²éƒ¨åˆ†ä¿®ä¿®è¡¥è¡¥ ä¸Šå®Œç™½è‰²åç»§ç»­è¡¥çº¢è‰², ä¸»ä½“éƒ¨åˆ†é™¤äº†æ–‡å­—éƒ¨åˆ†åŸºæœ¬æ¶‚å®Œ ç›–å­ç²—ä¸Šè‰² å›åˆ°ä¸œèç»§ç»­, å…ˆæŠŠ pi çš„æ•£çƒ­å£³æ‹†äº†, è¿˜æœ‰æŠŠæ•£çƒ­å™¨è£…ä¸Šå…ˆçœ‹çœ‹æ•ˆæœ ç»§ç»­åŠ æ·±ç›–å­é¢œè‰², ç›´åˆ°å’Œä¸»é¢˜ç›¸å·®æ— å‡  ä¸Šè‰²é»‘å­—éƒ¨åˆ†, ä»¥åŠæœ€åçš„æˆå“å›¾ ç»„è£…æˆå“ å°†è£…å¥½æ•£çƒ­å™¨çš„ pi æ”¾å…¥ç®±å­, ç”±äºèºä¸ä¹°çš„ä¸å¤Ÿé•¿, æš‚æ—¶æ— æ³•å¾ˆå¥½çš„å›ºå®šä½, è¿™é‡Œå…ˆé å¤–æ¥çš„çº¿å›ºå®šä½, åç»­å›æ¥å†æ¢èºä¸.\nå°†ç›–å­ç›–ä¸Š, è¿™é‡Œçš„èºä¸ä¾æ—§ä¹°å°äº†, å› ä¸ºæˆ‘ä¸æƒ³ç”¨è‡ªæ”»èºä¸ç ´åç®±ä½“, æ‰€ä»¥å°±å…ˆè¿™æ ·å›ºå®š.\næ’å…¥SDå¡, è¿æ¥ä¸Šç”µæºçº¿, ç½‘çº¿ä»¥åŠç§»åŠ¨ç¡¬ç›˜, ç»„è£…å·¥ä½œåŸºæœ¬å®Œæˆ\næµ‹è¯•æ•£çƒ­ æœ€ååˆ°äº†å®æˆ˜éƒ¨åˆ†, å°†cpuæ¸©åº¦ä¸ä¹‹å‰çš„æ•°æ®å¯¹æ¯”, è½»è´Ÿè½½æ—¶æ¸©åº¦åœ¨38-42åº¦ä¹‹é—´, æ»¡è½½æ—¶æ¸©åº¦åœ¨50åº¦å·¦å³, è¾¾åˆ°äº†æˆ‘çš„é¢„æœŸ, ä»Šåä¹Ÿå¯ä»¥æ”¾å¿ƒæŠ˜è…¾äº†.\nåç»­è®¡åˆ’ æ•£çƒ­è´´æ›´æ¢ä¸ºç¡…è„‚ æ›´æ¢åˆé€‚å°ºå¯¸çš„èºä¸ä¸é“œæŸ± æ‰“ç£¨é‡æ¶‚, åŠ ä¸Šåº•æ¼† (æ°´è¡¥åœŸ) ä¸ä¿æŠ¤æ¼† (æ¶ˆå…‰) ","date":"2022-06-07T20:27:35+08:00","permalink":"https://cgcel.github.io/posts/pi4tntcase--%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE%E6%9C%BA%E7%AE%B1/","title":"Pi4TNTCase -- æˆ‘çš„æ ‘è“æ´¾æœºç®±"},{"content":"å¼€ç¯‡ ç”±äºæœ€è¿‘å› ä¸ºç–«æƒ…å±…å®¶å¥åº·ç›‘æµ‹, è¿˜æ²¡å¤å·¥, æˆ‘åœ¨å®¶è¾¹å­¦ä¹ è¾¹ç©. åœ¨å®¶æœŸé—´çœ‹äº† âŒˆ86âŒ‹ ç¬¬äºŒå­£, ç®€å•å­¦äº†ä¸€ä¸‹ Go, è¿˜æœ‰æ¡å›æ¥ Scrapy å­¦ä¹ ä¸€ä¸‹. è¯´åˆ° Scrapy, æœ¬ç§‘çš„æ—¶å€™å°±æœ‰å­¦ä¹ è¿‡, ä½†æ˜¯å½“æ—¶æ‰¾çš„æ˜¯Bç«™ä¸Šçš„ä¸­æ–‡æ•™ç¨‹, æ„Ÿè§‰æ•™çš„æˆ‘ä¸€å¤´é›¾æ°´, è¿™æ¬¡ä»å®˜æ–¹æ–‡æ¡£å¼€å§‹ä¸‹æ‰‹, ç»“åˆ Google, æ„Ÿè§‰ä¸€ä¸‹å­æ¸…æ™°æ˜äº†äº†è®¸å¤š.\nå‡†å¤‡ å®‰è£… ç°åœ¨çš„ Scrapy å®‰è£…ç®€å•äº†ä¸å°‘, å‡ å¹´å‰åœ¨ Windows ç«¯è¿˜ä¸èƒ½ç›´æ¥ç”¨ pip å®‰è£…. ç°åœ¨åªéœ€è¦ä¸€å¥ pip install scrapy å³å¯.\nç¼–è¯‘ç¯å¢ƒ ç¼–è¯‘ç¯å¢ƒå½“ç„¶è¿˜æ˜¯æ°¸è¿œçš„ VS Code.\nå®ç° è®¡åˆ’ å¤§ä½¬æä¾›äº†ä¸€ä¸ªå¡æ»¡ URL çš„ json æ–‡ä»¶ç»™æˆ‘, éƒ½æ˜¯å°è¯´ç½‘ç«™ç›¸å…³çš„, æ—¢ç„¶è¦çˆ¬å–å°è¯´ç½‘ç«™, å°±ä¸å¯é¿å…åœ°è¦çˆ¬å–åŒä¸€æœ¬ä¹¦çš„å¤šä¸ªç« èŠ‚, äºæ˜¯å¾ˆå®¹æ˜“è”æƒ³åˆ°ä½¿ç”¨ Scrapy æ¥å®ç°, æ¯•ç«Ÿæ˜¯ä¸€ä¸ªæˆåå·²ä¹…çš„ Python çˆ¬è™«æ¡†æ¶, æ€»æ¯”æˆ‘ç®€å•ç²—æš´ç”¨ requests æ¥çˆ¬å¥½å¤šäº†.\né‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜, æœ€åå®ç°æ•´ä¸ªçˆ¬å–çš„åŠŸèƒ½:\næ ¹æ®å°è¯´ä¸»é¡µ URL è·å–å„ç« èŠ‚æ ‡é¢˜ä»¥åŠ URL æ ¹æ®ç« èŠ‚ URL çˆ¬å–ç« èŠ‚å†…å®¹å¹¶ä¿å­˜ å°† Scrapy çˆ¬å–åˆ°çš„å†…å®¹æŒ‰é¡ºåºæ’åˆ—å, ä¾æ¬¡å­˜å…¥ .txt æ–‡ä»¶ä¸­ å¼€å§‹ é¦–å…ˆ, å®‰è£…å®Œ Scrapy å, æŒ‰ç…§å®˜æ–¹æ–‡æ¡£, ç›´æ¥åœ¨ç›®å½•å¯åŠ¨å‘½ä»¤è¡Œ, æ…è¿‡å‘½ä»¤è¡Œç”Ÿæˆé¡¹ç›®:\n1 $ scrapy startproject biquge_dl ç”Ÿæˆå, åœ¨ spiders/ å­æ–‡ä»¶å¤¹ä¸­æ–°å»º fiction_spider.py, ç”¨äºç¼–å†™çˆ¬è™«ä»£ç .\næ ¹æ®å®˜æ–¹çš„ QuickStart ä¾‹ç¨‹, é¦–å…ˆæ–°å»ºä¸€ä¸ª class, ç»§æ‰¿ scrapy.Spider, åç»­åªéœ€è¦ç»“åˆæºç å’Œæ–‡æ¡£, å°±å¯ä»¥ç»§ç»­å†™ä¸‹å»äº†.\nè·å–å°è¯´ç« èŠ‚ URL é¦–å…ˆåœ¨æµè§ˆå™¨æ‰“å¼€å¼€å‘è€…å·¥å…·å¯¹å°è¯´ä¸»é¡µè¿›è¡ŒæŠ“åŒ…, å¯ä»¥çœ‹åˆ°è¯¥ç½‘ç«™å¹¶æ²¡æœ‰ç”¨åˆ°ä¸€äº› API, äºæ˜¯å‡†å¤‡é‡‡ç”¨ XPATH æ¥å¯¹ç« èŠ‚ URL è¿›è¡Œçˆ¬å–, è§‚å¯Ÿåˆ°æ— è®ºå¤šé•¿ç¯‡å¹…çš„å°è¯´, å…¶ç« èŠ‚éƒ½åœ¨ä¸€é¡µä¸­æ˜¾ç¤º, è¿™æ— ç–‘é™ä½äº†éƒ¨åˆ†éš¾åº¦, æ‹¿æ¥ç»ƒæ‰‹ scrapy å®åœ¨æ˜¯å†åˆé€‚ä¸è¿‡äº†.\né€šè¿‡é‡å†™ parse(), å¯¹å°è¯´ä¸»é¡µ html è¿›è¡Œè§£æå¹¶æŠ“å–ç« èŠ‚ URL.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 import scrapy class FictionSpider(scrapy.Spider): def parse(self, response, **kwargs): self.logger.info(\u0026#39;Parse function called on %s\u0026#39;, response.url) fiction_name = response.xpath(\u0026#39;//*[@id=\u0026#34;info\u0026#34;]/h1/text()\u0026#39;).get() section_order = 1 for episode_doc in response.xpath(\u0026#39;//*[@id=\u0026#34;list\u0026#34;]/dl/dd[*]/a\u0026#39;): section_title = episode_doc.xpath(\u0026#39;.//text()\u0026#39;).get() url = episode_doc.xpath(\u0026#39;.//@href\u0026#39;).get() section_url = self.base_url + url request = scrapy.Request( url=section_url, callback=self.parse_content, cb_kwargs=dict()) request.cb_kwargs[\u0026#39;fiction_name\u0026#39;] = fiction_name request.cb_kwargs[\u0026#39;section_order\u0026#39;] = section_order request.cb_kwargs[\u0026#39;section_title\u0026#39;] = section_title section_order += 1 yield request è·å–æˆåŠŸå, å°†å°è¯´å, ç« èŠ‚åºå·, ç« èŠ‚åä½œä¸ºå‚æ•°ä¼ ç»™ parse_content() å‡½æ•°, ç»§è€Œå¯¹ç« èŠ‚è¿›è¡Œçˆ¬å–.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 from bs4 import BeautifulSoup as bs from biquge_dl.items import BiqugeDlItem class FictionSpider(scrapy.Spider): def parse_content(self, response, fiction_name, section_order, section_title): self.logger.info(\u0026#39;Parse content function called on %s\u0026#39;, response.url) contents = response.xpath(\u0026#39;//*[@id=\u0026#34;content\u0026#34;]/text()\u0026#39;).getall() if len(contents) \u0026lt;= 1: soup = bs(response.body, \u0026#39;html.parser\u0026#39;) contents = soup.find_all(\u0026#34;div\u0026#34;, {\u0026#34;class\u0026#34;: \u0026#34;box_con\u0026#34;}).get_text() item = BiqugeDlItem() item[\u0026#39;name\u0026#39;] = fiction_name item[\u0026#39;order\u0026#39;] = section_order item[\u0026#39;title\u0026#39;] = section_title item[\u0026#39;content\u0026#39;] = contents return item Items çš„ä½¿ç”¨ å†™ä¸Šè¿° parse_content() æ—¶å‘ç°, ç›´æ¥ä½¿ç”¨ scrapy å¯¹å°è¯´è¿›è¡Œç« èŠ‚çˆ¬å–, å¹¶æŒ‰ç« èŠ‚åæ¯ç« ä¸‹è½½æ˜¯å¾ˆç®€å•çš„, åªéœ€è¦ç›´æ¥è·‘çˆ¬è™«å°±å¯ä»¥, å„ä¸ªç« èŠ‚ä¼šä¹±åºä¸‹è½½ä¸‹æ¥, ä½†å¦‚æœæƒ³è¦åªä¸‹è½½ä¸€ä»½æ–‡ä»¶, æŒ‰é¡ºåºå­˜å‚¨ç« èŠ‚, é‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ scrapy çš„ items å’Œ pipelines äº†, è¿™ä¸¤ä¸ª .py æ–‡ä»¶ä¼šéšç€ä¸€å¼€å§‹å‘½ä»¤è¡Œåˆ›å»ºé¡¹ç›®æ—¶ä¸€å¹¶åˆ›å»º, æ‰€ä»¥å¯ä»¥å¾ˆè½»æ˜“åœ°åœ¨ biquge_dl/ æ–‡ä»¶å¤¹å†…æ‰¾åˆ°, åªéœ€è¦å¯¹è¿™ä¸¤ä¸ªæ–‡ä»¶è¿›è¡Œé‡å†™, å¹¶åœ¨ parse_content() ä¸­å°†å†…å®¹å†™è¿› item ä¸­, å°±èƒ½å®ç°å‚æ•°çš„ä¼ é€’.\næŸ¥é˜… å®˜æ–¹æ–‡æ¡£, å¯¹ Items çš„æè¿°å¦‚ä¸‹:\nThe main goal in scraping is to extract structured data from unstructured sources, typically, web pages.Â SpidersÂ may return the extracted data asÂ items, Python objects that define key-value pairs.\nScrapy supportsÂ multiple types of items. When you create an item, you may use whichever type of item you want. When you write code that receives an item, your code shouldÂ work for any item type.\nå¯è§ item å¯ä»¥å°†æå–çš„æ•°æ®æŒ‰ä¸€å®šæ ¼å¼è¿”å›, åªéœ€è¦è§„åˆ’å¥½ä¼ å…¥å‚æ•°, å°±å¯ä»¥åˆ©ç”¨ item å®ç°æ’åºçš„æ“ä½œ.\nItem pipeline çš„ä½¿ç”¨ å®˜æ–¹æ–‡æ¡£ è¿™æ ·ä»‹ç»:\nAfter an item has been scraped by a spider, it is sent to the Item Pipeline which processes it through several components that are executed sequentially.\nEach item pipeline component (sometimes referred as just â€œItem Pipelineâ€) is a Python class that implements a simple method. They receive an item and perform an action over it, also deciding if the item should continue through the pipeline or be dropped and no longer processed.\nTypical uses of item pipelines are:\ncleansing HTML data validating scraped data (checking that the items contain certain fields) checking for duplicates (and dropping them) storing the scraped item in a database æ„ä¸º, åœ¨ spider æŠ“å–ä¸€ä¸ª item å, scrapy é€šè¿‡ Item Pipeline æ¥å¤„ç†è¿™ä¸ª item, ç»“åˆæœ¬é¡¹ç›®, åªéœ€è¦å°†çˆ¬å–åˆ°çš„ item äº¤ç”± Item Pipeline ç»Ÿä¸€å¤„ç†å³å¯å®ç°æŒ‰é¡ºåºå­˜å‚¨çš„åŠŸèƒ½.\nä¼ é€’ç« èŠ‚å‚æ•°, å®ç°æŒ‰é¡ºåºä¿å­˜ ä¸ºäº†å®ç°ç« èŠ‚æŒ‰ç…§é¡ºåºå†™å…¥, é¦–å…ˆç¡®è®¤å®ç°æ€è·¯:\nåœ¨ items.py å®šä¹‰ä¸€ä¸ª Item ç±», è‡ªå®šä¹‰ä¼ å…¥å‚æ•°, ä»¥ä¾›è°ƒç”¨ åœ¨ pipelines.py å®šä¹‰ä¸€ä¸ª Pipeline ç±», å¯¹ä¼ å…¥çš„ item è¿›è¡Œå¤„ç† items.py æ‰“å¼€ items.py, æŒ‰ç…§ä¾‹å­åˆ›å»ºä¸€ä¸ªç»§æ‰¿ scrapy.Item çš„ BiqugeDlItem ç±», å¯¹ç±»è¿›è¡Œå‚æ•°çš„å®šä¹‰:\n1 2 3 4 5 6 7 8 class BiqugeDlItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() name = scrapy.Field() order = scrapy.Field() title = scrapy.Field() content = scrapy.Field() å¯è§, è¿™é‡Œå®šä¹‰äº†å‡ ä¸ªå‚æ•°, åˆ†åˆ«æ˜¯:\nname: å°è¯´å order: ç« èŠ‚åºå· title: ç« èŠ‚æ ‡é¢˜ content: ç« èŠ‚å†…å®¹ æ­¤æ—¶å†å›çœ‹ parse_content() å‡½æ•°, å‡½æ•°å®ä¾‹åŒ–äº†ä¸€ä¸ª BiqugeDlItem ç±», å¹¶å°†å°è¯´å, ç« èŠ‚åºå·, ç« èŠ‚æ ‡é¢˜ä»¥åŠçˆ¬å–å¾—åˆ°çš„ç« èŠ‚å†…å®¹å­˜å…¥äº† item ä¸­, æœ€ç»ˆå°†å­˜æœ‰å•ç« èŠ‚æ•°æ®çš„ item å¯¹è±¡è¿”å›.\npipelines.py æ‰“å¼€ pipelines.py, å®šä¹‰ä¸€ä¸ª BiqugeDlPipeline ç±», åœ¨ç±»ä¸­é‡å†™ open_spider(self, spider), process_item(self, item, spider) ä»¥åŠ close_spider(self, spider) å‡½æ•°, æ ¹æ®æ–‡æ¡£ä»‹ç»:\nopen_spider(self, spider) å‡½æ•°åœ¨çˆ¬è™«å¯åŠ¨æ—¶è¢«è°ƒç”¨ process_item(self, item, spider) å‡½æ•°å¤„ç†æ¯ä¸€ä¸ªè¿”å›çš„ item å¯¹è±¡ close_spider(self, spider) å‡½æ•°åœ¨çˆ¬è™«è¿è¡Œç»“æŸåè°ƒç”¨ ç»“åˆä»¥ä¸Šç‰¹ç‚¹, æˆ‘ä»¬å¯ä»¥åœ¨ pipielines.py ä¸­å®ç°å¯¹åŒ…å«å°è¯´å, ç« èŠ‚åºå·, ç« èŠ‚æ ‡é¢˜, ç« èŠ‚å†…å®¹çš„ item çš„å¤„ç†, ä»£ç å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 class BiqugeDlPipeline: def open_spider(self, spider): self.items = [] def process_item(self, item, spider): self.items.append(item) return item def close_spider(self, spider): self.items.sort(key=lambda i: i[\u0026#39;order\u0026#39;]) for item in self.items: # print(item[\u0026#39;title\u0026#39;]) with open(\u0026#39;downloads/{}.txt\u0026#39;.format(item[\u0026#39;name\u0026#39;]), \u0026#39;a\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: f.write(\u0026#39;\\n{}\\n\u0026#39;.format(item[\u0026#39;title\u0026#39;])) for content in item[\u0026#39;content\u0026#39;]: f.write(content.strip()) åœ¨ open_spider() ä¸­, å…ˆå®šä¹‰ä¸€ä¸ªç©ºåˆ—è¡¨, ç”¨äºå­˜å‚¨å„ä¸ª item, åœ¨ process_item() ä¸­, å°†ä¼ å…¥çš„ item æ·»åŠ è‡³ items åˆ—è¡¨ä¸­, åœ¨ close_spider() ä¸­, å¯¹ items åˆ—è¡¨è¿›è¡Œæ’åºæ“ä½œ, ç„¶åå°†åˆ—è¡¨ä¸­å†…å®¹å†™å…¥æœ€ç»ˆæ–‡ä»¶, å®ç°äº†å°è¯´çš„æŒ‰åºå­˜å‚¨. è‡³æ­¤, æ•´ä¸ªçˆ¬å–æµç¨‹ç»“æŸ.\nè¿è¡Œçˆ¬è™« è°ƒè¯•å®Œæˆå, åœ¨å‘½ä»¤è¡Œå¯åŠ¨çˆ¬è™«, æµ‹è¯•çˆ¬å–æ•ˆæœ:\n1 $ scrapy crawl fiction_spider -a url=https://www.biduoxs.com/biquge/79_79244/ æ€»ç»“ ç”±äºç–«æƒ…ç®¡æ§åœ¨å®¶è’åºŸäº†ä¸€æ®µæ—¶é—´, ä¸è¿‡å¥½åœ¨è¿˜ç®—æœ‰ä¸€ç‚¹æ®‹å­˜çš„è‡ªåˆ¶åŠ›, åŠªåŠ›å­¦ä¹ äº†ä¸€ç‚¹ä¸œè¥¿, è¿™ç¯‡åšå®¢åº”è¯¥ç®—æ˜¯æ‰‹æ•²çš„æœ€é•¿çš„ä¸€ç¯‡äº†, è™½ç„¶èŠ±çš„æ—¶é—´é•¿äº†ä¸€ç‚¹, ä½†æ˜¯æ€»å½’æ˜¯å­¦åˆ°äº†ä¸€äº›, ç‰¹åˆ«æ˜¯ç»“åˆæºç å’Œæ–‡æ¡£æ¥è¾¹æ€»ç»“è¾¹å­¦ä¹ , èƒ½å¤Ÿé¢†ä¼šåˆ°ä¸€äº›æ–°çŸ¥è¯†. è¿™æ˜¯å¯¹ç€ä¾‹ç¨‹æ•²ä»£ç æ‰€æ¯”è¾ƒéš¾å­¦åˆ°çš„.\n","date":"2022-05-17T14:13:36Z","permalink":"https://cgcel.github.io/posts/scrapy-%E5%88%9D%E4%B8%8A%E6%89%8B-%E7%88%AC%E5%8F%96%E5%B0%8F%E8%AF%B4%E8%AE%B0%E5%BD%95/","title":"Scrapy åˆä¸Šæ‰‹: çˆ¬å–å°è¯´è®°å½•"},{"content":"å¼€å¤´ ä¹‹å‰ç»™8Tåˆ·äº† Derpfest, ä¹Ÿæ˜¯åŸºäºA12 AOSPçš„ä¸€ä¸ªROM, ä½†æ˜¯å¼€å‘è€…åœ¨ç¾¤é‡Œè¯´å·²ç»ä¸å†ç»´æŠ¤, å‰å‡ å¤©ä¼‘æ¯åœ¨å®¶æ— èŠé€›äº†ä¸€ä¸‹xda, å‘ç°è¿™ä¸ªåŒ…ç‚¹å‡»é‡æŒºé«˜, äºæ˜¯å†³å®šç»™8Tæ¢ä¸€ä¸ªROM.\nå‡†å¤‡ ç¿»çœ‹ xda çš„ ROM å‘å¸ƒå¸–å­, åˆ·å…¥æ­¥éª¤æŒºç®€å•, æ²¡æœ‰ä»€ä¹ˆèŠ±é‡Œèƒ¡å“¨çš„, æŠŠåŒ…ä¸‹å¥½ä¹‹åå°±å¯ä»¥ç›´æ¥å¼€æ•´, å› ä¸ºæˆ‘çš„æœºå·²ç»è§£é”äº†, ä¹Ÿçœå»äº†å¾ˆå¤šç¹ççš„æ­¥éª¤.\nDownload recovery.img in download link Reboot phone to bootloader Open any terminal like cmd etc, enter \u0026ldquo;fastboot flash recovery recovery.img\u0026rdquo; Reboot phone to recovery and enter sideload mode Enter \u0026ldquo;adb sideload xxx\u0026rdquo; (xxx means the filename of rom zip you downloaded) Do factory reset in recovery (Mandatory for first time flash) Reboot You can also use rom installer to flash the way you did before.\nFor root: Download Magisk apk Rename it to xxx.zip Reboot to recovery and enter sideload mode Enter \u0026ldquo;adb sideload xxx.zip\u0026rdquo; (xxx means magisk file name) You can also patch boot.img and flash via fastboot.\næ­¥éª¤ ä¸‹è½½ ROM.zip ä»¥åŠ recovery.img, è€ƒè™‘åˆ°åç»­çš„ #root æ“ä½œ, è¿˜ä¸‹è½½äº†æœ€æ–°çš„ Magisk-v24.3. é‡å¯è‡³ bootloader å¹¶å¼€å§‹åˆ·æœº.\n1 2 3 4 5 adb devices adb reboot bootloader fastboot devices fastboot flash recovery recovery.img fastboot reboot recovery åœ¨ recovery ä¸­ç‚¹å‡» adb sideload, ç„¶åè¿›è¡Œä»¥ä¸‹æ“ä½œ:\n1 2 adb devices adb sideload ROM.zip å®Œæˆå, é‡å¯è¿›å…¥ç³»ç»Ÿ.\n3. (Optional) Root æ“ä½œ: å¼€æœºçŠ¶æ€ä¸‹, é€šè¿‡ adb æŒ‡ä»¤è¿›å…¥ recovery å¹¶æ‰“å¼€ adb sideload, ç„¶åè¿›è¡Œä»¥ä¸‹æ“ä½œ: shell adb devices adb sideload Magisk.img åˆ·å†™å®Œæ¯•å, é‡å¯è¿›å…¥ç³»ç»Ÿ, å®‰è£… magisk.apk å³å¯æŸ¥çœ‹ root çŠ¶æ€. æˆªå›¾ é‡å¯è¿›å…¥ç³»ç»Ÿ, å‡ å¤©ä½¿ç”¨ä½“éªŒä¸‹æ¥è¿˜æ¯”è¾ƒç¨³å®š, å½“ç„¶ä¹Ÿå¯èƒ½æ˜¯ç°åœ¨åªèƒ½æ¥å½“ä½œæ¸¸æˆæœºçš„åŸå› , Magisk æ¨¡å—ä¹Ÿæ²¡æœ‰åˆ·, app é‡Œçš„æ¨¡å—å•†åº—æ²¡æœ‰å†…å®¹, æˆ‘æœ‰ä¸€æ®µæ—¶é—´æ²¡åˆ·æœºäº†, ä¸çŸ¥é“æ˜¯å› ä¸ºä»€ä¹ˆ, ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹çš„.\næ‘†å¼„äº†ä¸€ä¸‹ Android 12 çš„å°ç»„ä»¶, æ„Ÿè§‰è¿˜æ˜¯æŒºå¥½çœ‹çš„, å°±æ˜¯æµªè´¹å±å¹•ç©ºé—´.\n","date":"2022-04-13T16:32:51+08:00","permalink":"https://cgcel.github.io/posts/%E4%B8%80%E5%8A%A0-8t-%E5%88%B7-nameless-aosp-%E8%AE%B0%E5%BD%95/","title":"ä¸€åŠ  8T åˆ· Nameless AOSP è®°å½•"},{"content":"èµ·å›  ç”±äºå‰ä¸€æ®µæ—¶é—´æ¢äº† iPhone, å¯¼è‡´åŸæœ¬æŠŠéŸ³ä¹æ–‡ä»¶å­˜åœ¨æœ¬åœ°å¬æ­Œçš„ç™½å«–ä¹ æƒ¯ä¸­æ–­äº†, ä½¿ç”¨ iTunes å®åœ¨æ˜¯ä¸æ–¹ä¾¿ (éœ€è¦å›ºå®šä¸€å° pc ç®¡ç†æœ¬åœ°éŸ³ä¹æ–‡ä»¶), åŠ ä¹‹ä¸æƒ³ç”¨ iCloud æœåŠ¡, å› æ­¤æˆ‘åœ¨ tg ä¸Šç”¨ç¼“å­˜å¬äº†ä¸€ä¸ªå¤šæœˆçš„æ­Œ\u0026hellip;\næ ‘è“æ´¾æ”¾åœ¨ä¸œèå®¶é‡Œ, ä¸€ç›´è·‘ç€ qbittorrent-nox ä»¥åŠ frps æœåŠ¡, è¿™ä¸¤ä¸ªéƒ½æ˜¯æ—¥å¸¸ä½¿ç”¨å¾ˆé¢‘ç¹çš„æœåŠ¡, æ ‘è“æ´¾è·‘èµ·æ¥ä¹Ÿæ˜¯ç»°ç»°æœ‰ä½™. æœ€è¿‘ç”±äºä¸œèç–«æƒ…, å·²ç»å¾ˆä¹…æ²¡æœ‰å›å», äºæ˜¯æ­£å¥½åœ¨ä¼‘æ¯æ—¥æŠ˜è…¾ä¸€ä¸‹å¾ˆä¹…æ²¡ç®¡çš„æ ‘è“æ´¾, ç»™æ ‘è“æ´¾è£…ä¸Š nextcloud, ç”¨æ¥å½“ä½œè‡ªå·±çš„ç½‘ç›˜, æŠŠéŸ³ä¹æ–‡ä»¶å­˜å…¥, æ–¹ä¾¿æ‰‹æœºåŒæ­¥.\nå®‰è£…è¿‡ç¨‹ å®‰è£…apache2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # 1.å®‰è£…å‘½ä»¤ sudo apt-get install apache2 # 2.å¯åŠ¨apache2 systemctl start apache2 # 3.è®¾ç½®apache2å¼€æœºè‡ªå¯ systemctl enable apache2 # é™„ä¸Šå…¶ä»–å‘½ä»¤ # æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ systemctl status apache2 # é‡å¯ systemctl restart apache2 # åœæ­¢ systemctl stop apache2 å®‰è£…php 1 2 3 4 5 # 1.å®‰è£…php sudo apt-get install php libapache2-mod-php -y # 2.å®‰è£…å…¶ä»–ç»„ä»¶ sudo apt-get -y install php-fpm php-cli php-json php-curl php-imap php-gd php-mysql php-xml php-zip php-intl php-imagick php-mbstring -y å®‰è£…mariadb 1 2 3 4 5 6 7 8 9 10 11 12 # 1.å®‰è£… sudo apt-get install mariadb-server -y # 2.å¼€å¯è¿œç¨‹ç™»é™†æƒé™ # 2.1 åˆ‡æ¢ç›®å½• d /etc/mysql/mariadb.conf.d # 2.2 æ‰¾åˆ°ä¿®æ”¹æƒé™çš„æ–‡ä»¶ grep -rn \u0026#34;skip-networking\u0026#34; * # æ˜¾ç¤ºå¦‚ä¸‹ï¼šåœ¨50-server.cnfæ–‡ä»¶çš„ç¬¬26è¡Œ 50-server.cnf:26:# Instead of skip-networking the default is now to listen only on # 2.3 ç¼–è¾‘æ–‡ä»¶ï¼Œæ³¨é‡Šæ‰ bind-address = 127.0.0.1 sudo nano 50-server.cnf åˆ›å»ºæ•°æ®åº“ç”¨æˆ·ä»¥åŠæ·»åŠ æ•°æ®åº“\n1 2 3 4 5 6 7 8 9 10 11 12 # ç›´æ¥å›è½¦ ä¸éœ€è¦è¾“å…¥å¯†ç  mysql -uroot -p # accountå¯æ›¿æ¢æˆè‡ªå®šä¹‰çš„ç”¨æˆ·åï¼Œpasswordå¯æ›¿æ¢æˆè‡ªå®šä¹‰çš„å¯†ç  create database nextcloud; CREATE USER \u0026#39;account\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;password\u0026#39;; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;oc_admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION; flush privileges; CREATE USER \u0026#39;account\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;password\u0026#39;; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;account\u0026#39;@\u0026#39;localhost\u0026#39; WITH GRANT OPTION; flush privileges; å®‰è£…nextcloud ä»å®˜ç½‘ä¸‹è½½ .tar.bz2 çš„å‹ç¼©åŒ…\nä¸‹è½½å®Œæˆå, éœ€è¦ä¸Šä¼ åˆ°æ ‘è“æ´¾çš„ /var/www/html/ ç›®å½•ä¸‹. ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤.\n1 2 3 4 5 6 7 8 9 10 # 1.è§£å‹æ–‡ä»¶ tar jxf nextcloud-21.0.0.tar.bz2 # 2.æ·»åŠ dataç›®å½•å’Œæˆæƒ chown -R root:root nextcloud # 3.è¿›å…¥nextcloudæ–‡ä»¶å¤¹ cd nextcloud # 4.åˆ›å»ºæ•°æ®æ–‡ä»¶å¤¹ mkdir data # 5.æ·»åŠ æƒé™å’Œæˆæƒ chown -R www-data:www-data data config apps (å¯é€‰) å¦‚æœæ˜¯åœ¨érootæƒé™ä¸‹æ“ä½œ, å¯ä»¥å…ˆä¸Šä¼ è‡³æ ‘è“æ´¾, å‰ªåˆ‡åˆ° /var/www/html/ ç›®å½•åå†è¿›è¡Œè§£å‹.\nåˆå§‹åŒ–nextcloud å‡†å¤‡ åˆå§‹åŒ–å‰, ç”±äºæˆ‘çš„æ ‘è“æ´¾å¼€å¯äº†ufw, æ‰€ä»¥å…ˆå¼€å¯é˜²ç«å¢™ç«¯å£ç™½åå•:\n1 sudo ufw allow 80/tcp ç”±äºæˆ‘çš„æ ‘è“æ´¾æŒ‚è½½ä¸€ä¸ª1TBçš„ç§»åŠ¨ç¡¬ç›˜, ä¸ºäº†å……åˆ†åˆ©ç”¨ä»¥åŠé¿å…åç»­æ“ä½œ, å…ˆè®¾ç½®å¥½ç¡¬ç›˜å¼€æœºè‡ªåŠ¨æŒ‚è½½. é¦–å…ˆåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥:\n1 df -a å¯ä»¥çœ‹åˆ°, å›¾ä¸­æˆ‘å·²ç»å¯¹1TBçš„ç§»åŠ¨ç¡¬ç›˜ /dev/sda1 è¿›è¡Œäº†æŒ‚è½½, æŒ‚è½½ç›®å½•ä¸ºäº‹å…ˆåˆ›å»ºå¥½çš„ç›®å½• /mnt/usb-1.\næ¥ç€, å‘½ä»¤è¡Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤, æŸ¥çœ‹ç§»åŠ¨ç¡¬ç›˜æ ¼å¼:\n1 sudo fdisk -l ä»ä¸Šå›¾å¯ä»¥çœ‹å‡º, æˆ‘çš„ç§»åŠ¨ç¡¬ç›˜ä¸ºNTFSæ ¼å¼, æ¥ä¸‹æ¥å¯»æ‰¾æˆ–è€…åˆ›å»ºä¸€ä¸ªè‡ªå·±æƒ³è¦æŒ‚è½½çš„ç›®å½•, ç„¶åç¼–è¾‘ /etc/fstab, åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹:\n1 /dev/sda1 /mnt/usb-1 ntfs defaults 0 0 ä¿å­˜é€€å‡ºå, å‘½ä»¤è¡Œè¾“å…¥ sudo mount -a, æŒ‚è½½å, è¾“å…¥ df -a æŸ¥çœ‹æ˜¯å¦æˆåŠŸæŒ‚è½½.\n(å¯é€‰) é€šè¿‡åŸŸåè®¿é—® ç”±äºä¹‹å‰æ‰¾ç”µä¿¡è¦äº†å…¬ç½‘ip, æ ‘è“æ´¾åŠ¨æ€ç»‘å®šäº†é˜¿é‡Œäº‘åŸŸå, è¿™é‡Œé€šè¿‡æ·»åŠ è·¯ç”±å™¨è™šæ‹ŸæœåŠ¡å™¨, å¦‚ä¸‹å›¾æ‰€ç¤º, å¤–éƒ¨ç«¯å£é€‰æ‹©è‡ªå·±æƒ³è¦æ˜ å°„çš„ç«¯å£, å†…éƒ¨æœåŠ¡å™¨IPå¡«å†™æ ‘è“æ´¾åœ¨å®¶ä¸­å±€åŸŸç½‘çš„IP, å¯ç”¨åä¾¿å¯åœ¨å…¬ç½‘é€šè¿‡ åŸŸå:å¤–éƒ¨ç«¯å£/nextcloud çš„æ–¹å¼è®¿é—®nextcloudé¡µé¢.\nåˆå§‹åŒ– åœ¨å®Œæˆäº†ä¸Šè¿°å‡†å¤‡å, ä¾¿å¯ä»¥è¿›è¡Œnextcloudçš„åˆå§‹åŒ–. åœ¨å±€åŸŸç½‘ä¸­è®¿é—® æ ‘è“æ´¾IP:80/nextcloud æˆ–åœ¨å…¬ç½‘ä¸­è®¿é—® åŸŸå:å¤–éƒ¨ç«¯å£/nextcloud å³å¯.\nåœ¨åˆå§‹åŒ–é¡µé¢ä¸­, æ ¹æ®å®é™…æƒ…å†µå¡«å†™ç›¸å…³è¾“å…¥æ¡†:\nNTFSæŒ‚è½½çš„ä¸€äº›é—®é¢˜ ç”±äºæŒ‚è½½æ ¼å¼æ˜¯NTFS, å¯¼è‡´åˆå§‹åŒ–å®Œæˆå, é¡µé¢æ˜¾ç¤º æ‚¨çš„æ•°æ®ç›®å½•å¯è¢«å…¶ä»–ç”¨æˆ·è¯»å–, è¯·æ›´æ”¹æƒé™ä¸º0770ä»¥é¿å…å…¶ä»–ç”¨æˆ·æŸ¥çœ‹ç›®å½•, ç»æŸ¥è¯¢, å¯ä»¥ä¿®æ”¹nextcloudç›®å½•ä¸‹çš„ config/config.php æ¥è§£å†³, æŒ‰ç…§æˆ‘çš„å®‰è£…ç›®å½•, å®šä½è‡³ /var/www/html/nextcloud/config , ç¼–è¾‘ config.php, åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹:\n1 \u0026#39;check_data_directory_permissions\u0026#39; =\u0026gt; false, ä¿å­˜å…³é—­å, åˆ·æ–°nextcloudé¡µé¢, é—®é¢˜è§£å†³.\nä½¿ç”¨ ä¸Šä¼ éŸ³ä¹æ–‡ä»¶ åœ¨PCç«¯, å°†æœ¬åœ°éŸ³ä¹æ–‡ä»¶ä¸Šä¼ è‡³nextcloud.\nå¹¶å°†å­˜æ”¾éŸ³ä¹çš„nextcloudæ–‡ä»¶å¤¹æ·»åŠ è‡³æœ¬åœ°.\nç§»åŠ¨ç«¯ä½¿ç”¨ åœ¨æ‰‹æœºç«¯ä¸‹è½½evermusic, é€šè¿‡webdevè¿æ¥nextcloud, æ³¨æ„urlä¸€æ å¡«å†™: xxx:port/nextcloud/remote.php/webdev, å…¶ä»–çš„æŒ‰ç…§ä¸ªäººè®¾ç½®å¡«å†™.\nè¿æ¥ä¸Šnextcloudå, å³å¯éšå¿ƒæ‰€æ¬²å¬æ­Œ, ä¹Ÿå¯ä»¥é€‰æ‹©å°†æ­Œæ›²ä¸‹è½½è‡³æœ¬æœº.\nPCç«¯ åœ¨è®¾ç½®åŒæ­¥çš„æ–‡ä»¶å¤¹ä¸­, ä½¿ç”¨ PotPlayer æ‰“å¼€æ‰€æœ‰æ–‡ä»¶\nç»“å°¾ ç»è¿‡ä¸€ç•ªæŠ˜è…¾, ç»ˆäºæ¯”è¾ƒä¼˜é›…åœ°å®ç°äº†æŠŠéŸ³ä¹æ–‡ä»¶å­˜åˆ°iPhoneçš„åŠŸèƒ½, åšæŒæ¢å¤è¿™ç§æ–¹å¼æ¥å¬æ­Œçš„èµ·å› ä¹Ÿå¾ˆç®€å•, é‚£å°±æ˜¯ç½‘æ˜“äº‘æ—¶ä¸æ—¶å°±ä¸‹æ¶æˆ‘æ­Œå•çš„æ­Œ, å› æ­¤æˆ’æ‰ç½‘æ˜“äº‘, QQä¹Ÿæ˜¯ç†æ‰€å½“ç„¶çš„.\nå‚è€ƒå†…å®¹ https://cynosure.online/2021/08/16/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%90%AD%E5%BB%BANextcloud%E7%A7%81%E6%9C%89%E4%BA%91 https://its401.com/article/jdyanghang/102828553 ","date":"2022-03-21T21:54:49+08:00","permalink":"https://cgcel.github.io/posts/%E6%A0%91%E8%8E%93%E6%B4%BE-4-%E5%AE%89%E8%A3%85-nextcloud-%E8%AE%B0%E5%BD%95/","title":"æ ‘è“æ´¾ 4 å®‰è£… nextcloud è®°å½• (édockerå®‰è£…æ³•)"},{"content":"å‰è¨€ åœ¨è¯•ç”¨äº†ä¸€å¤©å¤š ColorOS ä¹‹å, é‰´äºå…¶åå°ç®¡ç†è¿‡äºä¸¥æ ¼, æˆ‘åˆè¶åˆä¼‘æ—¶é—´åˆ·å›äº† OOS, ä¹‹å‰å·²ç»æœ‰äº†ç”¨ TWRP ä¿ç•™ root çš„å…¨é‡åŒ…æ›´æ–°ç»éªŒå’Œæ–‡ç« , æœ¬ç¯‡åªæƒ³å¿«é€Ÿè®°å½•ä¸€ä¸‹.\nå‡†å¤‡å·¥ä½œ 9008 çº¿åˆ·åŒ… (OOS) payload_dumper Magisk-v23.0.apk æ­¥éª¤ æ­¥éª¤ä¸€: åˆ·å› OOS è¿›å…¥ å¼€å‘è€…é€‰é¡¹, å‹¾é€‰ å…è®¸ OEM è§£é”, å¼€å¯ USB è°ƒè¯•, ç„¶åå…³æœºé™ç½®. åŒæ—¶æŒ‰ä½ éŸ³é‡+ å’Œ éŸ³é‡-, ç„¶åç”¨ USB çº¿è¿æ¥ç”µè„‘, å¼€å¯ 9008 çº¿åˆ·, åˆ·æœºå®Œæ¯•åé‡å¯è¿›å…¥ç³»ç»Ÿ. æ­¥éª¤äºŒ: è§£é” OOS å¹¶ ROOT è¿›å…¥ å¼€å‘è€…é€‰é¡¹, å‹¾é€‰ å…è®¸ OEM è§£é”, å¼€å¯ USB è°ƒè¯•, ç„¶åè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤:\n1 2 3 4 adb devices adb reboot bootloader fastboot devices fastboot oem unlock ä½¿ç”¨ \u0026ldquo;éŸ³é‡é”®\u0026rdquo; å’Œ \u0026ldquo;ç”µæºé”®\u0026rdquo; ç¡®å®šè§£é”æ‰‹æœº, ç„¶åå®Œæˆåˆå§‹åŒ–è¿›å…¥ç³»ç»Ÿ.\nrootæ­¥éª¤å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« , æ­¤å¤„çœç•¥.\næ­¥éª¤ä¸‰: æ›´æ–°ç³»ç»Ÿ ä¸‹è½½è¦æ›´æ–°çš„å…¨é‡åŒ…, å¤åˆ¶å¤šä¸€ä»½è‡³ç”µè„‘æˆ–æ‰‹æœº (å–å†³ä½ ä»å“ªä¸€ç«¯ä¸‹è½½)\nåœ¨ç”µè„‘ç«¯, ä½¿ç”¨ payload_dumper æå– OOS.zip çš„ boot.img, å¹¶å°†å…¶å¤åˆ¶åˆ°æ‰‹æœºå­˜å‚¨ä¸­.\nå®‰è£…å¹¶æ‰“å¼€ Magisk, é€‰æ‹© \u0026ldquo;å®‰è£…\u0026rdquo;, \u0026ldquo;é€‰æ‹©å¹¶ä¿®è¡¥ä¸€ä¸ªæ–‡ä»¶\u0026rdquo;, é€‰æ‹©ç½®å…¥æ‰‹æœºçš„ \u0026ldquo;boot.img\u0026rdquo;, æœ€åç‚¹ \u0026ldquo;å¼€å§‹\u0026rdquo;, Magisk ä¼šç”Ÿæˆä¸€ä¸ªç±»ä¼¼äº magisk_patched-xxx.img çš„æ–‡ä»¶, å°†å…¶å¤åˆ¶ä¸€ä»½åˆ°ç”µè„‘:\nå®‰è£…ç³»ç»Ÿæ›´æ–°, å®‰è£…å®Œæ¯•åé‡å¯è¿›å…¥ç³»ç»Ÿæ¡Œé¢:\næ£€æŸ¥ root æƒé™, å‘ç°æ­¤æ—¶æ˜¯æ²¡æœ‰ root çš„:\nåˆ·å…¥ magisk_patched-xxx.img, æ ¹æ®ä»¥ä¸‹æŒ‡ä»¤å®Œæˆ:\n1 2 3 4 adb devices adb reboot bootloader fastboot devices fastboot flash boot magisk_patched-xxx.img åˆ·å…¥å®Œæˆå, é‡å¯è¿›å…¥ç³»ç»Ÿ, æ‰“å¼€ \u0026ldquo;è®¾ç½®\u0026rdquo; ä»¥åŠ \u0026ldquo;Magisk Manager\u0026rdquo; æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ä»¥åŠ root æƒ…å†µ:\nç»“å°¾ è‡³æ­¤, æˆåŠŸå°è¯•äº† OOS çš„å…¨é‡åŒ…æ›´æ–°å¹¶ä¿æŒ ROOT æƒé™, ä¹‹å‰æ˜¯ä¾é  TWRP ä»¥åŠ Magisk ä¸­çš„æ¨¡å—è‡ªåŠ¨åŒ–å®Œæˆçš„, è¿™æ¬¡å…¨éƒ¨è‡ªå·±æ“ä½œ, è¿˜æ˜¯ç§¯ç´¯åˆ°ä¸€ç‚¹ç»éªŒçš„.\n","date":"2021-05-22T00:00:00Z","permalink":"https://cgcel.github.io/posts/%E4%B8%80%E5%8A%A0-8t-%E5%85%A8%E9%87%8F%E5%8C%85%E5%8D%87%E7%BA%A7%E5%B9%B6%E4%BF%9D%E7%95%99-root/","title":"ä¸€åŠ  8T å…¨é‡åŒ…å‡çº§å¹¶ä¿ç•™ ROOT"},{"content":"å‰è¨€ è·ç¦»ä¸€åŠ  8T çš„å‘å¸ƒå·²ç»è¿‡å»äº†å¤§åŠå¹´, æ®è¯´ä¸€åŠ  8T çš„ ColorOS ä¼šåœ¨6æœˆåº•é‡Šå‡º, å¤§å®¶éƒ½è¯´å¤§æ°¢äº¡äº†ğŸ¥´, ä½†æ˜¯æˆ‘ä¸ç”¨æ°¢å•ŠğŸ¤¡, åŠ ä¸Šæ°§æœ€è¿‘ä¹Ÿç”¨çš„æœ‰äº›è…»äº†, æ­£å¥½å‰ä¸€æ®µæ—¶é—´å…³æ³¨åˆ° 8T çš„ xda è®ºå› æŒºæ´»è·ƒçš„, å·²ç»æœ‰ä¸å°‘çš„ ROM å¯ä»¥åˆ·äº†:\näºæ˜¯æˆ‘å°±æ‰“ç®—åˆ©ç”¨ç©ºé—²æ—¶é—´åˆ·ä¸€åˆ·æ‰‹é‡Œçš„ 8T è§£è§£é¦‹, ç©ç´¯äº†æ­£å¥½å› ColorOS (å¦‚æœä¸€åŠ ä¸é¸½çš„è¯\u0026hellip;)\næœ¬ç¯‡å°†åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†æ¥è®°å½•, åˆ†åˆ«æ˜¯:\nOOS åˆ· LOS çš„è®°å½• LOS åˆ·å› OOS å¹¶ root çš„è®°å½• OOS åˆ· LOS å‡†å¤‡ åœ¨å‡†å¤‡åˆ·æœºå‰, æˆ‘ä»¬éœ€è¦ å¤‡ä»½å¥½æ•°æ®, å¹¶å®‰è£…æˆ–ä¸‹è½½å¥½ä»¥ä¸‹å†…å®¹ (ä¸‹è½½åŒ…ä»¥æœ¬ç¯‡åšå®¢æ—¥æœŸä¸ºå‡†, å¦‚å‚è€ƒåˆ™éœ€å°½é‡ä¸‹è½½æœ€æ–°åŒ…):\nadb (åŸºæœ¬æ“ä½œäº†, æ²¡æœ‰adbå°±æ— æ³•é€šè¿‡æŒ‡ä»¤æ§åˆ¶æ‰‹æœº) 9008æ•‘ç –åŒ… (éšæ—¶å‡†å¤‡å¥½æ•‘ç –) lineage-18.1-20210513-nightly-kebab-signed.zip lineage-18.1-20210513-recovery-kebab.img copy-partitions-20210323_1922.zip GAPPS Magisk-v23.0.apk å…·ä½“æ­¥éª¤ è¯¦ç»†åˆ·æœºæ­¥éª¤å‚è€ƒ å®˜æ–¹æ–‡æ¡£ , ä¸‹é¢æˆ‘å°†æŒ‰ç…§å…·ä½“æŒ‡ä»¤æ¥æ€»ç»“, è¿™æ ·æ¯”è¾ƒæ˜äº†, ä¸ç”¨çœ‹è¯¦ç»†çš„æ–‡å­—è§£é‡Š:\nè¿›å…¥ å¼€å‘è€…é€‰é¡¹ å¹¶å¼€å¯ OEM è§£é” ä»¥åŠ USBè°ƒè¯•\næ£€æµ‹ adb è¿æ¥æƒ…å†µåè¿›å…¥ bootloader, ç„¶åè§£é”æ‰‹æœº:\n1 2 3 4 adb devices adb reboot bootloader fastboot devices fastboot oem unlock é€šè¿‡éŸ³é‡é”®å’Œç”µæºé”®, å°†æ‰‹æœºè§£é”, æ‰‹æœºå°†æ¸…é™¤æ‰€æœ‰æ•°æ®, å®Œæˆåˆå§‹åŒ–å, ç»§ç»­è¿›å…¥ å¼€å‘è€…é€‰é¡¹ å¹¶å¼€å¯ OEM è§£é” ä»¥åŠ USBè°ƒè¯•\né‡å¯è‡³ bootloader, åˆ·å…¥ recovery:\n1 2 3 4 5 adb devices adb reboot bootloader fastboot devices fastboot flash recovery lineage-18.1-20210513-recovery-kebab.img fastboot reboot recovery åœ¨ recovery ä¸­, å°† Aåˆ†åŒºæ•°æ®å¤åˆ¶åˆ° Båˆ†åŒº, é¿å…Båˆ†åŒºå›ºä»¶å¤ªä¹…å¯¼è‡´é»‘ç –, ç‚¹å‡» \u0026ldquo;Apply Update\u0026rdquo;, ç„¶åç‚¹å‡» \u0026ldquo;Apply from ADB\u0026rdquo;:\n1 adb sideload copy-partitions-20210323_1922.zip ç­¾åéªŒè¯å¤±è´¥çš„è¯, ç‚¹å‡» \u0026ldquo;Yes\u0026rdquo; ç»§ç»­åˆ·å…¥å³å¯.\nç‚¹å‡» \u0026ldquo;Advanced\u0026rdquo;, ç„¶åç‚¹å‡» \u0026ldquo;Reboot to recovery\u0026rdquo;\nåœ¨ recovery ä¸»ç•Œé¢ ç‚¹å‡» \u0026ldquo;Factory Reset\u0026rdquo; åŒæ¸… (ä¸èƒ½æ¼è¿™ä¸€æ­¥, æŸåˆ™è„åˆ·å°†å¯¼è‡´å„ç§é—®é¢˜, æˆ‘ç¬¬ä¸€æ¬¡åˆ·å¿˜è®°åŒæ¸…, ç›´æ¥ boot loop åŠ å®šä½å¤±çµ), ç„¶åç‚¹å‡» \u0026ldquo;Apply Update\u0026rdquo;, ç‚¹å‡» \u0026ldquo;Apply from ADB\u0026rdquo; è¿›å…¥ adb sideload æ¨¡å¼åˆ·å…¥ LineageOS:\n1 adb sideload lineage-18.1-20210513-nightly-kebab-signed.zip ç­¾åéªŒè¯å¤±è´¥çš„è¯, ç‚¹å‡» \u0026ldquo;Yes\u0026rdquo; ç»§ç»­åˆ·å…¥å³å¯.\n(å¯é€‰æ“ä½œ): åˆ·å…¥é¢å¤–çš„åŒ…, å¦‚ GAPPS, Magiskç­‰:\nå¦‚æœè¦åˆ· GAPPS, éœ€è¦åœ¨é‡å¯è¿›å…¥ç³»ç»Ÿå‰å°†å…¶åˆ·å…¥, å…¶ä»–åŒ…åˆ™å¯ä»¥åœ¨é€šè¿‡ç³»ç»Ÿåˆå§‹åŒ–åé‡å¯è‡³ recovery å†åˆ·.\nä¸‹é¢å°†ä»¥æœ¬æ¬¡åˆ·æœºä¸ºä¾‹, è®°å½•åˆ·å…¥ GAPPS å’Œ Magisk çš„è¿‡ç¨‹:\né‡å¯è‡³ recovery, ç„¶åè¿›å…¥ sideload æ¨¡å¼:\n1 adb sideload MindTheGapps-11.0.0-arm64-20210412_124247.zip åœ¨ recovery ä¸»èœå•ç‚¹å‡» \u0026ldquo;Reboot system now\u0026rdquo;, å³å¯å¼€æœºè¿›å…¥ç³»ç»Ÿ, å®Œæˆåˆå§‹åŒ–åæ£€æŸ¥è°·æ­Œå…¨å®¶æ¡¶èƒ½å¦æ­£å¸¸è¿è¡Œ, æ— è¯¯åç»§ç»­ä»¥ä¸‹æ­¥éª¤:\n1 2 adb install Magisk-v23.0.apk adb reboot recovery é‡å¯è‡³ recovery å, è¿›å…¥ sideload æ¨¡å¼, åŒæ—¶å°†ç”µè„‘ä¸­çš„ Magisk-v23.0.apk å¤åˆ¶ä¸€ä»½, æ”¹åä¸º Magisk-v23.0.zip:\n1 adb sideload Magisk-v23.0.zip åœ¨ recovery ä¸»èœå•ç‚¹å‡» \u0026ldquo;Reboot system now\u0026rdquo;, å³å¯å¼€æœºè¿›å…¥ç³»ç»Ÿ.\nå‘ç°çš„é—®é¢˜ åˆ· LOS çš„è¿‡ç¨‹ä¸­å‘ç°äº†ä¸¤ä¸ªé—®é¢˜, é—®é¢˜å’Œè§£å†³æ–¹æ³•å¦‚ä¸‹:\nå®šä½ä¸æ­£å¸¸\nç¬¬ä¸€æ¬¡åˆ·å…¥æ—¶å¿˜è®°åŒæ¸…, å¼€æœºç›´æ¥ boot loop, è§£å†³åè¿›å…¥ç³»ç»Ÿ, ç¬¬äºŒå¤©ä¸Šç­æ—¶å·®ç‚¹é’‰é’‰æ‰“å¡æ— æ³•å®šä½\u0026hellip;\nè§£å†³æ–¹æ³•: åˆ·å…¥ LOS å‰åŒæ¸…, åˆ‡å¿Œ dirty flash.\nç§»åŠ¨ç½‘ç»œç½‘é€Ÿä¸æ­£å¸¸\nç¬¬äºŒæ¬¡åˆ·å…¥æ—¶ä¸€åˆ‡æ­£å¸¸, ä½†åˆ‡æ¢è‡³ç§»åŠ¨ç½‘ç»œæ—¶ç½‘é€Ÿåªæœ‰ 200+k/s, æ˜æ˜¾ä¸æ˜¯5Gè¯¥æœ‰çš„ç½‘é€Ÿ, ååˆ°lineageçš„ reddit è®ºå›ä¸­å‘ç°æœ‰äººæœ‰ åŒæ ·çš„æƒ…å†µ, åªéœ€æ ¹æ®è¿è¥å•†ä¿®æ”¹ APN å³å¯. åˆ·å› OOS å, æˆ‘è¿›å…¥è®¾ç½®å¯¹é»˜è®¤ APN è¿›è¡Œäº†æˆªå›¾ (æ­¤å¤„ä»¥è”é€šä¸ºä¾‹).\nè§£å†³æ–¹æ³•: åˆ·å…¥ LOS åè¿›å…¥è®¾ç½®, æŒ‰ç…§æˆªå›¾ä¿®æ”¹å‚æ•°å³å¯.\næˆªå›¾ æ­£å¸¸ä½¿ç”¨åçš„ä¸€äº›æˆªå›¾å¦‚ä¸‹:\nä¿®æ”¹ APN åçš„ speedtest:\næ›´æ–°ç•Œé¢:\nMagisk ç•Œé¢:\nLOS å› OOS å¹¶ ROOT å‡†å¤‡ adb (åŸºæœ¬æ“ä½œäº†, æ²¡æœ‰adbå°±æ— æ³•é€šè¿‡æŒ‡ä»¤æ§åˆ¶æ‰‹æœº) 9008æ•‘ç –åŒ… (éšæ—¶å‡†å¤‡å¥½æ•‘ç –) Magisk-v23.0.apk OOSå…¨é‡åŒ… (è¿™é‡Œç”¨çš„æ˜¯ OOS Open Beta 4) Payload Dumper for Win å…·ä½“æ­¥éª¤ ä»¥ä¸‹æ­¥éª¤ä»¥ LOS åˆ·è‡³ OOS ä¸ºä¾‹, åˆ·æœºå‰è®°å¾— åšå¥½å¤‡ä»½.\nå‚è€ƒè§†é¢‘: https://www.youtube.com/watch?v=zKd_mO7f1eM\nå…³æœº, é™ç½®æ‰‹æœºå¾…å…¶å®Œå…¨å…³é—­, ç”µè„‘è§£å‹å¹¶æ‰“å¼€ä¸‹è½½å¥½çš„ æ•‘ç –åŒ…, æ‰“å¼€ MsmDownloadTool V4.0.exe, é€‰æ‹© Otherå¹¶ä¸‹ä¸€æ­¥, target é¡¹é€‰æ‹© O2, è¡¨ç¤ºåˆ·å…¥ OOS.\nåŒæ—¶æŒ‰ä¸‹æ‰‹æœºçš„ éŸ³é‡+ å’Œ éŸ³é‡-, æ’å…¥ USB çº¿ä¸ç”µè„‘è¿æ¥, å¾…å‡ºç° COM å£å, ç‚¹å‡» start, çœ‹åˆ°å¼€å§‹åŠ è½½è¿›åº¦æ¡åæ–¹å¯æ¾å¼€éŸ³é‡é”®, ç­‰å¾…åˆ·æœºå®Œæ¯•å, æ‰‹æœºå°†æ¸…é™¤æ‰€æœ‰æ•°æ®å¹¶è‡ªåŠ¨é‡å¯.\nå®Œæˆåˆå§‹åŒ–åè¿›å…¥ç³»ç»Ÿ, æ‰“å¼€ å¼€å‘è€…é€‰é¡¹ å¹¶å‹¾é€‰ OEM è§£é” ä»¥åŠ USB è°ƒè¯•.\nè§£é”æ‰‹æœº:\n1 2 3 4 adb decices adb reboot bootloader fastboot devices fastboot oem unlock é€šè¿‡éŸ³é‡é”®å’Œç”µæºé”®ç¡®è®¤è§£é”æ‰‹æœº, ç„¶åå®Œæˆåˆå§‹åŒ–è¿›å…¥ç³»ç»Ÿ.\nå°†ä¸‹è½½å¥½çš„ OOS Open Beta 4 å…¨é‡åŒ…æ”¾å…¥æ‰‹æœºæ ¹ç›®å½•, è¿›å…¥è®¾ç½®, ç³»ç»Ÿå‡çº§, é€‰æ‹© ä»æœ¬åœ°æ›´æ–°, ç„¶åé€‰æ‹©æ ¹ç›®å½•ä¸­çš„å…¨é‡åŒ…è¿›è¡Œ full update, å®‰è£…å®Œæ¯•åé‡å¯æ‰‹æœº.\nåœ¨ç”µè„‘ç«¯, å°†ä¸‹è½½å¥½çš„ OOS å…¨é‡åŒ…ä¸­çš„ payload.bin ç½®å…¥ \u0026ldquo;/payload_dumper-win64\u0026rdquo; çš„ \u0026ldquo;/input\u0026rdquo; æ–‡ä»¶å¤¹ä¸­, è¿è¡Œ payload_dumper.exe, è¿è¡Œå®Œæ¯•å, åœ¨ \u0026ldquo;/output\u0026rdquo; ä¸­æ‰¾åˆ° boot.img å¹¶å¤åˆ¶åˆ°æ‰‹æœºç›®å½•ä¸­, å¦‚ \u0026ldquo;/Download\u0026rdquo; ä¸­.\nå®‰è£…å¹¶æ‰“å¼€ \u0026ldquo;Magisk Manager\u0026rdquo;, åœ¨é¦–é¡µç‚¹å‡» \u0026ldquo;å®‰è£…\u0026rdquo;, é€‰æ‹© \u0026ldquo;é€‰æ‹©å¹¶ä¿®è¡¥ä¸€ä¸ªæ–‡ä»¶\u0026rdquo;, é€‰æ‹© \u0026ldquo;/Download/boot.img\u0026rdquo; åç‚¹å‡» \u0026ldquo;å¼€å§‹\u0026rdquo;, Magisk Manager å°†ç”Ÿæˆä¸€ä¸ªå‘½åç±»ä¼¼ magisk_patch.img çš„æ–‡ä»¶åœ¨ \u0026ldquo;/Download\u0026rdquo; ä¸­, å°†å…¶å¤åˆ¶è¿›ç”µè„‘.\nå°†æ‰‹æœºè¿æ¥è‡³ç”µè„‘, è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤:\n1 2 3 4 adb devices adb reboot bootloader fastboot devices fastboot flash boot magisk_patch.img åˆ·å…¥å®Œæ¯•åé‡å¯è‡³ç³»ç»Ÿ, æ‰“å¼€ Magisk Manager æ£€æŸ¥ root çŠ¶æ€.\nç»“å°¾ Root ä¹‹å, åˆå¯ä»¥ç©å›å¾ˆå¤šä»¥å‰çš„ä¸œè¥¿äº†, æ¯”å¦‚æŠŠå­—ä½“æ”¹æˆ Ubuntu æ ¼å¼, å¯ç”¨é»‘åŸŸ, Swift Backup, Quick Switchç­‰ç­‰, å€’æ˜¯æœ€è¿‘çš„ Xposed æ¡†æ¶åˆæœ‰æ–°çš„ LSPosed, ç®€ç§° \u0026ldquo;LSP\u0026rdquo;, æ˜¯ä¸ªè½»é‡çº§çš„æ¡†æ¶, æ¨¡å—å•†åº—çš„æ¨¡å—è¿˜å¾ˆå°‘, ä½†æ˜¯è£…ä¸ª WX æ¨¡å—è¿˜æ˜¯ç»°ç»°æœ‰ä½™çš„.\nå†è¯´åˆ°åŠ¨ç”»æ–¹é¢, LOS çš„åŠ¨ç”»æµç•…åº¦ç®€ç›´åŠæ‰“ OOS çš„, å°±æ¯”å¦‚ç‚¹å¼€å¾®ä¿¡ä¿¡æ¯æ¨é€å’Œæ¨ªå±è¿”å›æ¡Œé¢çš„åŠ¨ç”», ä¸€ç»æ¯”è¾ƒä¾¿é«˜ä¸‹ç«‹åˆ¤, OOS å°ä¿®å°è¡¥è¿™ä¹ˆä¹…, è¿™ä¸ªå¯¼èˆªæ æ‰‹åŠ¿æ”¹å¾—çœŸæ˜¯æ²¡çœ¼çœ‹\u0026hellip;\nå½“ç„¶, ç¨³å®šæ€§æ–¹é¢ OOS è‚¯å®šæ˜¯ LOS æ¯”ä¸äº†çš„, æ¯•ç«Ÿ LOS åªæ˜¯ä¸€ä¸ªä¸ªäººç»´æŠ¤çš„ç¬¬ä¸‰æ–¹ ROM, æ²¡è®°é”™çš„è¯å¼€å‘è€… Luk1337 å·²ç»ä»ä¸€åŠ 6ä¸€è·¯ç»´æŠ¤åˆ°ä¸€åŠ 8Täº†, ä¸æ„§æ˜¯å¤§ä½¬ğŸ‘\n","date":"2021-05-17T13:45:02+08:00","permalink":"https://cgcel.github.io/posts/%E4%BB%8E-oos-%E5%88%B0-los--%E4%B8%80%E5%8A%A0-8t-%E7%9A%84%E5%88%B7%E6%9C%BA%E8%AE%B0%E5%BD%95/","title":"ä» OOS åˆ° LOS -- ä¸€åŠ  8T çš„åˆ·æœºè®°å½•"},{"content":"èµ·å›  ZeroTier æˆ‘ä»å»å¹´å¼€å§‹ç¬¬ä¸€æ¬¡ä½¿ç”¨, ç”¨æ¥ç»™å®¶é‡Œçš„æ ‘è“æ´¾åšå†…ç½‘ç©¿é€, ä¸è¿‡ä¸­é—´å› ä¸º3Bå½“åšä¸ªå°æœåŠ¡å™¨æ²¡ä»€ä¹ˆå¥½ç©çš„å°±ä¸­æ–­äº†.\nå»å¹´å¹´åº•åŒåä¸€ä»é—²é±¼å¦‚äº†ä¸€å° 4G RAM çš„4B (æœ‰ç‚¹åæ‚”æ²¡è€å¿ƒç­‰ 8G ç‰ˆæœ¬), åˆ·äº† RaspiOS ä¹‹åå°±æ‹¿æ¥è·‘PTç«™çš„ç­¾åˆ°è„šæœ¬å’Œå½“åšä¸‹è½½æœºä½¿ç”¨, é¡ºä¾¿å®‰è£…äº† ZeroTier One, åŠ å…¥æˆ‘çš„ ZeroTier Network, å¦‚æ­¤ä¸€æ¥åœ¨å¤–ä¹Ÿèƒ½è¾ƒä¸ºè½»æ¾åœ°è®¿é—®åˆ°æˆ‘çš„ pi.\nä½†æ˜¯ç”±äº ZeroTier çš„å®˜ç½‘åœ¨å›½å†…è®¿é—®è¾ƒæ…¢, æ¯æ¬¡éœ€è¦é€šè¿‡æ–°åŠ å…¥æˆå‘˜æˆ–è€…ç®¡ç†æˆå‘˜éƒ½è¦èŠ±ä¸€ç‚¹æ—¶é—´ç™»å½•å®˜ç½‘å¹¶ç®¡ç†, ä¸€å¼€å§‹è¿˜ä¸è§‰å¾—éº»çƒ¦, åæ¥åŠ å…¥æˆå‘˜è¶Šæ¥è¶Šå¤š, ä¹Ÿé‚€è¯·æœ‹å‹ä¸€èµ·åŠ å…¥, è¿™æ ·ç®¡ç†èµ·æ¥å°±æ¯”è¾ƒéº»çƒ¦. æ°å·§æ­¤æ—¶ä» ZeroTier å®˜ç½‘ä¸Šçœ‹åˆ°ä»–ä»¬æœ‰å®˜æ–¹çš„ API å¯ä¾›ç”¨æˆ·è°ƒç”¨, äºæ˜¯æˆ‘ç”³è¯·äº† API Key, çŸ­æš‚æµ‹è¯•ä¹‹åå†³å®šå†™ä¸€ä¸ª Telegram Bot å¸®åŠ©ç›‘æ§ä»¥åŠç®¡ç†æˆ‘çš„ ZeroTier Network.\nAPI è°ƒç”¨æµ‹è¯• æ ¹æ® å®˜æ–¹æ–‡æ¡£ è¯´æ˜, ä½¿ç”¨ postman è¿›è¡Œ API è°ƒç”¨æµ‹è¯•, æ ¹æ®æŒ‡ç¤º, åœ¨ header ä¸­æŒ‰ç…§æ ¼å¼åŠ å…¥ API Key å³å¯è¯·æ±‚åˆ°æ•°æ®, å¦‚ä¸‹å›¾:\nBot è®¾è®¡ æœ¬ bot ä½¿ç”¨ Telegram Bot çš„ç¬¬ä¸‰æ–¹åº“ pyTelegramBotAPI æ¥å®ç°, ä»£ç éƒ¨åˆ†ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†:\nBot å‘½ä»¤ä»¥åŠå®šæ—¶ä»»åŠ¡ ZeroTier API è°ƒç”¨ åˆæœŸç‰ˆæœ¬ åˆæœŸçš„ç‰ˆæœ¬é€šè¿‡åœ¨ config.yaml æ–‡ä»¶ä¸­æ·»åŠ ç”¨æˆ· ID æ¥æ·»åŠ ç®¡ç†å‘˜, å¹¶é€šè¿‡ç§èŠ bot çš„æ–¹å¼æ¥å¯¹ Network è¿›è¡Œç®¡ç†. è¿™ç§äº¤äº’æ–¹å¼åœ¨ åªæœ‰ä¸€ä¸ªç®¡ç†å‘˜çš„æ—¶å€™è¿˜æ˜¯æŒºæ–¹ä¾¿çš„, åªéœ€è¦ç›´æ¥ä¸ bot ç§èŠå‘é€æŒ‡ä»¤, å¼€å‘åˆ°ä¸€å¤§åŠçš„æ—¶å€™å‘ç°ä¸€ä¸ªæ¯”è¾ƒéš¾å®ç°çš„åŠŸèƒ½: å½“æœ‰å¤šä¸ªç®¡ç†å‘˜ç®¡ç†çš„æ—¶å€™, bot æ˜¾ç¤ºç®¡ç†ä¿¡æ¯ä¼šæ¯”è¾ƒå›°éš¾ (éœ€è¦åœ¨æ‰€æœ‰ç®¡ç†å‘˜å¯¹è¯æ¡†åŒæ­¥ä¿®æ”¹ä¿¡æ¯, ä»¥æ˜¾ç¤ºæ˜¯å“ªä½ç®¡ç†å‘˜è¿›è¡Œäº†æ­¤é¡¹æ“ä½œ).\næ”¹è¿›ç‰ˆæœ¬ ä¸å…¶è¯´åˆæœŸç‰ˆæœ¬åŠŸèƒ½çš„å®ç°æ¯”è¾ƒç»•, ä¸å¦‚è¯´æ˜¯è®¾è®¡ä¹‹åˆå°±è€ƒè™‘çš„ä¸å‘¨åˆ°, æœ¬ bot æƒ³è¦è®¾è®¡æˆä¸€ä¸ªå…è®¸å¤šäººç®¡ç†çš„ bot, å°±ä¸èƒ½ä»¥ç§èŠçš„æ–¹å¼äº¤äº’, è€Œæ˜¯åº”è¯¥å°† bot æ·»åŠ è‡³ç¾¤èŠä¸­, è®©ç¾¤ç®¡ç†å‘˜æœ‰æƒé™è¿›è¡Œç®¡ç†, å¦‚æ­¤ä¸€æ¥é€»è¾‘ä¾¿æ¸…æ™°è®¸å¤šäº†.\nBot åŠŸèƒ½ Show networks info Show network members info Set member name (Admin only) Authorize new member (Admin only) Unauthorize member (Admin only) Delete member (Admin only) Set sub admin (Invite your friends to group chat, set as admin and manage the network with you) åˆ›å»ºç§äºº ZeroTier Network ç®¡ç† Bot å…·ä½“æ­¥éª¤ å¼€å§‹ åˆ›å»ºä½ çš„ ZeroTier Web API Token:\nç‚¹å‡»é“¾æ¥åˆ›å»º API Access Token.\nåˆ›å»ºä½ çš„ Telegram Bot:\nå‘é€æŒ‡ä»¤ç»™ @BotFather, ä½ å¯ä»¥å¤åˆ¶ä»¥ä¸‹å†…å®¹å‘é€è‡³ @BotFather ä»¥ç¼–è¾‘ä½ çš„ bot æŒ‡ä»¤:\n1 2 3 4 5 6 help - Show commands list. show_network - Show your zerotier networks. set_member_name - Set your member\u0026#39;s name by using this command. auth_member - Authorize a member. unauth_member - Unauthorize a member. delete_member - Delete a member. æ‹·è´ä»“åº“è‡³æœ¬åœ°:\n1 $ git clone https://github.com/koonchung/ZeroTierTelegramBot.git å®‰è£…ä¾èµ–:\n1 $ pip3 install -r requirements.txt ç¼–è¾‘ config.yaml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 # Fill with your telegram bot token # Create your bot by sending commands to @BotFather in Telegram bot_token: \u0026#34;your_bot_token\u0026#34; # Fill with your zerotier token # Get your own API Access Token at: https://my.zerotier.com/account zerotier_token: \u0026#34;your_zerotier_web_api_token\u0026#34; # Fill with telegram id which you want to set as admin admin_id: - your_telegram_id # Fill with refresh seconds, used to check new members refresh_seconds: 60 è¿è¡Œ Bot\n1 2 $ cd ZeroTierTelegramBot $ python3 zerotiertelegrambot å°† bot é‚€è¯·è‡³è‡ªå»ºç¾¤èŠä¸­, å‘é€ /start@your_bot è‡³ç¾¤èŠ, ç„¶åå³å¯å¼€å§‹ç®¡ç†ä½ çš„ZeroTier Networks.\nåå°è¿è¡Œ\næœ¬èœé¸Ÿä½¿ç”¨tmuxåœ¨åå°æŒ‚èµ·botæœåŠ¡.\nè¿è¡Œæˆªå›¾ start\u0026amp;help\nshow_network\nnetwork_info\naccept\u0026amp;setname\nauth\u0026amp;setname\nnew_member\nç»“å°¾ é¡¹ç›®å·²å‘å¸ƒåœ¨ GitHub, æ¬¢è¿ææ„è§ğŸ¤—\n","date":"2021-05-13T21:51:24+08:00","permalink":"https://cgcel.github.io/posts/%E6%88%91%E7%9A%84-zerotier-network-%E7%AE%A1%E7%90%86-bot/","title":"æˆ‘çš„ ZeroTier Network ç®¡ç† bot"},{"content":"å¼€å¤´ å¹´åˆæ–°å† ç–«æƒ…åœ¨æ­¦æ±‰çˆ†å‘, æ„ŸæŸ“è€…éšç€æ˜¥è¿äººæµè¿…é€Ÿæ‰©æ•£åˆ°å…¨å›½å„åœ°, å½¼æ—¶äººäººæŠ¢å£ç½©, ç”šè‡³è¿è¯åº—çš„æ°´é“¶ä½“æ¸©è®¡éƒ½è¢«æ´—åŠ«ä¸€ç©º. é‚£æ—¶æ¯å¤©éƒ½å¾ˆå…³æ³¨è‡ªå·±çš„èº«ä½“çŠ¶å†µ, æ¯å¤©éƒ½éœ€è¦å¥åº·ä¸ŠæŠ¥ä»¥ç¡®ä¿èƒ½æ­£å¸¸å›åˆ°å·¥ä½œå²—ä½, å› æ­¤åœ¨æ·˜å®ä¸‹å•äº†ä¸€ä¸ªçº¢å¤–æµ‹æ¸©æ¨¡å— MLX90614ESF-BAA, ç”¨æ¥è‡ªåˆ¶ä¸€æŠŠæµ‹æ¸©æª, åŠæ—¶é‡å‡ºä½“æ¸©. ä½†ç”±äºå½“æ—¶å£ç½©, æµ‹æ¸©æªç­‰ç‰©èµ„ç´§ç¼º, ä¸‹å•åè¿‡äº†å¾ˆä¹…å®¢æœé€šçŸ¥è¯´æ²¡è´§å¹¶ç»™æˆ‘é€€æ¬¾, è¿™ä»¶äº‹å°±ä¸äº†äº†ä¹‹.\nç›´åˆ°æœ€è¿‘åŒåä¸€æ²¡æƒ³åˆ°è¦ä¹°äº›ä»€ä¹ˆä¸œè¥¿çš„æ—¶å€™æƒ³èµ·äº†è¿™ä¸ªæœªå®Œæˆçš„å°é¡¹ç›®, æˆ‘åœ¨æ·˜å®ä¸‹å•å¹¶é¡ºåˆ©æ‹¿åˆ°äº†æ¨¡å—, ç»è¿‡ä¸€ç•ªæµ‹è¯•åå°†ä½“æ¸©æªç»„è£…å®Œæ¯•.\næ¨¡å—é€‰å‹ æ•´ä¸ªé¡¹ç›®ç”¨åˆ°çš„æ¨¡å—æœ‰:\nArduino Nano * 1 é¢åŒ…æ¿ * 1 MLX90614ESF-BAA çº¢å¤–æµ‹æ¸©ä¼ æ„Ÿå™¨æ¨¡å— * 1 æŒ‰é”®æ¨¡å— * 1 OLED å±æ¨¡å— * 1 è¿™é‡Œé¢åªæœ‰æµ‹æ¸©æ¨¡å—æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨, è¯¥æ¨¡å—å¯ä»¥æµ‹é‡ ç¯å¢ƒæ¸©åº¦ ä»¥åŠ ç‰©ä½“æ¸©åº¦, ä»åº—å®¶ä»‹ç»é¡µé¢æ‘˜æŠ„ä¸€äº›å‹å·å¯¹ç…§è¡¨:\næˆ‘é€‰è´­çš„æœ€ä¾¿å®œçš„å‹å· BAA æµ‹é‡è·ç¦»åªæœ‰ 2cm, è€Œ BCC ä¸º 10cm, DCI ä¸º 1m, å› æ­¤åœ¨å®é™…æµ‹é‡ä¸­è¶…å‡º 2cm æµ‹å¾—çš„æ•°æ®å°†ä¼šæœ‰æ˜æ˜¾è¯¯å·®.\nåŠŸèƒ½å®ç° æŒ‰ç…§ä»¥ä¸Šé€‰ç”¨çš„æ¨¡å—, æˆ‘æŒ‰ç…§ä¸‹å›¾å°†çº¿è·¯è¿æ¥å®Œæ¯•:\nä»£ç ä½¿ç”¨åˆ°çš„åº“æ–‡ä»¶å¦‚ä¸‹:\nWire.h SPI.h Adafruit_GFX.h Adafruit_SSD1306.h Adafruit_MLX90614.h å…¶ä¸­ OLED å’Œæµ‹æ¸©æ¨¡å—éƒ½æ˜¯é€šè¿‡ I2C é€šä¿¡è·å–æ•°æ®çš„, è€ŒæŒ‰é”®æ¨¡å—åˆ™åªéœ€é€šè¿‡æ£€æµ‹å¼•è„šé«˜ä½ç”µå¹³æ¥åˆ¤æ–­æ˜¯å¦æŒ‰ä¸‹å¹¶åœ¨ä»£ç ä¸­æ·»åŠ æ¶ˆæŠ–è¯­å¥å³å¯.\nåŠŸèƒ½çš„å®ç°æ¯”è¾ƒç®€å•, OLED çš„å‘åœ¨åšæ¯•è®¾çš„æ—¶å€™å·²ç»è¸©å®Œäº†, ç°åœ¨åŸºæœ¬ä¸Šä¸Šæ‰‹å°±èƒ½æ˜¾ç¤º. ä¸‹é¢è´´ä¸Šå®Œæ•´ä»£ç :\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 #include \u0026lt;Wire.h\u0026gt; #include \u0026lt;SPI.h\u0026gt; #include \u0026lt;Adafruit_GFX.h\u0026gt; #include \u0026lt;Adafruit_SSD1306.h\u0026gt; #include \u0026lt;Adafruit_MLX90614.h\u0026gt; #define SCREEN_WIDTH 128 // OLED display width, in pixels #define SCREEN_HEIGHT 64 // OLED display height, in pixels // Declaration for an SSD1306 display connected to I2C (SDA, SCL pins) #define OLED_RESET 4 // Reset pin # (or -1 if sharing Arduino reset pin) Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, \u0026amp;Wire, OLED_RESET); #define LOGO_HEIGHT 16 #define LOGO_WIDTH 16 Adafruit_MLX90614 mlx = Adafruit_MLX90614(); // constants won\u0026#39;t change. They\u0026#39;re used here to set pin numbers: // æŒ‰é”®å¼•è„š const int buttonPin = 2; // æŒ‰é”®çŠ¶æ€ int buttonState = 0; void setup() { // put your setup code here, to run once: // åˆå§‹åŒ–ä¸²å£ Serial.begin(9600); // åˆå§‹åŒ–MLX90614 Serial.println(\u0026#34;Adafruit MLX90614 READY...\u0026#34;); mlx.begin(); // åˆå§‹åŒ–OLEDæ¨¡å— // SSD1306_SWITCHCAPVCC = generate display voltage from 3.3V internally if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) { // Address 0x3D for 128x64 Serial.println(F(\u0026#34;SSD1306 allocation failed\u0026#34;)); for (;;); // Don\u0026#39;t proceed, loop forever } // Show initial display buffer contents on the screen -- // the library initializes this with an Adafruit splash screen. display.display(); delay(2000); // Pause for 2 seconds // Clear the buffer display.clearDisplay(); // åˆå§‹åŒ–å®ŒæˆåOLEDæ‰“å°ä¿¡æ¯ oled_print(\u0026#34;READY!\u0026#34;, 1000); // è®¾ç½®æŒ‰é”®å¼•è„šä¸ºè¾“å…¥ pinMode(buttonPin, INPUT); } void loop() { // put your main code here, to run repeatedly: // è·å–æŒ‰é”®çŠ¶æ€ buttonState = digitalRead(buttonPin); // check if the pushbutton is pressed. If it is, the buttonState is HIGH: if (buttonState == HIGH) { delay(200); // æŒ‰é”®æ¶ˆæŠ– if (buttonState == HIGH) { // ä¸²å£æ‰“å°ç¯å¢ƒæ¸©åº¦ä»¥åŠç‰©ä½“æ¸©åº¦ Serial.print(\u0026#34;Ambient = \u0026#34;); Serial.print(mlx.readAmbientTempC()); Serial.print(\u0026#34;*C\\tObject = \u0026#34;); Serial.print(mlx.readObjectTempC()); Serial.println(\u0026#34;*C\u0026#34;); String str = String(mlx.readObjectTempC()) + \u0026#34;*C\u0026#34;; // OLEDæ‰“å°ç‰©ä½“æ¸©åº¦ oled_print(str, 3000); } } } // å®šä¹‰OLEDæ‰“å°å‡½æ•°, å‚æ•°ä¸º: å­—ç¬¦ä¸², æ˜¾ç¤ºæ—¶é—´ void oled_print(String str, int delay_time) { display.clearDisplay(); display.setTextSize(4); // Normal 1:1 pixel scale display.setTextColor(WHITE); // Draw white text display.setCursor(0, 0); // Start at top-left corner display.println(str); display.display(); delay(delay_time); display.clearDisplay(); display.display(); } ç»„è£… ç»„è£…çš„æƒ³æ³•æ˜¯æ”¶äº†å¿«é€’ä¹‹åçœ‹ç€å¿«é€’ç›’çªå‘å¥‡æƒ³è€Œæ¥, æŠŠä¸œè¥¿ç®€å•å‡†å¤‡å¥½, å¼€å±€ä¸€æŠŠå‰ªåˆ€, ç²˜è´´å…¨é çƒ­ç†”èƒ¶ğŸ˜:\nåˆ¶ä½œè¿‡ç¨‹å®Œå…¨æ²¡æœ‰æŠ€æœ¯å«é‡, æœ€å¤šå°±æ˜¯å‰ªäº†ä¸€äº›å¡‘æ–™æ³¡æ²«å¡«å……ç©ºéš™, ä¸‹é¢ç›´æ¥æ”¾æˆå“å›¾äº†:\nç»“å°¾ æ€»ç®—æ˜¯æŠŠå¹´åˆå®šçš„ä¸€ä¸ªå°é¡¹ç›®å®Œæˆäº†, åœ¨å®¶ä¹Ÿç®—æ˜¯æœ‰ç‚¹äº‹åšäº†\u0026hellip; è¿™æ®µæ—¶é—´åœ¨å…¬å¸åŸºæœ¬æ²¡æœ‰åšä»€ä¹ˆé¡¹ç›®, éƒ½æ˜¯åœ¨åšæ–‡æ¡£, å†™æ–¹æ¡ˆ, å†™æ ‡ä¹¦ä¹‹ç±»çš„æ–‡æ¡ˆå·¥ä½œ, å±å®æ— èŠ.\nç»è¿‡è¿™æ¬¡ DIY æˆ‘ä¹Ÿæƒ³èµ·å¹´åˆè¿˜è®¢äº†ä¸€ä¸ªæœºæ¢°æ‰‹æ‹¼è£…ç©å…·, ä¸Šæ·˜å®ä¸€çœ‹å·²ç»åˆ°è´§äº†, äºæ˜¯è¡¥äº†å°¾æ¬¾å°±ç­‰å¾…å®ƒåˆ°è´§äº†, ä»Šå¤©ä¸‹ç­è·¯è¿‡æ–‡å…·åº—ä¹°äº†ä¸€å—åˆ‡å‰²æ¿, ä¸€æŠŠç¾å·¥åˆ€å’Œä¸€æŠŠå°å‰ªåˆ€, æœŸå¾…åˆ°è´§ä¹‹åçš„æ‹¼è£….\n","date":"2020-11-17T00:00:00Z","permalink":"https://cgcel.github.io/posts/diy-%E9%A1%B9%E7%9B%AE--%E8%87%AA%E5%88%B6%E7%BA%A2%E5%A4%96%E6%B5%8B%E6%B8%A9%E6%9E%AA/","title":"DIY é¡¹ç›® -- è‡ªåˆ¶çº¢å¤–æµ‹æ¸©æª"},{"content":"å‰è¨€ Android 11 æ­£å¼ç‰ˆå‘å¸ƒå·²ç»æœ‰ä¸€æ®µæ—¶é—´, å‰ä¸ä¹…åœ¨ tg channel ä¸Šçœ‹åˆ°ä¸€åŠ 6å³å°†é€‚é…Android 11 çš„æ¶ˆæ¯:\næ˜¨æ™šæ— èŠåˆ·ä¸€åˆ· xda, å‘ç°ä¸€åŠ 6å·²ç»æœ‰ç¬¬ä¸‰æ–¹çš„A11åŒ…å¯ä»¥åˆ·, æ­£å¥½ç”¨æ™šä¸Šçš„æ—¶é—´è¯•ä¸€è¯•.\nå‡†å¤‡ å› ä¸ºä½œè€…ä»‹ç»æ­¤ ROM æ—¶ç”¨çº¢å­—è¡¨æ˜è¦ä»Syberia OS Android 10 å‡çº§, æ‰€ä»¥æˆ‘å…ˆåˆ·Syberia OS Android 10 åå†å‡çº§ Android 11 ç‰ˆ. (åæ¥åœ¨æ–‡ç« ä¸‹ç•™è¨€è¯¢é—®å¾—çŸ¥å½“ä½œä¸€ä¸ªæ–° ROM æ¥åˆ·ä¹Ÿæ˜¯ OK çš„)\nä¸‹è½½æ¸…å• Android 10 éƒ¨åˆ† SyberiaOS ROM Downloads OOS 10.3.1 Downloads OpenGapps Downloads Latest TWRP Downloads xda é“¾æ¥\nAndroid 11 éƒ¨åˆ† SyberiaOS ROM Download Flame Gapps Download (recommended) xda é“¾æ¥\næ“ä½œæ­¥éª¤ æˆ‘ç”¨ä½œè€…æè¿°çš„æ–¹æ³•è¯•äº†å‡ æ¬¡éƒ½åˆ·ä¸æˆåŠŸ, ä¸æ˜¯é‡å¯åˆ°recå°±æ˜¯å¡åœ¨å¼€æœºç”»é¢, ç¿»äº†ä¸€ä¸‹è¯„è®ºåŒº, å€Ÿç”¨äº†ä¸€ä¸ªç½‘å‹çš„æ–¹æ³•æ‰æˆåŠŸ, ä¸ºäº†çœ‹èµ·æ¥å®Œæ•´ä¸€ç‚¹, ä¸‹é¢ä¼šä¸€èµ·åˆ—å‡ºæ‰€æœ‰æ­¥éª¤.\nConnect to PC and boot to bootloader 1 $ adb reboot bootloader Boot recovery 1 $ fastboot boot twrp.img Advanced wipe data and cache, format data, factory reset and reboot to bootloader Repeat step 1, 2, 3 Boot recovery Flash OOS, flash twrp, reboot to recovery Repeat step 6 Reboot to system, enable Developer Options and USB Debugging, reboot to recovery Flash Syberia OS Android 10, flash twrp, advanced wipe data and cache, reboot to recovery Flash gapps, reboot to system, enable Developer Options and USB Debugging, reboot to recovery Repeat step 9, 10 Flash Syberia OS Android 11, flash twrp, advanced wipe data and cache, reboot to recovery Flash gapps, reboot to system æ€»ç»“ æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤æ¥åˆ·, ä¸å‡ºæ„å¤–çš„è¯åº”è¯¥æ˜¯å¯ä»¥æˆåŠŸçš„, æ˜¨æ™šè¯•äº†ä¸€æ™šä¸Š, ç›´åˆ°åŠå¤œåäºŒç‚¹å¤šæ‰æˆåŠŸ\u0026hellip; è¿™ä¸ª ROM æœ‰æ¯’\u0026hellip; åˆ·å¥½ä¹‹åå¯¹æ¯”äº†ä¸€ä¸‹, 11 çš„å˜åŠ¨çœ‹èµ·æ¥çš„ç¡®æ˜¯æŒºå°‘çš„, åªæœ‰è½»å¾®çš„ä¸€ç‚¹ç‚¹ UI å˜åŒ–, å¥½åƒè¿˜æœ‰ä¸€äº›éšç§çš„ä¿æŠ¤ä¹‹ç±»çš„.\nä¸‹é¢åˆ†äº«å‡ å¼ æˆªå›¾:\næœ€å, è™½ç„¶èƒ½é¢„æ–™åˆ°, ä¸€åŠ 6 æœç„¶æ˜¯æ¯”ä¸€åŠ 7 å…ˆæœ‰ Android 11 çš„åŒ…, ä¸€åŠ 7 æœç„¶è¿˜æ˜¯å¤ªå¼Ÿå¼Ÿäº†.\n","date":"2020-10-03T19:38:47+08:00","permalink":"https://cgcel.github.io/posts/syberia-os-r-for-oneplus-6-%E5%88%B7%E6%9C%BA%E4%BD%93%E9%AA%8C/","title":"Syberia OS (R) for OnePlus 6 åˆ·æœºä½“éªŒ"},{"content":"å‰è¨€ æœ€è¿‘é•¿æ±Ÿæ²¿å²¸å‘ç”Ÿäº†æ´ªç¾, å¾ˆå¤šåŸå¸‚è¡—é“éƒ½è¢«æ·¹äº†, åœ¨ å¤§ä½¬çš„æŒ‡å¼• ä¸‹, æˆ‘å†™äº†ä¸ªè„šæœ¬çˆ¬å–é•¿æ±Ÿæ°´æ–‡ç½‘å„ä¸ªè§‚æµ‹ç«™çš„æ°´ä½çŠ¶å†µ, å¹¶ç»˜å›¾è§‚å¯Ÿæ°´ä½æƒ…å†µ, å› ä¸ºé•¿æ±Ÿæ°´æ–‡ç½‘ web åªæä¾›å®æ—¶æ•°æ®, æ²¡æ‰¾åˆ°å†å²æ•°æ®, å› æ­¤éœ€è¦åœ¨æœåŠ¡å™¨å®šæ—¶è·‘è„šæœ¬çˆ¬æ•°æ®å¹¶è‡ªå·±å­˜èµ·æ¥.\nçˆ¬å–æ•°æ® é¦–å…ˆçœ‹ä¸€ä¸‹é•¿æ±Ÿæ°´æ–‡ç½‘çš„é¦–é¡µ, æˆ‘ä»¬èƒ½çœ‹åˆ°å„ç«™æ°´ä½åœ¨ä¸€ä¸ªæ˜¾çœ¼åœ°æ–¹æ˜¾ç¤º:\nè¿™æ˜¯ä¸€ä¸ªä¸è®¾é˜²çš„ç½‘ç«™, æ‰€æœ‰å®æ—¶æ°´ä½æ•°æ®éƒ½èƒ½åœ¨ http://www.cjh.com.cn/sqindex.html è¯·æ±‚åˆ°, å¦‚å›¾æ‰€ç¤º:\nå¯ä»¥çœ‹åˆ°jsonæ•°æ®å°±åœ¨ç½‘é¡µæºç ä¸­, æˆ‘ä»¬åªéœ€è¦è·å–è¿™éƒ¨åˆ†å­—ç¬¦ä¸²å°±å¯ä»¥å¾—åˆ°æ‰€æœ‰å®æ—¶æ•°æ®.\nä½¿ç”¨requestsç›´æ¥è¯·æ±‚ç½‘é¡µ, å¹¶å¯¹ç½‘é¡µæºç è¿›è¡Œæ ¼å¼åŒ–ä»¥åŠæˆªå–:\n1 2 3 4 5 6 7 8 9 10 11 12 import requests url = \u0026#39;http://www.cjh.com.cn/sqindex.html\u0026#39; class CjhData(object): def __init__(self): pass def get_data(self): r = requests.get(url) result = r.text.split()[66][:-1] # å»é™¤å­—ç¬¦ä¸²æœ€åçš„åˆ†å· return result æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å¾—åˆ°jsonå­—ç¬¦ä¸²:\n1 2 3 4 \u0026#39;[{\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;39500\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60105400\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;å¯¸æ»©\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;4\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;179.06\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;11600\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;ä¹Œ æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60803000\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;æ­¦éš†\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;4\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;191.71\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;36300\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60107300\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;å®œæ˜Œ\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;5\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;50.41\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;33400\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60108300\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;æ²™å¸‚\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;6\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;41.88\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60111200\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;åŸé™µçŸ¶(è²)\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;4\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;33.87\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;53100\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60112200\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;æ±‰å£\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;4\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;28.31\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;59700\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60113400\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;ä¹æ±Ÿ\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;4\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;22.17\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;76400\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60115000\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;å¤§é€š\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;5\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;16.01\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;22800\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;æ´åº­æ¹–\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;61512000\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;åŸé™µçŸ¶(ä¸ƒ)\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;4\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;33.99\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;13500\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é„±é˜³æ¹–\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;62601600\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;æ¹–å£\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;5\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;21.79\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60107000\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;èŒ…åª(äºŒ)\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;5\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;161.36\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;34600\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;61000\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;é•¿æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;60106980\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;ä¸‰å³¡æ°´åº“\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;5\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;161.36\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;æ±‰æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;61802500\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;é¾™ç‹åº™\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;6\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;160.78\u0026#39;}, {\u0026#39;oq\u0026#39;: \u0026#39;1870\u0026#39;, \u0026#39;q\u0026#39;: \u0026#39;0\u0026#39;, \u0026#39;rvnm\u0026#39;: \u0026#39;æ±‰æ±Ÿ\u0026#39;, \u0026#39;stcd\u0026#39;: \u0026#39;61802700\u0026#39;, \u0026#39;stnm\u0026#39;: \u0026#39;ä¸¹æ±Ÿå£æ°´åº“\u0026#39;, \u0026#39;tm\u0026#39;: 1595059200000, \u0026#39;wptn\u0026#39;: \u0026#39;6\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;160.78\u0026#39;}]\u0026#39; é€šè¿‡jsonåº“, å°†å…¶è½¬æˆjsonå¯¹è±¡å°±å¯ä»¥å–å…¶ä¸­çš„æ•°æ®äº†.\nå­˜å‚¨æ•°æ® çˆ¬å–åˆ°å®æ—¶æ•°æ®å, æˆ‘ä»¬å°†æ•°æ®å­˜å‚¨åœ¨ mysql ä¸­, å› ä¸ºè„šæœ¬ä¼šéƒ¨ç½²åˆ°æ ‘è“æ´¾4ä¸Š, æ‰€ä»¥æ ‘è“æ´¾ä¸Šå®‰è£…çš„æ˜¯ mariadb, è¿™é‡Œå…ˆè¯´æ˜ä¸€ä¸‹.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 import pymysql class DB(object): def __init__(self): self.con = pymysql.connect(host=\u0026#39;localhost\u0026#39;, user=\u0026#39;root\u0026#39;, password=\u0026#39;password\u0026#39;, database=\u0026#39;yangtze_river_water_level\u0026#39;) self.cur = self.con.cursor() def insert_data(self, oq, q, rvnm, stcd, stnm, tm, wptn, z): # æ£€æŸ¥æŸç«™æŸæ—¶é—´çš„æ•°æ®æ˜¯å¦å·²å­˜å‚¨è¿‡, é¿å…é‡å¤å­˜å‚¨æ•°æ® if self.cur.execute(\u0026#34;select * from water_level where stnm=%s and tm=%s\u0026#34;, (stnm, tm)) == 0: self.cur.execute(\u0026#34;insert into water_level(oq, q, rvnm, stcd, stnm, tm, wptn, z) values (%s, %s, %s, %s, %s, %s, %s, %s)\u0026#34;, (oq, q, rvnm, stcd, stnm, tm, wptn, z)) self.con.commit() else: pass def get_list_stnm(self): self.cur.execute(\u0026#34;select distinct stnm from water_level\u0026#34;) return self.cur.fetchall() def selectByStation(self, station): self.cur.execute(\u0026#34;select * from water_level where stnm=%s\u0026#34;, (station)) data = self.cur.fetchall() return data def delete_duplicate(self): pass def __del__(self): self.cur.close() self.con.close() åœ¨ä¸»å‡½æ•°è°ƒç”¨å‡½æ•°å, å°†çˆ¬å–åˆ°çš„æ•°æ®å­˜å…¥æ•°æ®åº“ä¸­:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import json from get_cjh_data import CjhData from database import DB def main(): cd = CjhData() # å®ä¾‹åŒ–çˆ¬è™«ç±» json_str = cd.get_data() # å¾—åˆ°jsonå­—ç¬¦ä¸² json_data = json.loads(json_str) # å°†jsonå­—ç¬¦ä¸²è½¬æˆjsonå¯¹è±¡ # print(json_data) db = DB() # å®ä¾‹åŒ–æ•°æ®åº“æ“ä½œç±» for item in json_data: # å°†jsonå¯¹è±¡ä¸­çš„æ•°æ®éå†å­˜å…¥æ•°æ®åº“ä¸­ db.insert_data(item[\u0026#39;oq\u0026#39;], item[\u0026#39;q\u0026#39;], item[\u0026#39;rvnm\u0026#39;], item[\u0026#39;stcd\u0026#39;], item[\u0026#39;stnm\u0026#39;], item[\u0026#39;tm\u0026#39;]/1000, item[\u0026#39;wptn\u0026#39;], item[\u0026#39;z\u0026#39;]) if __name__ == \u0026#39;__main__\u0026#39;: main() è¿è¡ŒæˆåŠŸå, æ‰“å¼€æ•°æ®åº“æ£€æŸ¥ç»“æœ:\nç»˜å›¾ ç¬¬ä¸€æ¬¡ä½¿ç”¨pythonç”»å›¾, æˆ‘ç®€å•å­¦äº†ä¸€ä¸‹ç½‘ä¸Šçš„ matplotlib çš„ demo, ä¿®æ”¹ä¸€äº›å‚æ•°å°±å¾—åˆ°äº†è‡ªå·±æƒ³è¦çš„å›¾ (è¿™ä¸ªæŠ˜çº¿å›¾ç®—æ˜¯æœ€åŸºç¡€çš„å›¾å½¢), æœ‰ä¸€äº›å°é…ç½®è¦å†™å¥½, æ¯”å¦‚æ›´æ¢å­—ä½“æ¥è®©ä¸­æ–‡å¾—ä»¥æ˜¾ç¤ºç­‰ç­‰:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 import matplotlib.pyplot as plt from pylab import mpl import numpy as np import datetime from database import DB class DrawData(object): def __init__(self): self.db = DB() def draw(self): list_stnm = self.db.get_list_stnm() # ä¿®æ”¹å­—ä½“å®ç°ä¸­æ–‡æ˜¾ç¤º mpl.rcParams[\u0026#39;font.sans-serif\u0026#39;] = [\u0026#39;Microsoft Yahei\u0026#39;] fig, ax = plt.subplots() ax.set_xlabel(\u0026#34;æ—¶é—´\u0026#34;) ax.set_ylabel(\u0026#34;æ°´ä½\u0026#34;) ax.set_title(\u0026#34;é•¿æ±Ÿæ²¿å²¸æ°´ä½ç»Ÿè®¡\u0026#34;) for station in list_stnm: data = self.db.selectByStation(station) # print(data) list_tm = [] list_z =[] for item in data: timedata = datetime.datetime.fromtimestamp(item[6]) list_tm.append(timedata) list_z.append(float(item[8])) ax.plot(list_tm, list_z, label=station) ax.legend() fig.autofmt_xdate() plt.show() è¿è¡Œè„šæœ¬, å¯ä»¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æŠ˜çº¿å›¾:\n2020-07-24 æ›´æ–°: æˆªè‡³åˆ°ç¼–è¾‘æ—¶é—´å·²ç»çˆ¬å–åˆ°2666æ¡æ•°æ®ğŸ˜, æ³¢å½¢å›¾å¦‚ä¸‹:\néƒ¨ç½² åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…å¥½æ‰€éœ€ä¾èµ–, è¿™é‡Œå°†mysqlæ”¹ä¸ºmariadb, æ“ä½œæ–¹æ³•å’Œmysqlå‡ ä¹ä¸€æ ·, å› æ­¤å»ºå¥½databaseä»¥åŠå¯¼å…¥tableå, ä»£ç ä¹Ÿèƒ½å®Œç¾è¿è¡Œ. æµ‹è¯•å®Œæ¯•å, é€šè¿‡ crontab -e æ·»åŠ å®šæ—¶ä»»åŠ¡å°±ç®—åŸºæœ¬å®Œæˆäº†.\n","date":"2020-07-18T15:28:01+08:00","permalink":"https://cgcel.github.io/posts/%E7%88%AC%E5%8F%96%E6%B4%AA%E7%81%BE%E6%9C%9F%E9%97%B4%E9%95%BF%E6%B1%9F%E6%B2%BF%E5%B2%B8%E6%B0%B4%E4%BD%8D%E5%B9%B6%E7%BB%98%E5%9B%BE/","title":"çˆ¬å–æ´ªç¾æœŸé—´é•¿æ±Ÿæ²¿å²¸æ°´ä½å¹¶ç»˜å›¾"},{"content":"èµ·å›  å»å¹´å¹´åº•å¼€å§‹, éƒ¨é—¨é‡Œç»Ÿè®¡æ¯æœˆè¿ç»´åˆ†é˜Ÿä¿éšœæƒ…å†µçš„ä»»åŠ¡å°±è½åˆ°äº†æˆ‘ä»¬å¤´ä¸Š, å¤§å®¶éƒ½ä¸æ˜¯å¾ˆæ„¿æ„å»åš, æ¯•ç«Ÿæ˜¯é‡å¤åŠ³åŠ¨, æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰, åœ¨ä¿¡æ¯ç³»ç»Ÿé‡ŒæŸ¥èµ·æ¥è¿˜æ¯”è¾ƒéº»çƒ¦, æ•°æ®è¦ä¸€ä¸ªä¸€ä¸ªåœ°å¯¹, ç„¶åæ ¹æ®å½“æœˆåˆ†é˜Ÿçš„æ’ç­æƒ…å†µç®—åˆ°æ¯ä¸ªåˆ†é˜Ÿçš„ç»Ÿè®¡é‡Œ, å¹¶æŒ‰ç…§è§„åˆ™æ’åä»¥åŠæ‰“åˆ†, ä¸€èˆ¬éƒ½æ˜¯æ¯ä¸ªæœˆ23æˆ–è€…24å·å¼€å§‹ç»Ÿè®¡, æ­£å¥½è¿™ä¸ªæœˆæˆ‘ 21-24 å·æ”¾å‡åŠ è°ƒä¼‘, å¿ƒæƒ³ç»ˆäºèº²è¿‡ä¸€åŠ«çš„æˆ‘å±…ç„¶åœ¨å›åˆ°å…¬å¸ä¸Šç­çš„ç¬¬ä¸€å¤©è¢«é€šçŸ¥ç”±æˆ‘æ¥ç»Ÿè®¡! æ— å¥ˆä¹‹ä¸‹æˆ‘åªå¥½ä»¥æœ€å¿«çš„é€Ÿåº¦åšå®Œ, ä½†æ˜¯è¿™æ ·ä¸‹å»ä»€ä¹ˆæ—¶å€™æ‰æ˜¯ä¸ªå¤´å•Š, äºæ˜¯å°±èŒç”Ÿäº†è‡ªå·±é€ è½®å­çš„æƒ³æ³•, æ­£å¥½å¤ä¹ ä¸€ä¸‹è‡ªå­¦çš„ python çˆ¬è™«.\nå°è¯• requests å†™äº›å°çˆ¬è™«çš„æ—¶å€™, ç”¨ requests æ˜¯æœ€æ–¹ä¾¿çš„. ä¸€èˆ¬æ¥è¯´æ¨¡æ‹Ÿç™»å½•æˆåŠŸçš„è¯ä¹Ÿå°±æˆåŠŸäº†ä¸€åŠ, åç»­æ•°æ®å¯ä»¥è½»æ¾è·å¾—. ä½†æ˜¯ä¿¡æ¯ç³»ç»Ÿçš„ä¸€äº›å‰ç«¯æ¸²æŸ“çš„æ•°æ®æ— æ³•é€šè¿‡ requests è·å¾—, æ¯”å¦‚ä¸‹é¢ä½¿ç”¨ BeautifulSoup è§£æåæ²¡æœ‰æ•°æ®:\n1 \u0026lt;span id=\u0026#34;lblCount\u0026#34; style=\u0026#34;color:#C00000;font-weight:bold;\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; selenium äºæ˜¯æˆ‘åªèƒ½ç”¨ selenium æ¥å†™, è¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡å…¨ç¨‹ç”¨ selenium å®ç°åŠŸèƒ½çš„çˆ¬è™«. selenium çš„ä½¿ç”¨ä¹Ÿéå¸¸ç®€å•, æ€è·¯å°±æ˜¯ä½¿ç”¨ find_element_by_id() å’Œ find_element_by_xpath() æ¥æ“ä½œæµè§ˆå™¨ç‚¹å‡»æˆ–è€…è¾“å…¥ä¿¡æ¯, å°†å“åº”åçš„ç½‘é¡µæºç é€šè¿‡ BeautifulSoup è§£æ, å¾—åˆ°æƒ³è¦çš„æ•°æ®, å¦‚ä¸‹:\n1 \u0026lt;span id=\u0026#34;lblCount\u0026#34; style=\u0026#34;color:#C00000;font-weight:bold;\u0026#34;\u0026gt;1\u0026lt;/span\u0026gt; å¤„ç†æ•°æ® æœ‰äº†æ•°æ®ä¹‹åè¿˜è¦è§£å†³ä¸€ä¸ªé—®é¢˜, ä¹Ÿå°±æ˜¯æ¨å‡ºå„ä¸ªåˆ†é˜Ÿçš„æ’ç­, ä»¥ä¾¿å°†çˆ¬åˆ°çš„æ•°æ®ç®—åˆ°å¯¹åº”è´£ä»»åˆ†é˜Ÿå¤„, æˆ‘æ˜¯ç”¨äº†å»º dict å’Œ list çš„æ–¹å¼, å°†4å¤©ä¸€å‘¨æœŸçš„åˆ†é˜Ÿæ’ç­å’Œæ—¶é—´æ®µç»“åˆ, å¾—å‡ºæ­£ç¡®çš„æ’ç­, åŒæ—¶ä¹Ÿæ–°å»ºå„ç§dictç”¨äºå­˜æ”¾åˆ†é˜Ÿè¿è¡Œæ•°æ®, å¦‚å»¶è¯¯è¡Œææ•°, äº‹å‰ç»´ä¿®æ¬¡æ•°, è´£ä»»åˆ†åŒºç»´ä¿®æ¬¡æ•°, å€¼ç­æ—¥å¿—ä»¥åŠæ ¹æ®è¿™äº›æ•°æ®æ’åºå¾—åˆ°çš„åˆ†æ•°ç­‰ç­‰.\nè¿è¡Œç¯å¢ƒ Windows 7-10\nä¸æœ¬æœº Chrome ç‰ˆæœ¬å¯¹åº”çš„ chromedriver (é¡¹ç›®ä¸­ç‰ˆæœ¬ä¸º Chrome version 89)\nä¸‹è½½é“¾æ¥1 ä¸‹è½½é“¾æ¥2 ä¸‹è½½é“¾æ¥3 Microsoft Office æˆ–å…¶ä»–\nå·¥ä½œåŸç† ç¼–è¯‘ç¯å¢ƒ: Python 3.8.6 (64-bit) Visual Studio Code å®‰è£…ä¾èµ–: selenium openpyxl bs4 pyyaml tqdm lxml å®ç°åŸç†: é€šè¿‡ selenium è°ƒç”¨ chromedriver æ‰“å¼€ chrome, æ‰“å¼€ä¿¡æ¯ç³»ç»Ÿç™»å½•é¡µé¢å¹¶æ¨¡æ‹Ÿç™»å½• ç™»å½•æˆåŠŸåè¯·æ±‚å¯¹åº”å»¶è¯¯è¡Œæ, å€¼ç­æ—¥å¿—ç­‰é¡µé¢, ä½¿ç”¨ BeautifulSoup, re çˆ¬å–æ•°æ® å¯¹æ•°æ®è¿›è¡Œå¤„ç†å, ä½¿ç”¨ openpyxl å°†æ•°æ®å†™å…¥ Excel ä¸­ åŠŸèƒ½è°ƒè¯•å®Œæˆåå°† chrome è®¾ç½®ä¸º headless browser, ä¼˜åŒ–ä½¿ç”¨ä½“éªŒ ä½¿ç”¨æ–¹æ³• æ‰“å¼€ config.yaml, æŒ‰ç…§æŒ‡å¼•ä¿®æ”¹ è´¦å·, å¯†ç , èµ·å§‹æ—¥æœŸ, ç»“æŸæ—¥æœŸ, åˆ·æ–°é—´éš”, èˆªç«™æ¥¼, å†…å¤–ç½‘è®¿é—®æ¨¡å¼, è¿è¡Œæ¨¡å¼, å…¶ä¸­ åˆ·æ–°é—´éš” å¯æŒ‰éœ€ä¿®æ”¹, ä¿®æ”¹å®Œä¿å­˜é…ç½® è¿è¡Œ main.exe æˆ– main.py ç¨‹åºçª—å£å°†æ˜¾ç¤ºçˆ¬å–è¿›åº¦, è¿è¡Œå®Œæ¯•å, ç»Ÿè®¡ç»“æœ ä»¥åŠ åˆ†é˜Ÿæ’ç­è¡¨ ä»¥ Excel æ ¼å¼ä¿å­˜åœ¨ \\output ç›®å½•ä¸­ åç»­ è„šæœ¬æˆ‘ä» v1.0 å¼€å§‹è®°å½•, åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸€ç›´æœ‰é‡åˆ°æ–°çš„bug, å¯¼è‡´ç»Ÿè®¡æ•°å­—æœ‰é—®é¢˜, æœŸé—´ä¹Ÿæ˜¯ä¸€ç›´æœ‰ç»´æŠ¤, ä¿®äº†å‡ ä¸ªbug, ç›´åˆ°æœ€è¿‘æ›´æ–°åˆ°äº† v2.6.3, ç›¸ä¿¡ç»Ÿè®¡åŠŸèƒ½å·²ç»æ¥è¿‘å®Œç¾ (flag)\nä¸è¿‡ä¹Ÿæ˜¯å¤šäºäº†åŒäº‹ä¸€ç›´æœ‰å¸®å¿™æ£€éªŒè¡¨æ ¼å‡†ç¡®æ€§, è¿™äº› bug æ‰å¾—ä»¥è¢«ä¿®å¤, å¦‚æœæ˜¯æˆ‘è‡ªå·±ç”¨ä¼°è®¡ä¹Ÿä¸ä¼šå‘ç°.\n","date":"2020-07-06T21:43:54+08:00","permalink":"https://cgcel.github.io/posts/%E6%9C%80%E8%BF%91%E5%BC%80%E7%9A%84%E4%B8%80%E4%B8%AA%E7%88%AC%E8%99%AB%E5%B0%8F%E5%9D%91/","title":"æœ€è¿‘å¼€çš„ä¸€ä¸ªçˆ¬è™«å°å‘"},{"content":"å‰è¨€ ç–«æƒ…åŸå› , æœºåœºå·²ç»å†·æ¸…å¾ˆä¹…äº†. ä½†æ˜¯é¡¹ç›®éƒ½ç…§å¸¸ç¼“æ…¢è¿›è¡Œä¸­, è¶è¿™æ¬¡æœºä¼šæˆ‘å¥½å¥½å­¦ä¹ äº†ä¸€ä¸‹STM32çš„ä¸€äº›åŸºç¡€çŸ¥è¯†å’Œä½¿ç”¨æ–¹æ³•. æ•™ç¨‹çš„è¯çœ‹çš„æ˜¯æ­£ç‚¹åŸå­çš„å®˜ç½‘æ•™ç¨‹, æ­£ç‚¹åŸå­çš„èµ„æ–™åº”è¯¥ç®—æ˜¯å›½å†…STM32åˆå­¦è€…å…¥é—¨å¿…å­¦çš„æ•™ç¨‹äº†å§, å¬è¯´è¿˜æœ‰é‡ç«çš„ä¹Ÿä¸é”™, ç½‘ä¸Šå¾ˆå¤šä¾‹å­éƒ½æœ‰ä»–ä»¬å®¶ä»£ç çš„å½±å­.\nå®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­, æˆ‘è¶Šæ¥è¶Šèƒ½ä½“ä¼šåˆ°Arduinoçš„ç®€ä¾¿ä¹‹å¤„, ä½†æ˜¯ç›¸å¯¹çš„å¯¹å®ç°åŸç†ä¼šä¸å¤ªåœ¨æ„, åœ¨å…¥é—¨STM32çš„è¿‡ç¨‹ä¸­, æˆ‘å¯¹ä¸€äº›å•ç‰‡æœºåŠŸèƒ½æœ‰äº†æ›´æ·±çš„äº†è§£, å°±æ¯”å¦‚å¸¸ç”¨çš„ä¸²å£åŠŸèƒ½.\nä¹‹å‰å¯¹Arduinoçš„ä¸²å£ç¼–ç¨‹æœ‰è¿‡ä¸å°‘å®è·µ, è¿˜æ•´ç†è¿‡ [[2019-12-03-Arduinoçš„ä¸»ä»æœºåŒå‘é€šä¿¡|Arduinoä¹‹é—´çš„ä¸²å£é€šä¿¡demo]], æœ¬ç¯‡æ–‡ç« ä¸å¯¹STM32å•ç‰‡æœºåº•å±‚å¯„å­˜å™¨, å®˜æ–¹åº“æ–‡ä»¶è¿›è¡Œè¿‡å¤šè§£è¯», åªå°±Arduinoä¸STM32çš„ä¸²å£ç¼–ç¨‹æ–¹é¢è¿›è¡Œæ¯”è¾ƒ, ç»“åˆæ³¨é‡Šè¿›è¡Œé€‚å½“è¯´æ˜.\nç¡¬ä»¶å‡†å¤‡ STM32C8T6å¼€å‘æ¿ STM32RCT6å¼€å‘æ¿ æ­£æ–‡ Arduinoä¸²å£ é¦–å…ˆå›é¡¾ä¸€ä¸‹Arduinoçš„ä¸²å£å‡½æ•°, å¯ä»¥çœ‹ä»¥ä¸‹demo:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 String inputString = \u0026#34;\u0026#34;; // a String to hold incoming data void setup() { // initialize serial: Serial.begin(9600); } void loop() { while(Serial.available()){ inputString += char(Serial.read()); delay(2); } // print the string when a newline arrives: if (inputString.length() \u0026gt; 0) { Serial.print(inputString); // clear the string: inputString = \u0026#34;\u0026#34;; } } Arduinoè¯­è¨€ä¸­, å…ˆå¯¹ä¸²å£è¿›è¡Œåˆå§‹åŒ–, ç„¶ååªéœ€è¦è°ƒç”¨ Serial.available() æ¥åˆ¤æ–­ä¸²å£æ˜¯å¦æ¥æ”¶åˆ°æ•°æ®, è‹¥ä¸²å£æœ‰æ•°æ®, åˆ™Serial.available() å¤§äº0ä¸”å€¼ä¸ºä¸²å£æ•°æ®å­—èŠ‚æ•°. æ¥ç€, é€šè¿‡å¾ªç¯, ä½¿ç”¨ Serial.read() å°†ä¸²å£ç¼“å­˜çš„æ•°æ®ä¸€å­—èŠ‚ä¸€å­—èŠ‚çš„å­˜å–åˆ°å®ç°å®šä¹‰å¥½çš„ç©ºå­—ç¬¦ä¸²ä¸­, å¦‚æ­¤ä¾¿å¯å¾—åˆ°Arduinoä¸²å£æ¥æ”¶åˆ°çš„å®Œæ•´æ•°æ®.\nSTM32ä¸²å£ æ¥ç€ç»“åˆæ­£ç‚¹åŸå­çš„ä¸²å£demoè®²ä¸€ä¸‹STM32çš„ä¸²å£åˆå§‹åŒ–ä»¥åŠæ¥æ”¶æ•°æ®, æ‰“å°æ•°æ®çš„åŠŸèƒ½.\nä¸²å£åˆå§‹åŒ– STM32RCT6ä¸€å…±æœ‰3ä¸ªç¡¬ä¸²å£, ä»¥ä¸²å£3ä¸ºä¾‹, åœ¨é¡¹ç›®ä¸­å¯¼å…¥ usart3.h, usart3.c.\nåœ¨ usart3.h ä¸­, æˆ‘ä»¬å®šä¹‰äº†æ¥æ”¶å’Œå‘é€æ•°æ®é•¿åº¦, å®šä¹‰äº†ç©ºå­—ç¬¦ä¸², æ¥æ”¶æ•°æ®çŠ¶æ€å˜é‡, æ•°æ®é•¿åº¦ä»¥åŠä¸²å£å‘é€, æ¸…ç©ºçš„å‡½æ•°.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 #ifndef __USART3_H #define __USART3_H\t#include \u0026#34;sys.h\u0026#34; #define USART3_MAX_RECV_LEN\t600\t//æœ€å¤§æ¥æ”¶ç¼“å­˜å­—èŠ‚æ•° #define USART3_MAX_SEND_LEN\t600\t//æœ€å¤§å‘é€ç¼“å­˜å­—èŠ‚æ•° #define USART3_RX_EN 1\t//0,ä¸æ¥æ”¶;1,æ¥æ”¶. extern char USART3_RX_BUF[USART3_MAX_RECV_LEN]; //æ¥æ”¶ç¼“å†²,æœ€å¤§USART3_MAX_RECV_LENå­—èŠ‚ extern char USART3_TX_BUF[USART3_MAX_SEND_LEN]; //å‘é€ç¼“å†²,æœ€å¤§USART3_MAX_SEND_LENå­—èŠ‚ extern vu16 USART3_RX_STA; //æ¥æ”¶æ•°æ®çŠ¶æ€ extern int USART3_RX_BUF_LEN; //ç”¨äºå­˜æ”¾æ¥æ”¶æ•°æ®é•¿åº¦ void usart3_init(u32 bound);\t//ä¸²å£2åˆå§‹åŒ– void u3_printf(char* fmt,...); void USART3_SendChar(char c); void USART3_SendString(char *s); void USART3_SendArray(u8 array[], int num); void USART3_ClearBuf(); //æ¸…ç©ºæ¥æ”¶çš„ä¸²å£æ•°æ® #endif åœ¨ usart3.c ä¸­, æˆ‘ä»¬å¯¹ä¸²å£3è¿›è¡Œåˆå§‹åŒ–:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 void usart3_init(u32 bound) { NVIC_InitTypeDef NVIC_InitStructure; GPIO_InitTypeDef GPIO_InitStructure; USART_InitTypeDef USART_InitStructure; RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE); // GPIOBæ—¶é’Ÿ RCC_APB1PeriphClockCmd(RCC_APB1Periph_USART3,ENABLE); //ä¸²å£3æ—¶é’Ÿä½¿èƒ½ USART_DeInit(USART3); //å¤ä½ä¸²å£3 //USART3_TX PB10 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10; //PB10 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;\t//å¤ç”¨æ¨æŒ½è¾“å‡º GPIO_Init(GPIOB, \u0026amp;GPIO_InitStructure); //åˆå§‹åŒ–PB10 //USART3_RX\tPB11 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_11; GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING; //æµ®ç©ºè¾“å…¥ GPIO_Init(GPIOB, \u0026amp;GPIO_InitStructure); //åˆå§‹åŒ–PB11 USART_InitStructure.USART_BaudRate = bound; //æ³¢ç‰¹ç‡ä¸€èˆ¬è®¾ç½®ä¸º9600; USART_InitStructure.USART_WordLength = USART_WordLength_8b; //å­—é•¿ä¸º8ä½æ•°æ®æ ¼å¼ USART_InitStructure.USART_StopBits = USART_StopBits_1; //ä¸€ä¸ªåœæ­¢ä½ USART_InitStructure.USART_Parity = USART_Parity_No; //æ— å¥‡å¶æ ¡éªŒä½ USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None; //æ— ç¡¬ä»¶æ•°æ®æµæ§åˆ¶ USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;\t//æ”¶å‘æ¨¡å¼ USART_Init(USART3, \u0026amp;USART_InitStructure); //åˆå§‹åŒ–ä¸²å£\t3 USART_Cmd(USART3, ENABLE); //ä½¿èƒ½ä¸²å£ //ä½¿èƒ½æ¥æ”¶ä¸­æ–­ USART_ITConfig(USART3, USART_IT_RXNE, ENABLE); //å¼€å¯ä¸­æ–­ //è®¾ç½®ä¸­æ–­ä¼˜å…ˆçº§ NVIC_InitStructure.NVIC_IRQChannel = USART3_IRQn; NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=2 ; //æŠ¢å ä¼˜å…ˆçº§3 NVIC_InitStructure.NVIC_IRQChannelSubPriority = 3; //å­ä¼˜å…ˆçº§3 NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE; //IRQé€šé“ä½¿èƒ½ NVIC_Init(\u0026amp;NVIC_InitStructure);\t//æ ¹æ®æŒ‡å®šçš„å‚æ•°åˆå§‹åŒ–VICå¯„å­˜å™¨ TIM4_Int_Init(1000-1,7200-1); //10msä¸­æ–­ USART3_RX_STA=0; //æ¸…é›¶ TIM_Cmd(TIM4,DISABLE); //å…³é—­å®šæ—¶å™¨4 } ä»¥ä¸Šä»£ç æ˜¯å¯¹ä¸²å£3çš„åˆå§‹åŒ–, è¿™é‡Œä¸å†èµ˜è¿°, å”¯ä¸€æœ‰åŒºåˆ«çš„åœ°æ–¹æ˜¯æœ€å3å¥, è¿™é‡Œé‡‡ç”¨äº†å®šæ—¶å™¨4è®¾ç½®çš„10mså®šæ—¶, åœ¨ä¸²å£3æ¥æ”¶åˆ°æ•°æ®åå¼€å¯å®šæ—¶å™¨4, æ¯10msè¯»å–ä¸€å­—èŠ‚ä¸²å£æ•°æ®, è‹¥10mså†…æ²¡æœ‰æ”¶åˆ°æ•°æ®, åˆ™åˆ¤å®šæ•°æ®æ¥æ”¶å®Œæ¯•, æ­¤æ—¶å°†ä¸²å£çŠ¶æ€ä½ç½®0, è¡¨ç¤ºä¸²å£3å·²ç»æ¥å—å®Œæ•°æ®, å¹¶å…³é—­å®šæ—¶å™¨4.\nä¸²å£ä¸­æ–­å‡½æ•° åœ¨åˆå§‹åŒ–ä¸­, å¯ä»¥çœ‹åˆ°å¼€å¯äº†ä¸²å£ä¸­æ–­, æ¥ä¸‹æ¥åœ¨ usart3.c ä¸­å¯¹ä¸²å£3ä¸­æ–­å‡½æ•°è¿›è¡Œç¼–å†™, ä»£ç å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 void USART3_IRQHandler(void) { u8 res; if(USART_GetITStatus(USART3, USART_IT_RXNE) != RESET) //æ¥æ”¶åˆ°æ•°æ® { res =USART_ReceiveData(USART3); if((USART3_RX_STA\u0026amp;(1\u0026lt;\u0026lt;15))==0) //æ¥å—æœªå®Œæˆ { if(USART3_RX_STA\u0026lt;USART3_MAX_RECV_LEN-1) //åˆ¤æ–­é•¿åº¦, å°äºè®¾å®šé•¿åº¦åˆ™è¿˜å¯ä»¥æ¥æ”¶æ•°æ® { TIM_SetCounter(TIM4,0); //è®¡æ•°å™¨æ¸…ç©º if(USART3_RX_STA==0) //ä½¿èƒ½å®šæ—¶å™¨4çš„ä¸­æ–­ { TIM_Cmd(TIM4,ENABLE);//ä½¿èƒ½å®šæ—¶å™¨4, æ¯10msæ¥å—ä¸€å¸§ä¸²å£æ•°æ® } USART3_RX_BUF[USART3_RX_STA++]=res;\t//è®°å½•æ¥æ”¶åˆ°çš„å€¼, åŒæ—¶æ›´æ–°æ•°æ®é•¿åº¦ USART3_RX_BUF_LEN = USART3_RX_STA; } else // è‹¥æ•°æ®é•¿åº¦è¶…å‡ºå®šä¹‰é•¿åº¦åˆ™å¼ºè¡Œå°†STAæœ€åä¸€ä½ç½®1 { USART3_RX_STA|=1\u0026lt;\u0026lt;15; //å¼ºåˆ¶æ ‡è®°æ¥æ”¶å®Œæˆ //\tUSART3_ClearBuf(); } } } //å½“ä¸²å£3æ•°æ®ä¸å®šä¹‰å­—ç¬¦ä¸²ç›¸åŒåˆ™æ‰§è¡Œä»¥ä¸‹ä»£ç  if (strcmp(USART3_RX_BUF, \u0026#34;ping\u0026#34;) == 0){ u3_printf(\u0026#34;ç”µæœºè½¬é€Ÿ: %d\\r\\næ¸©åº¦: %.2f\\r\\næ¹¿åº¦: %.2f\\r\\n\u0026#34;, rate, temp, hum); } } å…¶ä¸­å…³äº USART3_RX_STA çš„è¿ç®—å’Œæ¡ä»¶åˆ¤æ–­è¯­å¥æˆ‘ç ”ç©¶äº†å¾ˆä¹…, é•¿æ—¶é—´æ²¡æœ‰æ¥è§¦Cäº†, å¾ˆå¤šä½è¿ç®—éƒ½å¿˜äº†, åŠ ä¸Šå•ç‰‡æœºçš„å¯„å­˜å™¨çš„ç›¸å…³åŸºç¡€æŒæ¡å¾—ä¸å¤Ÿç†Ÿç»ƒ, å¯¼è‡´åœ¨è¿™ä¸€å—çš„ç†è§£å¾ˆæ…¢.\né¦–å…ˆçœ‹ä¸€ä¸‹åœ¨ usart3.c ä¸­ USART3_RX_STA çš„å®šä¹‰, é‡Œé¢æœ‰æ­£ç‚¹åŸå­å’Œæˆ‘é¢å¤–åŠ çš„æ³¨é‡Š:\n1 2 3 4 5 6 7 8 //é€šè¿‡åˆ¤æ–­æ¥æ”¶è¿ç»­2ä¸ªå­—ç¬¦ä¹‹é—´çš„æ—¶é—´å·®ä¸å¤§äº10msæ¥å†³å®šæ˜¯ä¸æ˜¯ä¸€æ¬¡è¿ç»­çš„æ•°æ®. //å¦‚æœ2ä¸ªå­—ç¬¦æ¥æ”¶é—´éš”è¶…è¿‡10ms,åˆ™è®¤ä¸ºä¸æ˜¯1æ¬¡è¿ç»­æ•°æ®.ä¹Ÿå°±æ˜¯è¶…è¿‡10msæ²¡æœ‰æ¥æ”¶åˆ°ä»»ä½•æ•°æ®,åˆ™è¡¨ç¤ºæ­¤æ¬¡æ¥æ”¶å®Œæ¯•. //æ¥æ”¶åˆ°çš„æ•°æ®çŠ¶æ€ (USART3_RX_STAä½æ•°çš„å€¼) //[15]:0,æ²¡æœ‰æ¥æ”¶åˆ°æ•°æ®;1,æ¥æ”¶åˆ°äº†ä¸€æ‰¹æ•°æ®. //[14:0]:æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦ //u16ä¸ºunsigned shortæ˜¯16ä½, å 2å­—èŠ‚ //è¯¥å˜é‡åŒæ—¶è¿˜è®°å½•æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦ vu16 USART3_RX_STA=0; å¼•ç”¨æ­£ç‚¹åŸå­åœ¨æ•™ç¨‹é‡Œçš„è¯: è¿™é‡Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå°å°çš„æ¥æ”¶åè®®ï¼šé€šè¿‡è¿™ä¸ªå‡½æ•°ï¼Œé…åˆä¸€ä¸ªæ•°ç»„ USART_RX_BUF[], ä¸€ä¸ªæ¥æ”¶çŠ¶æ€å¯„å­˜å™¨ USART_RX_STA (æ­¤å¯„å­˜å™¨å…¶å®å°±æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡, ç”±ä½œè€…è‡ªè¡Œæ·»åŠ . ç”±äºå®ƒèµ·åˆ°ç±»ä¼¼å¯„å­˜å™¨çš„åŠŸèƒ½, è¿™é‡Œæš‚ä¸”ç§°ä¹‹ä¸ºå¯„å­˜å™¨) å®ç°å¯¹ä¸²å£æ•°æ®çš„æ¥æ”¶ç®¡ç†. USART_RX_BUFçš„å¤§å°ç”± USART_REC_LEN å®šä¹‰, ä¹Ÿå°±æ˜¯ä¸€æ¬¡æ¥æ”¶çš„æ•°æ®æœ€å¤§ä¸èƒ½è¶…è¿‡ USART_REC_LEN ä¸ªå­—èŠ‚. USART_RX_STA æ˜¯ä¸€ä¸ªæ¥æ”¶çŠ¶æ€å¯„å­˜å™¨å…¶å„çš„å®šä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š\nUSART_RX_STA bit15 bit14 bit13~0 æ¥æ”¶å®Œæˆæ ‡å¿— æ¥æ”¶åˆ°0x0Dæ ‡å¿— æ¥æ”¶åˆ°çš„æœ‰æ•ˆæ•°æ®ä¸ªæ•° æˆ‘ä»¬å¯ä»¥çŸ¥é“è¿™ä¸ªSTAå˜é‡åªç”¨ä½œæ˜¯å¦æ¥æ”¶å®Œæˆçš„æ ‡å¿—å˜é‡, ç¬¬15ä½ä¸º0è¡¨ç¤ºæ²¡æœ‰æ¥æ”¶å®Œ, ä¸º1è¡¨ç¤ºæ¥æ”¶å®Œæˆ, å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨è·å–ä¸²å£æ•°æ®çš„ä»£ç ä¸­åŠ å…¥å¯¹STAçš„åˆ¤æ–­, æ¯”å¦‚å¦‚ä¸‹ä»£ç :\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 int main(void) { u8 t; u16 times=0; delay_init(); //å»¶æ—¶å‡½æ•°åˆå§‹åŒ– uart3_init(115200); //ä¸²å£åˆå§‹åŒ–ä¸º115200 while(1) { if(USART3_RX_STA\u0026amp;0x8000) //ç”¨äºåˆ¤æ–­ç¬¬15ä½æ˜¯å¦ä¸º1, è‹¥ä¸º0åˆ™è®¡ç®—ç»“æœä¸º0, ä»£ç ä¸ä¼šæ‰§è¡Œ { u3_printf(USART3_RX_BUF); //æ‰“å°å­—ç¬¦ä¸² u3_printf(\u0026#34;\\r\\n\u0026#34;); //æ’å…¥æ¢è¡Œ USART3_ClearBuf(); //æ¸…ç©ºä¸²å£ç¼“å­˜æ•°æ® USART_RX_STA=0; //è°ƒç”¨å®Œä¸²å£æ•°æ®åå¯¹STAç½®0, è¡¨ç¤ºä¸²å£æ¢å¤æ¥æ”¶çŠ¶æ€ } } } æœ‰äº›ç½‘ä¸Šçš„demoæ˜¯ USART3_RX_STA \u0026amp; (1\u0026lt;\u0026lt;15), å…¶å®æ˜¯ä¸€æ ·çš„, 0x8000å’Œ1\u0026laquo;15æ¢ç®—æˆäºŒè¿›åˆ¶éƒ½æ˜¯â€­1000 0000 0000 0000, æœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹STAæœ€åä¸€ä½è¿›è¡Œåˆ¤æ–­, è€Œåœ¨ä»£ç ä¸­å¼ºè¡Œå°†STAæœ€åä¸€ä½ç½®1å¯ä»¥ä½¿ç”¨ USART3_RX_STA|=0x8000, é“ç†æ˜¯ä¸€æ ·çš„. â€¬\nå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦è¿›è¡Œåˆ¤æ–­, å¦‚æœå¤§äº0åˆ™è¡¨ç¤ºä¸²å£æ¥æ”¶åˆ°æ•°æ®, å°†å…¶æ‰“å°å‡ºæ¥å³å¯, è‡³äºä¸²å£æ˜¯å¦å·²ç»æ¥æ”¶å®Œæˆ, åœ¨ä¹‹å‰çš„åˆå§‹åŒ–å‡½æ•°ä¸­å¯ä»¥çœ‹åˆ°äº‹å…ˆå®šä¹‰å¹¶å¼€å¯äº†å®šæ—¶å™¨4, å®ƒæ˜¯ç”¨æ¥åˆ¤æ–­è§„å®šæ—¶é—´å†…ä¸²å£æœ‰æ²¡æœ‰æ¥æ”¶åˆ°æ–°æ•°æ®çš„, å¦‚æœè¶…å‡ºå®šä¹‰æ—¶é—´ä¸²å£æ²¡æœ‰æ”¶åˆ°æ–°æ•°æ®, åˆ™åœ¨ä»£ç ä¸­å¯¹çŠ¶æ€ä½èµ‹å€¼è¡¨ç¤ºå·²ç»æ¥å—å®Œæˆ, è¿™ä¸ªæ–¹æ³•æ˜¯æ ¹æ®é¡¹ç›®éœ€æ±‚åˆ¶å®šçš„, å¯¹ä¸²å£æ•°æ®æŸå‡ ä½è¿›è¡Œæ ¡å¯¹æ¥åˆ¤æ–­æ˜¯å¦æ¥æ”¶å®Œæˆä¹Ÿå®Œå…¨æ˜¯å¯ä»¥çš„.\næ€»ç»“ é€šè¿‡å¯¹STM32çš„å…¥é—¨å­¦ä¹ , æˆ‘å¯¹å•ç‰‡æœºçš„ä¸€äº›åŠŸèƒ½å®ç°æœ‰äº†æ›´æ·±çš„äº†è§£, ä¸è¿‡è¿™å‘¨è¿›åº¦ä¹Ÿæ˜¯æ…¢ä¸‹æ¥äº†, å› ä¸ºç‰©èµ„é‡‡è´­æ‰åˆšåˆšä¸ŠæŠ¥, è¦ç­‰æ¨¡å—æ¥äº†æˆ‘ä»¬æ‰èƒ½ç»§ç»­ä¸‹ä¸€æ­¥çš„è°ƒè¯•, æ¥ä¸‹æ¥å°±æš‚æ—¶æ‰“ç®—æµ‹è¯•ä¸€ä¸‹STM32é€šè¿‡TTL-RS485å‘ä¸²å£æœåŠ¡å™¨å‘é€æ•°æ®. è¿™ç¯‡ä¸œè¥¿å±…ç„¶æ–­æ–­ç»­ç»­å†™äº†å‡ å¤©, ä»Šå¤©æ”¾å‡ç¬¬ä¸€å¤©, ç»“æœæ—©ä¸Šåˆ°ä¸‹åˆä¸¤ç‚¹å¤šåœç”µ, å¤–é¢è¿˜æœ‰è£…ä¿®å£°, è¿™ä¸ªå‡æœŸä½“éªŒçœŸæ˜¯ä¸€èˆ¬\u0026hellip;ğŸ¤¯\n","date":"2020-06-03T16:47:33+08:00","permalink":"https://cgcel.github.io/posts/stm32-%E7%9A%84%E4%B8%B2%E5%8F%A3%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/","title":"STM32 çš„ä¸²å£å­¦ä¹ æ€»ç»“"},{"content":"å†™åœ¨å‰é¢ æ‰‹ä¸Šçš„ä¸€åŠ 7å·²ç» root äº†ä¸€ä¸ªå¤šæœˆ, ä¸€åŠ çš„æ›´æ–°è¿Ÿè¿Ÿä¸æ¥, å®‰å…¨è¡¥ä¸è¿˜åœç•™åœ¨3æœˆä»½çš„, ç»ˆäºåœ¨ä»Šå¤© Oxygen Updater æ¨é€äº† OB13 æ›´æ–°, äºæ˜¯æˆ‘èµ¶ç´§ä¸‹ä¸‹æ¥, å°è¯•ä¸€ä¸‹ä¿ç•™ root çŠ¶æ€çš„ OTA å‡çº§.\næ“ä½œæ­¥éª¤ ç½‘ä¸Šå†²æµªä¸€ä¸‹å°±å¯ä»¥æ‰¾åˆ°å¾ˆå¤šæ•™ç¨‹, ä¸è¿‡å¤šæ•°æ˜¯è‹±æ–‡çš„, å› ä¸ºä¸€åŠ åœ¨å›½å†…è¿˜ä¸å¤Ÿä¸»æµ. æ€»ç»“ä¸€ä¸‹åŸºæœ¬æ­¥éª¤å¦‚ä¸‹:\nä¸‹è½½å…¨é‡åŒ…, è¿›å…¥ç³»ç»Ÿæ›´æ–° - é€‰æ‹©æœ¬åœ°å®‰è£…, å®‰è£…å®Œæ¯•åä¸è¦é‡å¯ åœ¨ magisk manager ä¸­å®‰è£… TWRP A/B Retention Script æ‰“å¼€ magisk manager, å¸è½½ - è¿˜åŸåŸå‚é•œåƒ, å¸è½½æˆåŠŸåä¸è¦é‡å¯ åœ¨ magisk manager ä¸­, ç‚¹å‡»å®‰è£… - å®‰è£…åˆ°æœªä½¿ç”¨çš„æ§½ä½(OTAå) - ç‚¹å‡»é‡å¯ æ³¨æ„é‡å¯åæ‰‹æœº (å¯èƒ½) ä¼šé‡å¯ä¸¤æ¬¡, ä¸ç”¨è¿›è¡Œå…¶ä»–æ“ä½œ, ç­‰å¾…å…¶é‡å¯å®Œæˆå³å¯.\nå…·ä½“æ“ä½œ ä¸ºäº†è®°å½•å¾—è¯¦ç»†ä¸€ç‚¹, æˆ‘æˆªäº†ä¸€äº›å›¾, ä¸‹é¢å°†æŒ‰ç…§æ­¥éª¤è´´å‡º.\n1.ä¸‹è½½/å®‰è£…å…¨é‡åŒ… åœ¨ Oxygen Updater ä¸­ä¸‹è½½å…¨é‡åŒ….\nè¿›å…¥è®¾ç½®å¹¶é€‰æ‹©æœ¬åœ°å®‰è£…, ä¸€èˆ¬å…¨é‡åŒ…éƒ½ä¼šè¢«ä¸‹è½½è‡³æ ¹ç›®å½•.\nå®‰è£…å®Œæ¯•åä¸è¦é‡å¯, ç›´æ¥é€€å‡ºå‡çº§ç•Œé¢å³å¯.\n2. å®‰è£… TWRP A/B Retention Script åœ¨magisk managerä¸­ä¸‹è½½å®‰è£… TWRP A/B Retention Script, å®‰è£…å®Œæˆåè¿”å›magisk managerä¸»ç•Œé¢.\n3. å¸è½½magisk æ‰“å¼€ magisk manager, å¸è½½ - è¿˜åŸåŸå‚é•œåƒ, å¸è½½æˆåŠŸåä¸è¦é‡å¯\n4. å®‰è£…magiskåˆ°å¦ä¸€ä¸ªæ§½ä½ ç°åœ¨çš„å®‰å“æœºéƒ½æ˜¯ A/B åˆ†åŒºçš„, ç³»ç»Ÿçš„å®‰è£…/æ›´æ–°æ˜¯è£…è‡³å½“å‰è¿è¡Œç³»ç»Ÿçš„å¦ä¸€ä¸ªæ§½ä½ä¸­, ä¹Ÿå°±æ˜¯æœªæ¿€æ´»çš„æ§½ä½.\nåœ¨ magisk manager ä¸­, ç‚¹å‡»å®‰è£… - å®‰è£…åˆ°æœªä½¿ç”¨çš„æ§½ä½(OTAå) - ç‚¹å‡»é‡å¯\n5. é‡å¯æ‰‹æœºå¹¶æ£€éªŒ åœ¨ magisk manager ä¸­ç‚¹å‡»é‡å¯å, æ‰‹æœº (å¯èƒ½) ä¼šæ‰§è¡Œä¸¤æ¬¡é‡å¯, æ­¤æ—¶ä¸ç”¨æ‹…å¿ƒå˜ç –(ç‹—å¤´), ç­‰ä»–è‡ªå·±é‡å¯å®Œæˆå°±è¡Œäº†.\né‡å¯å®Œæˆå, æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå·²ç»æ›´æ–°è‡³ OB13.\nç„¶åéšä¾¿ä¸‹ä¸€ä¸ª app æ£€æµ‹ä¸€ä¸‹æ‰‹æœºæ˜¯å¦ä¿æŒäº† root çŠ¶æ€.\næ€»ç»“ å­¦ä¼šè¿™ä¸ªæ–¹æ³•ä¹‹å, ä»¥åå¦‚æœè¿˜ä¹°ä¸€åŠ å°±å¯ä»¥åˆ°æ‰‹å°± root äº† (å¦‚æœè¿˜ä¹°çš„è¯), çœŸæ˜¯ç¾æ»‹æ»‹, å¥½äº†æ€»ç»“å®Œæ¯•.\n","date":"2020-05-07T15:02:04+08:00","permalink":"https://cgcel.github.io/posts/%E4%B8%80%E5%8A%A0-7-ota-%E5%8D%87%E7%BA%A7%E7%B3%BB%E7%BB%9F%E5%B9%B6%E4%BF%9D%E7%95%99-root-%E8%AE%B0%E5%BD%95/","title":"ä¸€åŠ  7 OTA å‡çº§ç³»ç»Ÿå¹¶ä¿ç•™ root è®°å½•"},{"content":"å‰è¨€ å‰ä¸€é˜µå¤§ä½¬ç»™äº†å— RFID è¯»å†™æ¨¡å—è®©æˆ‘ä»¬ç ”ç©¶, æ­£å¥½åˆ«äººæ²¡æœ‰æ¿å­, æˆ‘å°±å…ˆä¸€æ­¥æ‹¿ç€æˆ‘çš„ nano å’Œ esp8266 å»åŠå…¬å®¤ç©ç©äº†.\nä»€ä¹ˆæ˜¯RFID? ç®€ä»‹ æ— çº¿å°„é¢‘è¯†åˆ«å³å°„é¢‘è¯†åˆ«æŠ€æœ¯ï¼ˆRadio Frequency Identificationï¼ŒRFIDï¼‰ï¼Œæ˜¯è‡ªåŠ¨è¯†åˆ«æŠ€æœ¯çš„ä¸€ç§ï¼Œé€šè¿‡æ— çº¿å°„é¢‘æ–¹å¼è¿›è¡Œéæ¥è§¦åŒå‘æ•°æ®é€šä¿¡ï¼Œåˆ©ç”¨æ— çº¿å°„é¢‘æ–¹å¼å¯¹è®°å½•åª’ä½“ï¼ˆç”µå­æ ‡ç­¾æˆ–å°„é¢‘å¡ï¼‰è¿›è¡Œè¯»å†™ï¼Œä»è€Œè¾¾åˆ°è¯†åˆ«ç›®æ ‡å’Œæ•°æ®äº¤æ¢çš„ç›®çš„ï¼Œå…¶è¢«è®¤ä¸ºæ˜¯21ä¸–çºªæœ€å…·å‘å±•æ½œåŠ›çš„ä¿¡æ¯æŠ€æœ¯ä¹‹ä¸€ã€‚\næ— çº¿å°„é¢‘è¯†åˆ«æŠ€æœ¯é€šè¿‡æ— çº¿ç”µæ³¢ä¸æ¥è§¦å¿«é€Ÿä¿¡æ¯äº¤æ¢å’Œå­˜å‚¨æŠ€æœ¯ï¼Œé€šè¿‡æ— çº¿é€šä¿¡ç»“åˆæ•°æ®è®¿é—®æŠ€æœ¯ï¼Œç„¶åè¿æ¥æ•°æ®åº“ç³»ç»Ÿï¼ŒåŠ ä»¥å®ç°éæ¥è§¦å¼çš„åŒå‘é€šä¿¡ï¼Œä»è€Œè¾¾åˆ°äº†è¯†åˆ«çš„ç›®çš„ï¼Œç”¨äºæ•°æ®äº¤æ¢ï¼Œä¸²è”èµ·ä¸€ä¸ªæå…¶å¤æ‚çš„ç³»ç»Ÿã€‚åœ¨è¯†åˆ«ç³»ç»Ÿä¸­ï¼Œé€šè¿‡ç”µç£æ³¢å®ç°ç”µå­æ ‡ç­¾çš„è¯»å†™ä¸é€šä¿¡ã€‚æ ¹æ®é€šä¿¡è·ç¦»ï¼Œå¯åˆ†ä¸ºè¿‘åœºå’Œè¿œåœºï¼Œä¸ºæ­¤è¯»/å†™è®¾å¤‡å’Œç”µå­æ ‡ç­¾ä¹‹é—´çš„æ•°æ®äº¤æ¢æ–¹å¼ä¹Ÿå¯¹åº”åœ°è¢«åˆ†ä¸ºè´Ÿè½½è°ƒåˆ¶å’Œåå‘æ•£å°„è°ƒåˆ¶ã€‚\nå·¥ä½œåŸç† RFIDæŠ€æœ¯çš„åŸºæœ¬å·¥ä½œåŸç†å¹¶ä¸å¤æ‚ï¼šæ ‡ç­¾è¿›å…¥é˜…è¯»å™¨åï¼Œæ¥æ”¶é˜…è¯»å™¨å‘å‡ºçš„å°„é¢‘ä¿¡å·ï¼Œå‡­å€Ÿæ„Ÿåº”ç”µæµæ‰€è·å¾—çš„èƒ½é‡å‘é€å‡ºå­˜å‚¨åœ¨èŠ¯ç‰‡ä¸­çš„äº§å“ä¿¡æ¯ï¼ˆPassive Tagï¼Œæ— æºæ ‡ç­¾æˆ–è¢«åŠ¨æ ‡ç­¾ï¼‰ï¼Œæˆ–è€…ç”±æ ‡ç­¾ä¸»åŠ¨å‘é€æŸä¸€é¢‘ç‡çš„ä¿¡å·ï¼ˆActive Tagï¼Œæœ‰æºæ ‡ç­¾æˆ–ä¸»åŠ¨æ ‡ç­¾ï¼‰ï¼Œé˜…è¯»å™¨è¯»å–ä¿¡æ¯å¹¶è§£ç åï¼Œé€è‡³ä¸­å¤®ä¿¡æ¯ç³»ç»Ÿè¿›è¡Œæœ‰å…³æ•°æ®å¤„ç†ã€‚\nä¸€å¥—å®Œæ•´çš„ RFID ç³»ç»Ÿï¼Œ æ˜¯ç”±é˜…è¯»å™¨ä¸ç”µå­æ ‡ç­¾ä¹Ÿå°±æ˜¯æ‰€è°“çš„åº”ç­”å™¨åŠåº”ç”¨è½¯ä»¶ç³»ç»Ÿä¸‰ä¸ªéƒ¨åˆ†æ‰€ç»„æˆï¼Œå…¶å·¥ä½œåŸç†æ˜¯é˜…è¯»å™¨ï¼ˆReaderï¼‰å‘å°„ä¸€ç‰¹å®šé¢‘ç‡çš„æ— çº¿ç”µæ³¢èƒ½é‡ï¼Œç”¨ä»¥é©±åŠ¨ç”µè·¯å°†å†…éƒ¨çš„æ•°æ®é€å‡ºï¼Œæ­¤æ—¶ Reader ä¾¿ä¾åºæ¥æ”¶è§£è¯»æ•°æ®ï¼Œ é€ç»™åº”ç”¨ç¨‹åºåšç›¸åº”çš„å¤„ç†ã€‚\næµ‹è¯•æ¨¡å— æ‰‹å¤´ä¸Šçš„æ¨¡å—æ˜¯ JRD-100, æ¨¡å—çš„æµ‹è¯•éå¸¸é¡ºåˆ©, ç›´æ¥ä½¿ç”¨å‚å®¶æä¾›çš„ GUI, é¦–å…ˆå®‰è£…ç›¸åº”é©±åŠ¨, æ¥ç€é€šè¿‡ TTL è½¬ USB å°†æ¨¡å—è¿æ¥ä¸Šç”µè„‘å°±å¯ä»¥è¿›è¡Œ RFID çš„è¯»å†™æ“ä½œäº†, è¿™é‡Œåªå°è¯•äº†è¯»ç åŠŸèƒ½, æµ‹è¯•æ— è¯¯åå°±å¼€å§‹è½¯ä»¶æ–¹é¢çš„å¼€å‘äº†. è€Œæ¨¡å—çš„æ“ä½œæ–¹å¼ä¹Ÿéå¸¸ä¸»æµ, ä½¿ç”¨ä¸²å£æŒ‡ä»¤å¯¹å…¶è¿›è¡Œæ“ä½œ, è€Œè¿”å›çš„æ•°æ®åŒæ ·ä¼šé€šè¿‡ä¸²å£ä¸ä¸»æ¿é€šä¿¡.\nå¼€å§‹ç¼–å†™Arduinoåº“ åŸºæœ¬ç»“æ„ Arduino çš„åº“æ–‡ä»¶å…¶å®å°±æ˜¯ C++ çš„ä¸€ä¸ªç±», å…¶ä¸­å¿…é¡»è¦å¼•å…¥ Arduino æ ¸å¿ƒç±» Arduino.h, å¦åˆ™æ— æ³•åœ¨ Arduino ä¸Šä½¿ç”¨. å…¶å®åœ¨ä¹‹å‰çš„ä½¿ç”¨è¿‡ç¨‹ä¸­å¯¹ Arduino åº“çš„ç»“æ„å·²ç»æœ‰æ‰€äº†è§£, åŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥ä¸‹ç»“æ„:\n1 2 3 4 5 6 -- JrdReader -- example -- xxx xxx.ino JrdReader.h rdReader.cpp ç¼–è¯‘ç¯å¢ƒ åœ¨ Arduino IDE ä¸­ç¼–å†™è‡ªå®šä¹‰åº“æ“ä½œæ¯”è¾ƒç®€å•, åœ¨æ–°å»ºå¥½çš„ Arduino é¡¹ç›®ä¸­æ–°å»ºTabå¹¶å‘½åä¸º .h ä»¥åŠ .cpp æ–‡ä»¶å³å¯, å¦‚ä¸‹å›¾æ‰€ç¤º:\nå»ºå¥½ä¹‹åçš„ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤º, ç„¶åå°±å¯ä»¥å¼€å§‹æ•²ä»£ç ç¼–è¯‘äº†.\nå¤´æ–‡ä»¶ä¸æºæ–‡ä»¶ æŒ‰ç…§ C++ è¯­æ³•åˆ›å»ºå¤´æ–‡ä»¶:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 #include \u0026#34;Arduino.h\u0026#34; #ifndef _JRDREADER_H__ #define _JRDREADER_H__ class JrdReader { private: public: JrdReader(); String readOnce(); }; #endif åœ¨æºæ–‡ä»¶ä¸­å®ç°å¤´æ–‡ä»¶çš„è‡ªå®šä¹‰æ–¹æ³•:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 #include \u0026#34;Arduino.h\u0026#34; #include \u0026#34;JrdReader.h\u0026#34; #include \u0026#34;HardwareSerial.h\u0026#34; /** * read once HEX command */ char read_once_cmd[7] = {0xBB, 0x00, 0x22, 0x00, 0x00, 0x22, 0x7E}; String comdata = \u0026#34;\u0026#34;; JrdReader::JrdReader() { } String JrdReader::readOnce() { String baggageCode = \u0026#34;\u0026#34;; String comstr = \u0026#34;\u0026#34;; // send read_once command Serial.write(read_once_cmd, 7); delay(50); while (Serial.available() \u0026gt; 0) { char data = Serial.read(); comdata += String(data, HEX); delay(50); } if (comdata.length() \u0026gt; 0) { Serial.print(\u0026#34;comdata: \u0026#34;); for (int i = 0; i \u0026lt; comdata.length(); i++) { comstr += String(comdata[i]); Serial.print(comdata[i]); } Serial.println(); } // clear comdata in order to accept another one. comdata = \u0026#34;\u0026#34;; // format comstr comstr.replace(\u0026#34;ffff\u0026#34;, \u0026#34;ss\u0026#34;); comstr.replace(\u0026#34;ff\u0026#34;, \u0026#34;\u0026#34;); comstr.replace(\u0026#34;ss\u0026#34;, \u0026#34;ff\u0026#34;); Serial.println(\u0026#34;comstr: \u0026#34; + comstr); if (comstr.length() \u0026gt; 13) { // read RFID code for (int i = 18; i \u0026lt; 28; i++) { baggageCode += comstr[i]; } } else { baggageCode = \u0026#34;è¯»å–é”™è¯¯ (Unable to read)\u0026#34;; } return baggageCode; } ç”±äºæ‰‹å¤´ä¸Šè¿˜æœ‰åˆ«çš„ä»»åŠ¡æ‰€ä»¥å…ˆå®ç°äº†æœ€ç®€å•çš„å•æ¬¡è¯»ç åŠŸèƒ½, åŸç†åˆ™æ˜¯å°†è¯´æ˜ä¹¦ä¸­æä¾›çš„åå…­è¿›åˆ¶ä¸²å£æŒ‡ä»¤é€šè¿‡ Arduino çš„ Serial å‡½æ•°å‘é€ç»™ JRD-100 æ¨¡å—, æ¨¡å—å¤„ç†å®Œæ¯•åä¼šå°†æ•°æ®é€šè¿‡ä¸²å£è¿”å›ç»™ Arduino, æ­¤æ—¶åªéœ€è¦é€šè¿‡ä¸²å£æ¥æ”¶æ–°ä¿¡æ¯å¹¶æŒ‰ç…§ä¸€å®šè§„å¾‹æ ¼å¼åŒ–, è§£æå°±å¯ä»¥å¾—åˆ°æƒ³è¦çš„æ•°æ®, å…¶ä¸­å› ä¸ºå¯¼å…¥äº† Arduino.h è¿™ä¸ªæ ¸å¿ƒåº“æ–‡ä»¶, æ‰€ä»¥æˆ‘ä»¬åœ¨å¼€å‘ Arduino åº“æ–‡ä»¶çš„æ—¶å€™å¯ä»¥è°ƒç”¨ä¸€äº› Arduino çš„ç¼–ç¨‹æ–¹æ³•, æ¯”å¦‚ä¸Šæ–¹ä»£ç ä¸­çš„ Serial.write(), Serial.print() ç­‰å‡½æ•°.\nåŠ è½½åº“å¹¶ä½¿ç”¨ æŒ‰ç…§ä¸Šè¿° åŸºæœ¬ç»“æ„ ä¸­çš„é¡¹ç›®ç»“æ„ä¿å­˜æ–‡ä»¶å, å°†æ–‡ä»¶å¤¹å¤åˆ¶åˆ° Arduino çš„ libraries æ–‡ä»¶å¤¹ä¸­, æˆ–è€…å°†æ–‡ä»¶å¤¹æ‰“åŒ…æˆ .zip æ ¼å¼, ç„¶ååœ¨ Arduino IDE ä¸­å®ƒé€šè¿‡ é¡¹ç›®-åŠ è½½åº“-æ·»åŠ .ZIPåº“ çš„æ–¹æ³•æ·»åŠ , ç„¶åæœ€å¥½é‡å¯ä¸€ä¸‹ Arduino IDE, æ­¤æ—¶å°±å¯ä»¥ç›´æ¥åœ¨æ–°å»ºçš„ .ino æ–‡ä»¶ä¸­å¼•å…¥è‡ªå®šä¹‰çš„åº“æ–‡ä»¶äº†.\nåç»­è®¡åˆ’ è¿™ä¸ªåº“å¯ä»¥å†™çš„æ–¹æ³•è¿œä¸æ­¢ä¸€ä¸ª, æ¯”å¦‚è¯»å–å¤šæ¬¡, å†™ç ç­‰æ–¹æ³•, åç»­åº”è¯¥ä¼šåŠ ä¸Š, åŒæ—¶å·²ç»å®ç°çš„ readOnce() æ–¹æ³•çš„è¯»å–ç‡è¿˜æœ‰å¾…æé«˜, ä¼°è®¡ä¸å‡½æ•°å»¶æ—¶æœ‰ä¸€å®šå…³ç³», éœ€è¦æ…¢æ…¢è°ƒè¯•å¾—åˆ°æœ€ä½³çš„æ•°æ®æ¥æ”¶é—´éš”.\nç¼–è¯‘ç¯å¢ƒçš„æ‘¸ç´¢ Arduino çš„ IDE ç”±äºæ²¡æœ‰ä»£ç è¡¥å…¨ä»¥åŠæ–‡ä»¶ç®¡ç†è€Œå¹¿å—è¯Ÿç—…, äºæ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å¾ˆå¤šç¬¬ä¸‰æ–¹IDEç»“åˆæ’ä»¶æ¥è¿›è¡Œ Arduino å¼€å‘, æ¯”è¾ƒå¸¸ç”¨çš„æœ‰ VS code, sublime, code blocksç­‰ç­‰, æˆ‘ä¹ŸåŒæ ·éƒ½å°è¯•è¿‡, ä½†æ˜¯éƒ½é‡åˆ°äº†å„ç§å„æ ·çš„é—®é¢˜, æœ€ç»ˆå›åˆ°äº†å®˜æ–¹çš„ IDE è¿›è¡Œå¼€å‘, åªèƒ½è¯´ç¬¬ä¸‰æ–¹çš„é¢æ’ä»¶è™½ç„¶æ”¯æŒ, ä½†æ˜¯å­˜åœ¨å¾ˆå¤šç¼ºé™·, æ¯”å¦‚è·¯å¾„å¸¸å¸¸éœ€è¦å¯¼å…¥, åªæ”¯æŒåˆ°ä¸€äº›ç‰ˆæœ¬çš„ Arduino IDE ç­‰ç­‰, å¸Œæœ›å®˜æ–¹çš„ç¼–è¯‘å™¨èƒ½å¤Ÿæ”¯æŒæ›´å¤šåŠŸèƒ½, è®©å¼€å‘å˜å¾—ç®€å•å§.\nç»“å°¾ å¯èƒ½è¿™æ˜¯åšå®¢åˆ›å»ºåˆ°ç°åœ¨æœ€é•¿çš„ä¸€ç¯‡äº†, æ¯•ç«Ÿå‰é¢å¤åˆ¶äº†ä¸€å¤§æ®µä»‹ç»ğŸ¤“, é‚£ä¹ˆå°±å…ˆåˆ°æ­¤ä¸ºæ­¢å§, ä¸‹é¢é™„ä¸Šä¸€äº›å‚è€ƒç½‘å€:\nhttps://baike.baidu.com/item/%E5%B0%84%E9%A2%91%E8%AF%86%E5%88%AB%E6%8A%80%E6%9C%AF/9524139?fromtitle=RFID\u0026fromid=497249 https://www.arduino.cc/en/Hacking/libraryTutorial https://www.arduino.cc/en/Reference/APIStyleGuide ","date":"2020-04-26T19:37:43+08:00","permalink":"https://cgcel.github.io/posts/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA-arduino-%E5%BA%93/","title":"æˆ‘çš„ç¬¬ä¸€ä¸ª Arduino åº“"},{"content":"å‰è¨€ åœ¨å®¶ä¸­é—²æ¥æ— äº‹, æƒ³èµ·äº†ç§¯ç°å·²ä¹…çš„æ ‘è“æ´¾3B, å†³å®šæ¥æ£é¼“ä¸€ç•ª, æ­¤å‰è¯•è¿‡ä½¿ç”¨èŠ±ç”Ÿå£³çš„å…è´¹å†…ç½‘ç©¿é€æœåŠ¡, ä½“éªŒä¸€èˆ¬, ä»èˆå‹é‚£å¬è¯´å¯ä»¥ç”¨ frp æ¥å®ç°, äºæ˜¯å‡†å¤‡è¯•ä¸€è¯•. frp æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp åè®®ï¼Œä¸º http å’Œ https åº”ç”¨åè®®æä¾›äº†é¢å¤–çš„èƒ½åŠ›ï¼Œä¸”å°è¯•æ€§æ”¯æŒäº†ç‚¹å¯¹ç‚¹ç©¿é€ã€‚\nå‡†å¤‡ é¦–å…ˆå‡†å¤‡å¥½ä»¥ä¸‹ç‰©å“:\næ ‘è“æ´¾3B PC ä¸€å° VPS ä¸€å° æ˜¾ç¤ºå™¨ (ç”¨äºæ ‘è“æ´¾åˆå§‹åŒ–, æ ¹æ®è‡ªå·±çš„æƒ…å†µå¯ä»¥ä½¿ç”¨åˆ«çš„æ–¹å¼) é…ç½®è¿‡ç¨‹ 1. åˆå§‹åŒ–æ ‘è“æ´¾ é¦–å…ˆåœ¨æ ‘è“æ´¾ä¸Šå®‰è£…ç³»ç»Ÿ, æˆ‘å®‰è£…çš„æ˜¯ Raspbian Buster with desktop, å°†ç³»ç»Ÿé•œåƒåˆ·å†™è¿›SDå¡å, é€šè¿‡æ¥å…¥æ˜¾ç¤ºå™¨çš„æ–¹å¼æ§åˆ¶æ ‘è“æ´¾è”ç½‘, å¼€å¯ SSH ä»¥åŠ VNC , è¿™é‡Œè¯¦ç»†è¿‡ç¨‹å°±ä¸è®°å½•, ç®—æ˜¯ç©æ ‘è“æ´¾çš„åŸºæœ¬æ“ä½œäº†. ç„¶åæˆ‘ä»¬æ‰¾åˆ°æ ‘è“æ´¾çš„ IP, ç„¶åä½¿ç”¨ xshell è¿æ¥æ ‘è“æ´¾, åˆå§‹åŒ–æ ‘è“æ´¾çš„è¿‡ç¨‹åˆ°æ­¤ç»“æŸ.\n2. å‡†å¤‡VPS è¿™æ¬¡æˆ‘ç§Ÿäº† VirMach çš„æœåŠ¡å™¨, æœ€ä½é…çš„ VPS åªéœ€1.25åˆ€/æœˆ, åº”è¯¥æ˜¯æˆ‘ç”¨è¿‡çš„æœ€ä¾¿å®œçš„ VPS äº†, ä¸è¿‡ IP å¤„äºè¢«åŠ ban çš„çŠ¶æ€, æŒ‚ä¸Šä»£ç†æ‰èƒ½åœ¨xshellä¸Šç¨³å®šè¿æ¥.\n3. é…ç½®frp frp æ˜¯ GitHub ä¸Šçš„å¼€æºé¡¹ç›®, å¯ä»¥ç›´æ¥åˆ° https://github.com/fatedier/frp/releases ä¸­ä¸‹è½½, è¿™é‡Œ, æ ¹æ® VPS é€‰æ‹© frp_0.31.2_linux_amd64.tar.gz, è€Œæ ‘è“æ´¾åˆ™é€‰æ‹©ä¸‹è½½ frp_0.31.2_linux_arm.tar.gz. æ ¹æ®å¯¹åº”çš„æ“ä½œç³»ç»ŸåŠæ¶æ„, ä» Release é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ç¨‹åº, å°† frps åŠ frps.ini æ”¾åˆ°å…·æœ‰å…¬ç½‘ IP çš„æœºå™¨ä¸Š, å°† frpc åŠ frpc.ini æ”¾åˆ°å¤„äºå†…ç½‘ç¯å¢ƒçš„æœºå™¨ä¸Š. è€Œå®é™…ä¸Šæ¯ä¸€ä¸ªå‹ç¼©åŒ…å†…éƒ½åŒ…å«äº†è¿™ä¸¤ä¸ªæ–‡ä»¶, åªéœ€è¦æ ¹æ®æœºå™¨çš„ç±»å‹æ¥è¿›è¡Œé…ç½®å¹¶è¿è¡Œå³å¯ (Serveræˆ–è€…Clientç«¯).\nåœ¨VPSä¸­, è§£å‹å‹ç¼©åŒ…, ç¼–è¾‘frps.iniæ–‡ä»¶, æŒ‰ç…§é…ç½®è¯´æ˜, å¯ä»¥ç®€å•è¿›è¡Œç¼–è¾‘:\n1 2 3 # frps.ini [common] bind_port = 7000 å¯åŠ¨frps.ini:\n1 ./frps -c ./frps.ini åœ¨æ ‘è“æ´¾ä¸­, è§£å‹å‹ç¼©åŒ…, å‡è®¾ frps æ‰€åœ¨æœåŠ¡å™¨çš„å…¬ç½‘ IP ä¸º x.x.x.x:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # frpc.ini [common] server_addr = x.x.x.x server_port = 7000 [ssh] type = tcp local_ip = 127.0.0.1 local_port = 22 remote_port = 6000 [VNC] type = tcp local_ip = 127.0.0.1 local_port = 5900 remote_port = 6500 å¯åŠ¨frpc.ini:\n1 ./frpc -c ./frpc.ini å¯åŠ¨å, å†…ç½‘ç©¿é€å·²ç»å®Œæˆ, å¯ä»¥çœ‹è§, åœ¨æ ‘è“æ´¾ä¸­å·²ç»é…ç½®äº†sshä»¥åŠVNCè®¿é—®, å…¶ä¸­5900æ˜¯æ ‘è“æ´¾VNCçš„ç«¯å£. è‡³æ­¤, é…ç½®å·²ç»å®Œæˆ, æˆ‘ä»¬å¯ä»¥åœ¨sshå®¢æˆ·ç«¯é€šè¿‡x.x.x.x:6000ä»¥åŠåœ¨VNCå®¢æˆ·ç«¯é€šè¿‡x.x.x.x:6500è®¿é—®æ ‘è“æ´¾äº†!\n","date":"2020-03-11T21:00:15+08:00","permalink":"https://cgcel.github.io/posts/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%BF%E7%94%A8-frp-%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AE%B0%E5%BD%95/","title":"æ ‘è“æ´¾ä½¿ç”¨ Frp å®ç°å†…ç½‘ç©¿é€è®°å½•"},{"content":"å¼€ç¯‡ åœ¨ä¸Šä¸€ç¯‡åšå®¢ [[2020-02-08-ViewPagerç¦ç”¨æ»‘åŠ¨å®è·µå’Œæ€»ç»“|ViewPagerç¦ç”¨æ»‘åŠ¨å®è·µå’Œæ€»ç»“]] ä¸­æˆ‘æ€»ç»“äº†ç¦ç”¨ ViewPager æ»‘åŠ¨çš„è§£å†³æ–¹æ¡ˆ, è¿™ä¹Ÿæ˜¯ç½‘ä¸Šç¤ºä¾‹çš„ä¸»æµè§£å†³æ–¹æ³•, ä½†æ˜¯ä½¿ç”¨è¿™ä¸ªæ–¹æ³•å, å¯¼è‡´é¡¹ç›®ä¸­ Fragment çš„ RecyclerView ä¸ ViewPager çš„æ»‘åŠ¨å‡ºç°å†²çª, æ— æ³•å®ç°æ•ˆæœ, å¦‚ä¸‹å›¾:\nä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°æŒ‰ç…§ä¸Šä¸€ç¯‡åšå®¢ä¸­é‡å†™å­ Fragment ä¸­çš„ ViewPager çš„ OnInterceptTouchEvent() å’Œ onTouchEvent() å, äºå­ Fragment ä¸­æ˜¾ç¤ºçš„ RecyclerView ä¸Šæ»‘åŠ¨å°†æ— æ³•ä½¿ç”¨ Activity çš„ ViewPager åˆ‡æ¢, åªèƒ½åœ¨ RecyclerView æ²¡æœ‰è¦†ç›–åˆ°çš„è¾¹æ¡†ä½ç½®è¿›è¡Œæ»‘åŠ¨, è¿™æ ·çš„æ“ä½œæ— ç–‘éå¸¸ä¸èˆ’é€‚, äºæ˜¯æˆ‘åªèƒ½ç»§ç»­åœ¨ç½‘ä¸Šæœç´¢ç›¸å…³è§£å†³æ–¹æ¡ˆ, ç°æ€»ç»“å¦‚ä¸‹.\nä¿®æ”¹æ­¥éª¤ ä¸ä¸Šä¸€ç¯‡åšå®¢æ€è·¯ä¸€æ ·, åªéœ€è¦é‡å†™ ViewPager çš„ canScrollHorizontally() å‡½æ•°å³å¯, ä»£ç å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public class UnScrollableViewPager extends ViewPager { private boolean scrollable = false; public UnScrollableViewPager(Context context) { super(context); } public UnScrollableViewPager(Context context, AttributeSet attrs) { super(context, attrs); } @Override // é‡å†™è¯¥å‡½æ•°, ç”¨äºåˆ¤æ–­æ˜¯å¦èƒ½æ°´å¹³æ»‘åŠ¨ public boolean canScrollHorizontally(int direction) { return scrollable; // falseè¡¨ç¤ºå·²ç»åˆ°æœ€å³ } } ä¿®æ”¹å®Œä»£ç åé‡æ–°è¿è¡Œ, æ•ˆæœå¦‚ä¸‹, å¯è§å·²ç»å®ç°äº†é¢„æœŸçš„æ•ˆæœ.\nå‚è€ƒé“¾æ¥: https://www.jianshu.com/p/01ad565a80b4 https://www.jianshu.com/p/ce347cf991db ","date":"2020-02-10T16:01:35+08:00","permalink":"https://cgcel.github.io/posts/viewpager-%E7%9A%84%E5%B5%8C%E5%A5%97%E6%BB%91%E5%8A%A8%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/","title":"ViewPager çš„åµŒå¥—æ»‘åŠ¨å†²çªé—®é¢˜è§£å†³"},{"content":"å¼€ç¯‡ æ¥è§¦ Android æœ‰ä¸€æ®µæ—¶é—´äº†, èµ·å› æ˜¯å¸®åŒäº‹ä¸€èµ·åšé¡¹ç›®, é¡ºä¾¿è‡ªå·±å­¦ä¹ , äºæ˜¯é¡¹ç›®ä¸€ç›´æ–­æ–­ç»­ç»­è¿›è¡Œ, å¾ˆå¤šæ§ä»¶å’ŒåŠŸèƒ½éƒ½æ˜¯å‚è€ƒã€Šç¬¬ä¸€è¡Œä»£ç ã€‹è¿˜æœ‰ç½‘ä¸Šçš„ä¾‹å­æ…¢æ…¢æ¢ç´¢çš„, æœ€è¿‘ä¸€ç›´åœ¨é’» TabLayout çš„ç‚¹å‡»åˆ‡æ¢, ä¹Ÿå°±æ˜¯ç¦ç”¨ ViewPager çš„å·¦å³æ»‘åŠ¨åˆ‡æ¢çš„ç‰›è§’å°–, å…·ä½“æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º. ç½‘ä¸Šçš„ä¾‹å­å®åœ¨æ˜¯å¤ªåƒç¯‡ä¸€å¾‹äº†, å¯¼è‡´æœ‰äº›åœ°æ–¹åªè¦å…¶ä¸­ä¸€ç¯‡é˜…è¯»é‡å¾ˆå¤šçš„åšå®¢æ²¡æœ‰, å…¶ä»–è½¬è½½æˆ–è€…å€Ÿé‰´çš„åšå®¢å°±éƒ½ä¸ä¼šå†™ğŸ¤ª, ä¸‹é¢å°±è®°å½•ä¸€ä¸‹æˆ‘åœ¨åŸæœ‰ TabLayout\u0026amp;ViewPager åŸºç¡€ä¸Šä¿®æ”¹çš„ç¤ºä¾‹.\nå®ç°æ­¥éª¤ 1. é‡å†™ViewPager å¦‚æœè¦å®ç°ç¦ç”¨æ»‘åŠ¨çš„æ•ˆæœ, é‚£ä¹ˆå°±éœ€è¦é‡å†™ ViewPager, å› ä¸ºé»˜è®¤æ˜¯å¼€å¯æ»‘åŠ¨çš„, å…·ä½“ä»£ç å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 public class NoScrollingViewPager extends ViewPager { private boolean scrollable = false; public NoScrollingViewPager(Context context) { super(context); } public NoScrollingViewPager(Context context, AttributeSet attrs) { super(context, attrs); } @Override // é‡å†™ä»¥ä¸‹ä¸¤ä¸ªTouchEvent, è¿”å›falseä»¥ç¦ç”¨æ»‘åŠ¨åŠ¨ä½œçš„ç›‘å¬ public boolean onInterceptTouchEvent(MotionEvent ev) { return scrollable; } @Override public boolean onTouchEvent(MotionEvent ev) { return scrollable; } } ä»¥ä¸Šé‡å†™ä»£ç éƒ½æ˜¯åƒç¯‡ä¸€å¾‹çš„, åªéœ€è¦é‡å†™ä¸¤ä¸ªå‡½æ•°.\n2. ä¿®æ”¹å¯¹åº”xmlæ–‡ä»¶ æ¥ä¸‹æ¥åˆ°å¯¹åº”xmlä¿®æ”¹åŸæ¥çš„ ViewPager ä¸ºè‡ªå®šä¹‰çš„ NoScrollingViewPger ç»„ä»¶, ä»£ç å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;LinearLayout xmlns:android=\u0026#34;http://schemas.android.com/apk/res/android\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34; android:orientation=\u0026#34;vertical\u0026#34;\u0026gt; \u0026lt;android.support.design.widget.TabLayout android:id=\u0026#34;@+id/tab_fragment1\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;wrap_content\u0026#34;\u0026gt;\u0026lt;/android.support.design.widget.TabLayout\u0026gt; \u0026lt;!--\u0026lt;android.support.v4.view.ViewPager--\u0026gt; \u0026lt;!--android:id=\u0026#34;@+id/viewpager_fragment1\u0026#34;--\u0026gt; \u0026lt;!--android:layout_width=\u0026#34;match_parent\u0026#34;--\u0026gt; \u0026lt;!--android:layout_height=\u0026#34;match_parent\u0026#34;\u0026gt;\u0026lt;/android.support.v4.view.ViewPager\u0026gt;--\u0026gt; \u0026lt;com.elvin.tablayouttest.NoScrollingViewPager android:id=\u0026#34;@+id/viewpager_fragment1\u0026#34; android:layout_width=\u0026#34;match_parent\u0026#34; android:layout_height=\u0026#34;match_parent\u0026#34;\u0026gt;\u0026lt;/com.elvin.tablayouttest.NoScrollingViewPager\u0026gt; \u0026lt;/LinearLayout\u0026gt; æˆ‘å°†åŸæœ¬çš„ ViewPager æ§ä»¶å¤‡æ³¨ä»¥ä¾¿æ¯”è¾ƒ, å…¶å®å°±æ˜¯æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„ NoScrollingViewPager.\n3. ä¿®æ”¹ä¸»å‡½æ•°ä»£ç  åˆ°äº†æœ€åä¸€æ­¥, å›åˆ°ä¸»ä»£ç ä¸­, ç»“åˆæˆ‘çš„ç¤ºä¾‹, åœ¨ Fragment ä¸­åŠ å…¥ TabLayout ä»¥åŠ ViewPager.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 public class Fragment1 extends Fragment { private View view; private TabLayout tabLayout; private FragmentOneAdapter fragmentOneAdapter; private ViewPager noScrollingViewPager; @Nullable @Override public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) { view = inflater.inflate(R.layout.fragment1, container, false); initView(); return view; } private void initView() { tabLayout = (TabLayout) view.findViewById(R.id.tab_fragment1); noScrollingViewPager = (ViewPager) view.findViewById(R.id.viewpager_fragment1); fragmentOneAdapter = new FragmentOneAdapter(getChildFragmentManager()); noScrollingViewPager.setAdapter(fragmentOneAdapter); tabLayout.setupWithViewPager(noScrollingViewPager); } } ç»“å°¾ æ•´ä¸ªåŠŸèƒ½åˆ°è¿™é‡Œå°±å®ç°äº†, å…¶å®æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„åŠŸèƒ½, ä½†æ˜¯å¤§å¤šæ•°ä¾‹å­éƒ½æ˜¯ç¼ºå°‘ç¬¬ä¸‰æ­¥çš„, çœ‹å¾—æˆ‘è¿™ä¸ªå°ç™½ä¸€å¤´é›¾æ°´ (ä½ å€’æ˜¯è®²å®Œå•Š) åªèƒ½è¯´ç½‘ä¸Šçš„å®ä¾‹è´¨é‡å‚å·®ä¸é½, æˆ–è€…è¯´å¾ˆå¤šå‘è¦è‡ªå·±è¸©è¿‡æ‰ä¼šçŸ¥é“.\n","date":"2020-02-08T22:00:39+08:00","permalink":"https://cgcel.github.io/posts/viewpager-%E7%A6%81%E7%94%A8%E6%BB%91%E5%8A%A8%E5%AE%9E%E8%B7%B5%E5%92%8C%E6%80%BB%E7%BB%93/","title":"ViewPager ç¦ç”¨æ»‘åŠ¨å®è·µå’Œæ€»ç»“"},{"content":"å¼€ç¯‡ æœ€è¿‘è‚ºç‚çˆ†å‘, è™½ç„¶ä¸Šç­äº†ä½†æ˜¯å› ä¸ºå…¬å¸è¦èŠ‚çœå£ç½©, æ‰€ä»¥å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨å®¶é‡Œå¾…å²—, æ­£å¥½ç”µè„‘ä¸Šå·²ç»ä¸å†ç”¨ ss, ssr ä¹Ÿå‡†å¤‡ä¸ç”¨äº† (è¶Šæ¥è¶Šä¸ç¨³å®šäº†) äºæ˜¯å°è¯•äº†ä¸€ä¸‹å…±äº« V2Ray çš„å±€åŸŸç½‘è¿æ¥, å¾ˆå¿«å°±æˆåŠŸäº†, é—²å¾—æ— äº‹å†™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹.\nå‡†å¤‡ ç”µè„‘1å° å®‰è£…å¥½ V2RayN è¯¦ç»†æ­¥éª¤ è®¾ç½®V2RayN å› ä¸ºç°åœ¨æ‡’å¾—è‡ªå·±å¼„, æ‰€ä»¥éšä¾¿æ‰¾ä¸ªæœºåœº, æ‹¿åˆ°è®¢é˜…é“¾æ¥ååœ¨ V2RayN ä¸­æ›´æ–°èŠ‚ç‚¹å¹¶åœ¨è®¾ç½®ä¸­å…è®¸å±€åŸŸç½‘è¿æ¥, åŒæ—¶ç•™æ„ä¸€ä¸‹æœ¬åœ°ç›‘å¬ç«¯å£, å¦‚å›¾æ˜¾ç¤ºæ˜¯ 10808 ç«¯å£.\næ‰“å¼€ç§»åŠ¨çƒ­ç‚¹ ä»¥ win10 ç³»ç»Ÿä¸ºä¾‹, åœ¨è®¾ç½®ä¸­æ‰“å¼€ç§»åŠ¨çƒ­ç‚¹:\nç„¶ååœ¨ç½‘ç»œé€‚é…å™¨é€‰é¡¹ä¸­, æŸ¥çœ‹å·²ç»å¼€å¯çš„çƒ­ç‚¹å¹¶è·å–ipåœ°å€:\nè¿æ¥çƒ­ç‚¹ é¦–å…ˆåœ¨è®¾ç½®ä¸­æŸ¥çœ‹å·²å¼€å¯çš„ä»£ç†çš„æ‰‹åŠ¨è®¾ç½®é¡¹, å¯ä»¥çœ‹åˆ°ç«¯å£ä¸º 10809.\nåœ¨æ‰‹æœºä¸Šè¿æ¥çƒ­ç‚¹, å¹¶æ‰‹åŠ¨è®¾ç½®ä»£ç†æœåŠ¡å™¨ IP ä»¥åŠç«¯å£, ä»ä¸Šé¢æ­¥éª¤å¯çŸ¥åˆ†åˆ«ä¸º: 192.168.137.1 å’Œ 10809.\nåˆ°è¿™é‡Œå°±å¤§åŠŸå‘Šæˆäº†, å…¶ä»–ç±»ä¼¼çš„å…±äº«åˆ°å±€åŸŸç½‘çš„çƒ­ç‚¹éƒ½æ˜¯å·®ä¸å¤šçš„æ­¥éª¤, ssr çš„è®¾ç½®ä¹Ÿä¸€æ ·.\n","date":"2020-02-06T14:28:09+08:00","permalink":"https://cgcel.github.io/posts/v2rayn-%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%AB/","title":"V2RayN å±€åŸŸç½‘å…±äº«"},{"content":"å‰è¨€ ç½‘ä¸Šæœ‰ä¸å°‘å…³äº Arduino ä¸²å£é€šä¿¡çš„æ•™ç¨‹å’Œç¤ºä¾‹, ä½†å¤§å¤šæ˜¯å•å‘é€šä¿¡çš„æˆ–è€…æ˜¯ç…§æ¬ Arduino å®˜æ–¹ç¤ºä¾‹çš„. æ­£å¥½æˆ‘çš„è‡ªåŠ¨æŠ•é£Ÿæœºç¬¬äºŒç‰ˆè€ƒè™‘åŠ ç‰©è”ç½‘åŠŸèƒ½, éœ€è¦å¯¹ä¸¤å—æ¿å­å»ºç«‹ä¸²å£é€šä¿¡, äºæ˜¯æ•´ç†äº†ç½‘ä¸Šä¾‹å­å’Œå®è·µå†™ä¸€ç¯‡è®°å½•.\nç¡¬ä»¶å‡†å¤‡ Arduino UNO R1 Arduino MEGA 2560 PCä¸€å° åº“æ–‡ä»¶ SoftwareSerial.h ä»£ç éƒ¨åˆ† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 #include \u0026lt;SoftwareSerial.h\u0026gt; SoftwareSerial mySerial(10, 11); //Rx, Tx String data = \u0026#34;\u0026#34;; //å®šä¹‰å­—ç¬¦ä¸² void setup() { Serial.begin(9600); mySerial.begin(4800); } void loop() { //è½¯ä¸²å£æ¥æ”¶åˆ°å­—ç¬¦ä¸²æ—¶, åœ¨ä¸²å£ç›‘è§†å™¨æ‰“å° while (mySerial.available()) { data += char(mySerial.read()); delay(20); } if (data.length() \u0026gt; 0) { Serial.print(data); data = \u0026#34;\u0026#34;; } //ç¡¬ä¸²å£æ¥æ”¶åˆ°å­—ç¬¦ä¸²æ—¶,é€šè¿‡è½¯ä¸²å£å°†ä¿¡æ¯å‘é€ç»™å¦ä¸€å—æ¿å­ while (Serial.available()) { data += char(Serial.read()); delay(20); } if (data.length() \u0026gt; 0) { mySerial.print(data); data = \u0026#34;\u0026#34;; } } å®é™…ç¼–è¯‘æµ‹è¯•æ—¶, éœ€è¦ç•™æ„ä¸€äº›ç¡¬ä»¶é—®é¢˜, é¿å…å‡ºç°åƒµå±€:\nUNO ä¸èƒ½ä½¿ç”¨ pin2, pin3 ä½œä¸ºè½¯ä¸²å£çš„è¾“å…¥è¾“å‡ºå£, å¦åˆ™æ— æ³•æ¥å—ä¿¡æ¯, åŸå› å¾…æŸ¥; ç¡¬ä¸²å£ä¸è½¯ä¸²å£çš„æ³¢ç‰¹ç‡å°½é‡è®¾ç½®æˆä¸åŒçš„, ä»¥å…æ‰“å°ä¿¡æ¯æ··æ·†; è½¯ä¸²å£æ³¢ç‰¹ç‡ä¸å®œè¿‡é«˜, å®¹æ˜“é€ æˆæ•°æ®ä¹±ç , åŸå› å¾…æŸ¥; æ€»ç»“ è¿™ä¸€ä¸ªå°å°åŠŸèƒ½åœ¨ç½‘ä¸Šè¿˜çœŸçš„æ˜¯æŒºéš¾æ‰¾çš„, ç›¸ä¼¼çš„ä¾‹ç¨‹ä¹Ÿä¸ä¼šè¯´æ˜éœ€è¦æ³¨æ„å“ªäº›é—®é¢˜, å°±æ˜¯æµ‹è¯•æˆåŠŸäº†å°±å‘ä¸Šæ¥çš„é‚£ç§æ„Ÿè§‰, ä¸è¿‡ç¡¬ä»¶å¼€å‘å°±æ˜¯è¦è‡ªå·±ç»“åˆå®é™…æµ‹è¯•æ‰èƒ½ç§¯ç´¯åˆ°ç»éªŒ, é¡ºä¾¿è®°å½•ä¸‹æ¥ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„å­¦ä¹ è¿‡ç¨‹.\n","date":"2019-12-03T01:19:09+08:00","permalink":"https://cgcel.github.io/posts/arduino-%E7%9A%84%E4%B8%BB%E4%BB%8E%E6%9C%BA%E5%8F%8C%E5%90%91%E9%80%9A%E4%BF%A1/","title":"Arduino çš„ä¸»ä»æœºåŒå‘é€šä¿¡"},{"content":"å‰è¨€ ç¿»é˜…ç½‘ä¸Šçš„å¹³è¡¡è½¦èµ„æ–™ï¼Œå¤§æ¦‚æœ‰ä¸¤ä¸ªå¤§æ–¹å‘ï¼Œåˆ†åˆ«ä¸ºå¡å°”æ›¼æ»¤æ³¢å‹å’Œç›´æ¥çš„ PID è°ƒèŠ‚å‹ï¼Œå‰æœŸæˆ‘å‚ç…§äº†å¡å°”æ›¼æ»¤æ³¢å‹å¹³è¡¡å°è½¦çš„ä»£ç ï¼Œæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œå°è½¦æœ€åè¿ç›´ç«‹ä¹Ÿæ— æ³•åšåˆ°ï¼Œä¹Ÿå¯èƒ½æ˜¯æˆ‘çš„è°ƒè¯•æ–¹æ³•ä¸å¯¹ï¼Œå†åŠ ä¸Šå¡å°”æ›¼æ»¤æ³¢å‹çš„ä»£ç ç›¸å¯¹æ¯”è¾ƒå¤æ‚ï¼Œäºæ˜¯æˆ‘å…¨éƒ¨æ¨å€’é‡å»ºï¼Œå°è¯•åè€…ã€‚\næ¨¡å—æ¸…å•:\n12V å¯å……ç”µé”‚ç”µæ±  Arduino UNO R3 L298N ç”µæœºé©±åŠ¨æ¨¡å— MPU6050 æ¨¡å— å°è½¦åº•åº§ æœé‚¦çº¿è‹¥å¹² è¿‡ç¨‹ ç›¸è¾ƒäºå¡å°”æ›¼æ»¤æ³¢å‹ï¼ŒPID ç›´æ¥è°ƒèŠ‚å‹å¯¹åˆæ¬¡åšå¹³è¡¡è½¦çš„æ–°æ‰‹æ¯”è¾ƒå‹å¥½ï¼ŒYoutube ä¸Šæ•™ç¨‹å¾ˆå¤šï¼ŒåŒæ—¶ä¹Ÿæœ‰ PID å‚æ•°æ•´å®šçš„è§†é¢‘æ•™ç¨‹ã€‚\nç»„è£… é¦–å…ˆæ˜¯ç»„è£…è¿‡ç¨‹ï¼Œç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œè§‰å¾—ä¸æ”¾å¿ƒçš„å¯ä»¥ç›´æ¥å‚ç…§è§†é¢‘æ•™ç¨‹æ¥åšè§†é¢‘ï¼Œæ•´ä¸ªç³»ç»Ÿæ¥çº¿å›¾å¦‚ä¸‹ï¼š\nè°ƒè¯• è¿›å…¥é‡è¦ç¯èŠ‚ï¼Œé¦–å…ˆæˆ‘ä»¬å°†ä»£ç çƒ§è¿› Arduinoï¼Œç„¶åå¼€æœºè¯•è¿è¡Œï¼Œå¦‚æœä¸æˆåŠŸï¼Œè¯·è¿”å›ä¸Šä¸€æ­¥æ£€æŸ¥ã€‚è¿è¡ŒæˆåŠŸåï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ ¡æ­£ mpu6050ï¼Œå‚ç…§è§†é¢‘ï¼Œæˆ‘å°†mpu6050æ ¡æ­£äº†3éï¼Œç»“æœå¦‚ä¸‹ï¼š\nå¯¹åº”ä¿®æ”¹ä»£ç å‚æ•°ï¼š\n1 2 3 4 5 6 7 8 mpu.initialize(); //åˆå§‹åŒ–MPU6050 devStatus = mpu.dmpInitialize(); // supply your own gyro offsets here, scaled for min sensitivity // æ ¡æ­£mpu6050æ¨¡å—, å‚è€ƒhttps://www.youtube.com/watch?v=ce3eA8nzInE mpu.setXGyroOffset(165); mpu.setYGyroOffset(-14); mpu.setZGyroOffset(5); mpu.setZAccelOffset(528); // 1688 factory default for my test chip å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸€æ®µä»£ç æ˜¯ç›´æ¥ç…§æ¬ mpu6050 åº“çš„ç¤ºä¾‹ä»£ç çš„ï¼Œå°±è¿å¤‡æ³¨éƒ¨åˆ†éƒ½æ˜¯ä¸€æ ·çš„ã€‚\næ ¡æ­£å®Œæ¯•åï¼Œæˆ‘ä»¬éœ€è¦è°ƒèŠ‚å°è½¦çš„æœºæ¢°ä¸­å€¼ï¼š\n1 2 double originalSetpoint = 183; //173, è°ƒèŠ‚å°è½¦çš„ç¨³å®šä¸­å€¼, 180ä¸ºé»˜è®¤å€¼, æ ¹æ®å°è½¦å®é™…æƒ…å†µè°ƒè¯• åˆ°ç°åœ¨ï¼Œå°è½¦å·²ç»èƒ½å¤Ÿæ­£å¸¸åšå‡ºååº”ï¼Œæˆ‘ä»¬çš„è°ƒè¯•å·¥ä½œå‡†å¤‡å¼€å§‹ï¼Œå¯¹å°è½¦è¿›è¡Œ PID å‚æ•°æ•´å®šã€‚ å‚ç…§è§†é¢‘ï¼Œæˆ‘ä»¬å¯ä»¥å¤§æ¦‚æ€»ç»“ä¸ºä»¥ä¸‹æµç¨‹ï¼š\nè°ƒèŠ‚ Kp å€¼ï¼ŒæŒ‰ç…§ä»å°åˆ°å¤§çš„æ–¹å‘è°ƒè¯•ï¼Œç›´åˆ°å°è½¦è°ƒèŠ‚ååº”è¿‡åº¦ï¼ˆä½é¢‘æŠ–åŠ¨ï¼‰åå†å–ä¸€ä¸ªæ¯”è¾ƒç†æƒ³çš„è¾ƒå°å€¼ è°ƒèŠ‚ Kd å€¼ï¼Œä¸ºäº†å‡å°æŠ–åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦ PD æ§åˆ¶ï¼ŒæŒ‰ç…§ä»å°åˆ°å¤§çš„æ–¹å‘è°ƒè¯•ï¼Œç›´åˆ°å°è½¦å‡ºç°é«˜é¢‘æŠ–åŠ¨åå†å–ä¸€ä¸ªæ¯”è¾ƒç†æƒ³çš„è¾ƒå°å€¼ï¼Œæ­¤æ—¶å°è½¦å·²ç»èƒ½å¤Ÿç›´ç«‹ä¸€æ®µæ—¶é—´ è°ƒèŠ‚ Ki å€¼ï¼ŒåŒæ—¶ Kpã€Kd å€¼ä¹Ÿå¯ä»¥è¿›è¡Œå¾®è°ƒï¼Œç›´åˆ°æœ€åå°è½¦èƒ½å¤Ÿå¹³ç¨³ç›´ç«‹ è´´ä¸Šè°ƒè¯•å‚æ•°ï¼š\nP I D 30 0 0(ååº”è¾ƒæ…¢) 50 0 0 60 0 0 100 0 0(ä½é¢‘æŠ–åŠ¨) 150 0 0 200 0 0 150 0 0.5 150 0 1 150 0 1.5 150 0 2(é«˜é¢‘æŠ–åŠ¨) 150 0 1.2(èƒ½ç›´ç«‹ä½†æœ‰æŠ–åŠ¨) 150 0 0.8(èƒ½ç›´ç«‹ä½†æ²¡ä¸Šä¸€ç»„å¹³ç¨³) 150 0 0.9 150 0 1 120 0 1 100 0 1 65 0 1(å¹³ç¨³ç›´ç«‹ä½†ç§»åŠ¨è·ç¦»æ¯”è¾ƒå¤§) 68 0 1(å¹³ç¨³ç›´ç«‹) 68 50 1 68 100 1(å¤ªå¤§) 68 40 1 70 0 1 75 0 1 72 0 1 72 0 0.9 70 0 1.05 70 50 1.05 70 60 1.05 70 70 1.05 71 70 1.05 69 70 1.05 69 90 1.05 69 90 1.1 69 90 1.2(ç¨³å®šç›´ç«‹) 65 90 1.2(ç”µæ± æ»¡ç”µåç¨³å®šç›´ç«‹) å°†ä¸²å£è¾“å‡ºçš„PWMå€¼ä¿å­˜å¹¶ç”¨matlabç»˜åˆ¶æ›²çº¿å›¾:\næ€»ç»“ ä»ä¸€å¼€å§‹è‡ªä¿¡æ»¡æ»¡å¼€å§‹åšè¿™ä¸ªè¯¾è®¾åˆ°ä¸­é€”å—æŒ«ï¼ˆç¬¬ä¸€æ¬¡ç­”è¾©æ‰“å›é‡åšï¼‰å†åˆ°åæ¥çš„å…¨éƒ¨æ¨å€’é‡å»ºï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸‹æ¥å­¦ä¹ åˆ°äº†å¾ˆå¤šï¼Œç‰¹åˆ«æ˜¯PIDå‚æ•°çš„æ•´å®šï¼Œäºæ˜¯æƒ³è¦å†™ä¸€ç¯‡åšå®¢è®°å½•ä¸€ä¸‹ã€‚\nä»£ç å·²ä¸Šä¼ è‡³GitHub\nå‚è€ƒé“¾æ¥ åƒæ°´ä¸å¿˜æŒ–äº•äººï¼Œä¸‹é¢è´´ä¸Šæ•´ä¸ªåˆ¶ä½œè¿‡ç¨‹ä¸­å¸®åŠ©æ¯”è¾ƒå¤§çš„å‰è¾ˆä»¬çš„æ•™ç¨‹ï¼š\nhttps://forum.arduino.cc/index.php?topic=519968.0\nhttps://www.geek-workshop.com/thread-704-1-1.html\nhttps://www.geek-workshop.com/forum.php?mod=viewthread\u0026tid=14868\u0026highlight=PID\nhttps://www.geek-workshop.com/forum.php?mod=viewthread\u0026tid=23\u0026highlight=PID\nhttp://www.51hei.com/bbs/dpj-47816-1.html\nhttps://www.geek-workshop.com/thread-9879-1-1.html\nhttps://maker.pro/arduino/projects/build-arduino-self-balancing-robot\nhttps://github.com/lukagabric/Franko/blob/master/Franko\nhttps://www.youtube.com/watch?v=yL43DSVdEEQ\u0026t\nhttps://www.youtube.com/watch?v=ce3eA8nzInE\nhttps://www.youtube.com/watch?v=uyHdyF0_BFo\n","date":"2018-12-21T00:00:00Z","image":"https://cgcel.github.io/%E6%95%B0%E6%8D%AE%E6%9B%B2%E7%BA%BF_2.png","permalink":"https://cgcel.github.io/posts/%E5%9F%BA%E4%BA%8E-arduino-%E7%9A%84%E8%87%AA%E5%B9%B3%E8%A1%A1%E8%BD%A6%E7%9A%84%E8%B0%83%E8%AF%95%E6%80%BB%E7%BB%93/","title":"åŸºäº Arduino çš„è‡ªå¹³è¡¡è½¦çš„è°ƒè¯•æ€»ç»“"},{"content":"å¼€ç¯‡ å‰ä¸ä¹…å…¥äº†ä¸€åŠ 6, å…¥æ‰‹ç¬¬äºŒå¤©å°±å‡åˆ°äº†å®˜æ–¹çš„ OxygenOS 9.0 Beta4, åƒåˆ°äº†å®˜æ–¹çš„ pie, ä½“éªŒä¸‹æ¥, æ€»ä½“æ„Ÿè§‰å¦‚ä¸‹:\nä¼˜ç‚¹: æŒ‡çº¹æ”¯ä»˜å¾ˆæ–¹ä¾¿, è¿™åœ¨æ°¢æ°§ä¸¤ä¸ª ROM å‡æœ‰é€‚é… ç±»åŸç”Ÿ UI é£æ ¼è®¨å–œ åå°æ¸…é™¤æ–¹å¼åˆ†ä¸¤ç§æ¨¡å¼å¯è°ƒèŠ‚, æ–¹ä¾¿ä¸åŒç”¨æˆ·ç¾¤ä½“ å…¨é¢å±æ˜¾ç¤ºåŠŸèƒ½è°ƒèŠ‚æ–¹ä¾¿, å……åˆ†åˆ©ç”¨å±å¹•æ˜¾ç¤º Dash é—ªå……å……ç”µæ•ˆç‡å¾ˆé«˜ ç¼ºç‚¹: ç³»ç»ŸåŠŸèƒ½æœªå®Œå–„, æ¯”å¦‚å²› Island (ç‚¼å¦–å£¶)ç­‰ç›¸å…³ app æ— æ³•åˆ›å»ºå·¥ä½œæ¨¡å¼ åŠ¨ç”»ç²—ç³™, æ¯”å¦‚åˆ‡æ¢æœ€è¿‘ä»»åŠ¡æ æ—¶å¯ä»¥æ˜æ˜¾çœ‹è§ç¼©ç•¥å›¾ç”±åŸç”Ÿçš„æ£±è§’çªå˜ä¸ºä¸€åŠ çš„åœ†è§’å¡ç‰‡ åå°é™åˆ¶ç®¡ç†å¤ªåˆ†æ•£: ä¸€åŠ å°†è‡ªå®¶çš„åå°çœç”µä¸åŸç”Ÿçš„ AI çœç”µæ··åˆä½¿ç”¨, ç”¨æˆ·éš¾ä»¥åˆ†æ¸…æ¥šä¸¤è€…ç›¸å…³ä½œç”¨ å®¤å†…å®šä½ä½“éªŒå·®, ä¸€åŠ çš„å®šä½ä¸€ç›´ä»¥æ¥éƒ½å—åˆ°è¯Ÿç—… (æ¯”å¦‚ ingress å®¤å†…ä¸€ç›´åœ¨é›ªèŠ±) æ€»ä½“æ¥è¯´ä¸€åŠ çš„äº§å“åœ¨å›½å†…ç®—æ˜¯éå¸¸ä¸é”™çš„å®‰å“æ——èˆ°æœºäº†, ä»Šå¤©æ— èŠæ‰“å¼€ xda é€›äº†ä¸€ä¸‹ä¸€åŠ 6è®ºå›, å‘ç° Pixel Experience é€‚é…äº†ä¸€åŠ 6, äºæ˜¯åœ¨ä¸€ç•ªå‡†å¤‡å, æˆ‘å¼€å§‹äº†åˆ·æœº.\nå‰æœŸå‡†å¤‡ è¿™æ˜¯æˆ‘ç¬¬ä¸‰æ¬¡åˆ· AB åˆ†åŒºçš„æ‰‹æœº, ä¸Šä¸€æ¬¡æ“ä½œæ˜¯ç”¨ç±³3å’ŒPixel 2 XLçš„æ—¶å€™, å› æ­¤è¦åšè¶³å‡†å¤‡, ä¸ç„¶åˆ·æˆç –å²‚ä¸æ˜¯\u0026hellip;ğŸ˜‚\næŸ¥è¯¢ç›¸å…³è¯„æµ‹\nè¿™ä¸€æ­¥å…¶å®æ˜¯å¿…ä¸å¯å°‘çš„, ä»»ä½• ROM éƒ½ä¼šæœ‰æˆ–å¤šæˆ–å°‘çš„ bug, è¦ç¡®è®¤è¯¥ ROM åœ¨æœ¬æœºä¸Šèƒ½æ­£å¸¸ä½¿ç”¨æˆ‘ä»¬æ‰èƒ½æ”¾å¿ƒå»åˆ·, å¦å¤–æˆ‘ä¹ æƒ¯æ‰¾æ¯”è¾ƒå‡ºåçš„ç¬¬ä¸‰æ–¹ ROM, ä¸€æ˜¯æœ‰å£ç¢‘æœ‰è´¨é‡ä¿è¯, äºŒæ˜¯åˆ·çš„äººå¤šå¯ä»¥å€Ÿé‰´ä»–ä»¬çš„æ–¹æ³•å’Œç»éªŒ, è€Œ Pixel Experience æ˜¯è¿‘æ¥å¤§å®¶è®¨è®ºæ¯”è¾ƒå¤šçš„ ROM. æˆ‘åˆ†åˆ«åœ¨ xda å’Œ youtube ä¸ŠæŸ¥é˜…, è§‚çœ‹äº†ç›¸å…³ä¿¡æ¯, æ€»ç»“ä¸‹æ¥åˆ·æœºé¡ºåºå¦‚ä¸‹:\nInstall blue_spark twrp.\nClear system, cache, dalvik cache\nFlash rom and then twrp. Use the latest blu spark recovery.\nLet the rom boot first. First boot might take 10-15 mins cause.\nBoot into recovery and then flash magisk if you want to root, then boot into system.\nç¯å¢ƒåŠåˆ·æœºåŒ…å‡†å¤‡\nè§£é”bootloaderæ•™ç¨‹\nadb (ä¸æ‡‚çš„è¯·è‡ªè¡Œè§£å†³)\nROM\nTWRP(img\u0026amp;zip)\nMagisk (è‡ªé€‰)\nå¼€åˆ· ä»å¼€æœºçŠ¶æ€å¼€å§‹æ“ä½œ\n1 2 $ adb reboot bootloader $ fastboot boot name_of_twrp.img å¦‚é¡ºåˆ©, å°†è¿›å…¥twrp. åˆ·å…¥\nwipe â†’ clear system, cache, dalvik cache\ninstall â†’ name_of_rom.zip\ninstall â†’ name_of_twrp.zip\ninstall â†’ magisk.zip â†’reboot system\nåˆå§‹åŒ–\nç»è¿‡ä»¥ä¸Šæµç¨‹, æ­¤ROMå°±ç®—åˆ·å®Œäº†, okå¯ä»¥å¼€å§‹ä½“éªŒå•¦:) ä½¿ç”¨æ„Ÿå— ç³»ç»Ÿä¿ç•™äº†ä¸€äº›ä¸€åŠ çš„åŠŸèƒ½:\nä¸€äº›æˆªå›¾:\né—ªå……ä¾ç„¶è§æ•ˆ:\nPS: ingresså®¤å†…ç§’å®šä½, å—¯çœŸé¦™\u0026hellip;\nä»¥ä¸Š.\n","date":"2018-10-28T00:00:00Z","permalink":"https://cgcel.github.io/posts/%E4%B8%80%E5%8A%A0-6-pixel-experience-android-pie-%E5%88%B7%E6%9C%BA%E4%BD%93%E9%AA%8C/","title":"ä¸€åŠ  6 Pixel Experience Android Pie åˆ·æœºä½“éªŒ"},{"content":"å¼€ç¯‡ å›é¡¾æˆ‘çš„åˆ·æœºå†ç¨‹, æ¯æ¬¡éƒ½æ˜¯æœ‰äº†æƒ³æ³•ä¹‹åå°±è¡ŒåŠ¨èµ·æ¥äº†, ç»å†çš„æ˜¯ä¸€æ¬¡åˆä¸€æ¬¡çš„çœŸé¦™è­¦å‘Š. è€Œæœ¬æ¬¡ root çš„æƒ³æ³•çš„èµ·å› æ˜¯é»‘åŸŸè¶Šæ¥è¶Šéš¾ç”¨, è®©æˆ‘æƒ³ç”¨å›ç»¿å®ˆ, æœ¬æƒ³ç€ç­‰ 9.1 å‡ºæ¥ä¹‹åå† root, ä½†æ˜¯æ¯æ¬¡æˆ‘éƒ½ä¼šç­‰ä¸åŠ\u0026hellip; ç„¶åæœä¸å…¶ç„¶çš„è¸©å‘äº†.\nåˆ·æœºç¯å¢ƒä»¥åŠåˆ·æœºåŒ…å‡†å¤‡ USBé©±åŠ¨ adbç¯å¢ƒ TWRP Magisk å…¶ä¸­, twrp è¾ƒæ–°ç‰ˆæœ¬åˆ·å…¥ä¹‹åæœ‰ bug, ä¸Š youtube çœ‹è¿‡æ•™ç¨‹å, å†³å®šé‡‡ç”¨ twrp3.2.1.2, ä¸‹è½½æ—¶éœ€è¦ä¸‹è½½.imgä»¥åŠ.zipæ–‡ä»¶.\nå…·ä½“æ­¥éª¤ è¿›å…¥å‘½ä»¤è¡Œ\nè¿›å…¥ fastboot ç•Œé¢\n1 $ adb reboot bootloader è§£ bootloader é”\n1 $ fastboot flashing unlock ä½¿ç”¨éŸ³é‡é”®å’Œç”µæºé”®è¿›è¡Œç¡®è®¤, æ³¨æ„è§£é”åæ‰‹æœºæ‰€æœ‰æ•°æ®å°†ä¼šè¢«æ¸…é™¤, è¦åšå¥½å¤‡ä»½.\nåˆ·å…¥ç¬¬ä¸‰æ–¹ recovery\n1 $ fastboot boot path/twrp.img åˆ·å…¥æˆåŠŸå, é‡å¯è¿›å…¥ recovery, æ­¤æ—¶è¿˜éœ€è¦è¿›å…¥ install, é€‰æ‹© twrp.zip åŒ…å†è¿›è¡Œåˆ·å…¥. ç¼ºå°‘è¿™ä¸€æ­¥çš„è¯, ä¸‹ä¸€æ¬¡é‡å¯è¿˜ä¼šå›åˆ°å®˜æ–¹recovery.\nåˆ·å…¥ magisk åœ¨ twrp çš„ install é¡µé¢é€‰æ‹©äº‹å…ˆå­˜å…¥æ‰‹æœºçš„ magisk.zip è¿›è¡Œåˆ·å…¥, åˆ·å…¥åé‡å¯å³å¯.\nç»“å°¾ æ•´ä¸ªè¿‡ç¨‹ä¸‹æ¥å°±åˆ· twrp å‡ºäº†äº›é—®é¢˜, æœ€æ–°ç‰ˆæœ¬ä¸èƒ½ç”¨æ˜¯ä»€ä¹ˆé¬¼\u0026hellip;? (å‹˜è¯¯: äº‹å®ä¸Šåªæ˜¯ twrp çš„åŠ å¯†, è¾“å…¥é”å± PIN ç å³å¯) å¥½åœ¨æœ€åè¿˜æ˜¯è§£å†³äº†é—®é¢˜, é¡ºä¾¿å†™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹è¿™ä¸ªå‘.\n","date":"2018-09-09T00:00:00Z","permalink":"https://cgcel.github.io/posts/pixel-2xl-root%E6%96%B9%E6%A1%88%E8%AE%B0%E5%BD%95/","title":"Pixel 2XL rootæ–¹æ¡ˆè®°å½•"},{"content":"å¼€ç¯‡ å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢, æ­£å¥½ç†Ÿæ‚‰äº†ä¸€ä¸‹ ss é€šè¿‡å±€åŸŸç½‘å…±äº«åˆ°æ‰‹æœº, äºæ˜¯å†™ä¸€ç¯‡åšå®¢è®°å½•ä¸‹æ¥.\nè¯¦ç»†æ­¥éª¤ æ‰“å¼€çƒ­ç‚¹ é¦–å…ˆæˆ‘ä»¬æ‰“å¼€ç”µè„‘çš„çƒ­ç‚¹, å¦‚æœæ²¡æœ‰çš„è¯å°±ä½¿ç”¨ wifi å…±äº«å·¥å…·æ‰“å¼€çƒ­ç‚¹, è¿™é‡Œä½¿ç”¨çš„æ˜¯ WiFi å…±äº«ç²¾çµ(é¡ºä¾¿åæ§½ä¸€ä¸‹, æˆ‘ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°æ²¡å¹¿å‘Šçš„è‰¯å¿ƒå·¥å…·, æ¢æ¥æ¢å»è¿˜æ˜¯è¿™ä¸ªæœ€é¡ºæ‰‹, æŠŠå„ç§å¼¹çª—å…³æ‰å°†å°±ä¸€ä¸‹å§)\næŸ¥çœ‹ç½‘ç»œè¿æ¥ä¿¡æ¯ æ‰“å¼€ç½‘ç»œè¿æ¥, æˆ‘ä»¬å¯ä»¥é€šè¿‡åç§°æ¥æ‰¾åˆ°åˆšå¼€å¯çš„çƒ­ç‚¹, å¦‚å›¾ä¸ºæœ¬åœ°è¿æ¥3.\nè·å–æœ¬æœºIPåœ°å€ è¿™æ˜¯éå¸¸é‡è¦çš„ä¸€æ­¥, æ‰“å¼€ cmd æˆ–å…¶ä»–å·¥å…·, è¾“å…¥ipconfig, ç¬¬ä¸€ä¸ªæœ¬åœ°è¿æ¥çš„ ipv4 åœ°å€å°±æ˜¯äº†.\nShadowsocksè®¾ç½® æ‰“å¼€ ss å®¢æˆ·ç«¯, å³é”®å…¶å›¾æ ‡, å‹¾é€‰å…è®¸å…¶ä»–è®¾å¤‡è¿å…¥.\næ‰‹æœºWiFiæ‰‹åŠ¨é…ç½® è¿›å…¥ WiFi è®¾ç½®, è¿æ¥æ—¶é€‰æ‹©é«˜çº§é€‰é¡¹, æ®è§‚å¯Ÿ, å¦‚æœå·²ç»è¿æ¥è¿‡æ­¤çƒ­ç‚¹, Android 9.0 å¯ä»¥ç›´æ¥è®¾ç½®, è€Œ 8.1 éœ€è¦ forget åé‡æ–°è®¾ç½®. å¦‚å›¾, proxy é€‰æ‰‹åŠ¨, ç„¶åå°†æœ¬æœº IP åœ°å¡«å†™è¿›å», ç«¯å£äº²æµ‹ 1080 å¯è¡Œ, ç½‘ä¸Šè¯´çš„ 8123 ä¸è¡Œ (æ›´æ­£: éœ€è¦ä»¥ ss çš„ proxy ä»£ç†ç«¯å£ä¸ºå‡†). å…¶ä»–é€‰é¡¹é»˜è®¤å³å¯, ä¿å­˜åå³å¯ç§‘å­¦ä¸Šç½‘å•¦.\n","date":"2018-09-05T00:00:00Z","permalink":"https://cgcel.github.io/posts/shadowsocks-%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%AB/","title":"Shadowsocks å±€åŸŸç½‘å…±äº«"},{"content":"å‰æœŸå‡†å¤‡ åœ¨æˆ‘æ¥è§¦å•ç‰‡æœºçš„æ—¶å€™å°±å·²ç»çŸ¥é“æ ‘è“æ´¾çš„å‰å®³, è¿™æ˜¯ä¸€å°ä½åŠŸç‡è®¡ç®—æœº, åŒæ—¶è¿˜å¯ä»¥å½“ä½œä¸€å°é«˜æ€§èƒ½çš„å•ç‰‡æœºä½¿ç”¨. 3æœˆçš„æ—¶å€™å…¥äº†ä¸€å°æ ‘è“æ´¾3b, ä¸€ç›´ç§¯ç°åˆ°ç°åœ¨, ç»ˆäºåœ¨è€ƒè¯•, è¯¾è®¾å…¨éƒ¨ç»“æŸä¹‹åæœ‰ç©ºç©ä¸€ç©äº†.\nç³»ç»Ÿå®‰è£… ç³»ç»Ÿä¸‹è½½ ç³»ç»Ÿå®‰è£…è¿˜ä¸ç®—å¤ªéº»çƒ¦, ç›´æ¥å» å®˜ç½‘ ä¸‹è½½é•œåƒå³å¯, ç¬¬ä¸€æ¬¡è£…ç³»ç»Ÿçš„è¯è¿˜æ˜¯é€‰å®˜æ–¹æä¾›çš„ä¸œè¥¿å§, æˆ‘ä»¬é€‰æ‹©ä¸‹è½½ Raspbian ç³»ç»Ÿ, è¿™æ˜¯ä¸“é—¨ä¸ºæ ‘è“æ´¾æä¾›çš„ Debian ç³»ç»Ÿ, æœ‰ä¸¤ä¸ªç‰ˆæœ¬å¯ä¾›é€‰æ‹©:\nRaspbian Stretch with desktop Raspbian Stretch Lite å‰è€…æ˜¯å¸¦å›¾å½¢ç•Œé¢çš„ç‰ˆæœ¬, åè€…æ˜¯åªæœ‰å‘½ä»¤è¡Œé¡µé¢çš„è½»é‡çº§ç‰ˆæœ¬, ä¸ºäº†è½»ä¾¿, æˆ‘é€‰æ‹©äº†Liteç‰ˆ.\nåˆ·å…¥ Raspbian ä¸‹è½½å®Œæ¯•å, ä½¿ç”¨ SDFormatter å°† SD å¡æ ¼å¼åŒ–, ç„¶åä½¿ç”¨ Win32DiskImager å°†ç³»ç»Ÿå†™è¿› SD å¡, ç±»ä¼¼å·¥å…·æœ‰å¾ˆå¤š, è‡ªå·±é€‰ç”¨ä¸€ä¸ªå³å¯ (å®˜ç½‘æ›´æ–°äº†å®˜æ–¹å·¥å…· Raspberry Pi Imager, ä½¿ç”¨èµ·æ¥æ›´ä¸ºæ–¹ä¾¿), SD å¡å®¹é‡æ–¹é¢, å¾ˆå¤šæ•™ç¨‹éƒ½æ˜¯é€‰æ‹©äº†æœ€ä½é™åº¦çš„ 2GB çš„ SD å¡, ç„¶è€Œè¿™éƒ½å·²ç»æ˜¯å¤è‘£çº§åˆ«çš„å¡äº†, ä¸€èˆ¬åœ¨è¡—ä¸Šåªèƒ½ä¹°åˆ°æœ€ä½ 16GB çš„. ä½¿ç”¨ Win32DiskImager å†™å…¥ç³»ç»ŸæˆåŠŸå, ä¼šå¼¹çª—è¯¢é—®æ˜¯å¦æ ¼å¼åŒ– SD å¡, è¿™æ—¶å€™ç‚¹å–æ¶ˆå°±è¡Œ, ä¸ç„¶åˆè¦é‡æ–°å†™ä¸€é.\næ³¨æ„äº‹é¡¹ æ®è¯´æ–°ç‰ˆæœ¬çš„ Raspbian é»˜è®¤å…³é—­äº† ssh, éœ€è¦å…ˆåœ¨ SD å¡çš„ boot åˆ†åŒºæ–°å»ºä¸€ä¸ª ssh æ–‡ä»¶å¤¹. å°† SD æ’å…¥æ ‘è“æ´¾åä¾›ç”µ, çœ‹åˆ°ç»¿ç¯é—ªçƒå°±æ˜¯ç³»ç»Ÿè¿è¡ŒæˆåŠŸäº†.\nsshè¿æ¥ æ ‘è“æ´¾æœ‰å¤šç§è¿æ¥ç”µè„‘çš„æ–¹å¼, æ¯”å¦‚TTLè½¬USBè¿æ¥å’Œç½‘çº¿è¿æ¥, ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ç½‘çº¿è¿æ¥, ç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹, æ”¾ä¸€ä¸ª æˆ‘å‚è€ƒçš„.\nç”¨ç½‘çº¿è¿æ¥åˆæ¬¡å°è¯•å¯èƒ½ä¼šæ¯”è¾ƒéº»çƒ¦, ä½†è¯•å¤šå‡ æ¬¡å°±ä¼šç†Ÿç»ƒäº†, ä¸€å®šè¦æŒ‰ç…§æ­¥éª¤ä¸€æ­¥ä¸€æ­¥æ¥, ä¸ç„¶æ ‘è“æ´¾å°±åˆ†é…ä¸åˆ° IP åœ°å€äº†.\næ›´æ–°è½¯ä»¶æº ä½¿ç”¨ ssh è¿æ¥ä¸Š Pi çš„æ—¶å€™, è¾“å…¥ç”¨æˆ·åå¯†ç å°±å¯ä»¥ç™»å½•ç³»ç»Ÿå¹¶è¿›è¡Œæ“ä½œäº†, é»˜è®¤ç”¨æˆ·å: Pi, é»˜è®¤å¯†ç : raspberry, è¿›å…¥å‘½ä»¤è¡Œé¡µé¢å, æˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´æ¢è½¯ä»¶æºæ¥è§£å†³æ›´æ–°é€Ÿåº¦æ…¢çš„é—®é¢˜, æˆ‘ä»¬é‡‡ç”¨æ¸…åæº, æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œ:\nä½¿ç”¨ç®¡ç†å‘˜æƒé™ï¼Œç¼–è¾‘ /etc/apt/sources.list æ–‡ä»¶ã€‚å‚è€ƒå‘½ä»¤è¡Œä¸ºï¼š\n$ sudo nano /etc/apt/sources.list\nç”¨ # æ³¨é‡Šæ‰åŸæ–‡ä»¶å†…å®¹ï¼Œç”¨ä»¥ä¸‹å†…å®¹å–ä»£ï¼š\n1 2 deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi ä½¿ç”¨ç®¡ç†å‘˜æƒé™ï¼Œç¼–è¾‘ /etc/apt/sources.list.d/raspi.list æ–‡ä»¶ã€‚å‚è€ƒå‘½ä»¤è¡Œä¸ºï¼š\n$ sudo nano /etc/apt/sources.list.d/raspi.list\nç”¨ # æ³¨é‡Šæ‰åŸæ–‡ä»¶å†…å®¹ï¼Œç”¨ä»¥ä¸‹å†…å®¹å–ä»£ï¼š\n1 2 deb http://mirror.tuna.tsinghua.edu.cn/raspberrypi/ stretch main ui deb-src http://mirror.tuna.tsinghua.edu.cn/raspberrypi/ stretch main ui ä¿å­˜å¹¶é€€å‡ºå, æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯:\n1 2 $ sudo apt-get update $ sudo apt-get upgrade ","date":"2018-07-17T00:00:00Z","permalink":"https://cgcel.github.io/posts/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A-ssh-%E8%BF%9E%E6%8E%A5/","title":"æ ‘è“æ´¾ç³»ç»Ÿå®‰è£…ä»¥åŠ ssh è¿æ¥"},{"content":"å¼€ç¯‡ æœ€è¿‘ä¸€ç›´å¯¹æ‰‹æœºçš„ 3.1GB/3.8GB çš„å†…å­˜å ç”¨æ„Ÿåˆ°ä¸çˆ½, æƒ³è¦å‹ç¼©åˆ° 2.8GB å·¦å³, äºæ˜¯å¼€å§‹å¡«å‘ gcm-for-mojo , è¿™æ˜¯ä¸€ä¸ªè·å–ç½‘é¡µç«¯å¾®ä¿¡ä¿¡æ¯å¹¶é€šè¿‡ gcm æ¨é€åˆ°å®¢æˆ·ç«¯çš„ app, åŒæ—¶ä»–ä¹Ÿæ”¯æŒ mipush, hwpush ç­‰ç­‰å›½å†…å¹³å°çš„æ¨é€, ç”±äºæ‰‹æœºæ˜¯ Pixel 2 XL, åŸç”Ÿç³»ç»Ÿè‡ªç„¶ç”¨ gcm å°± ok äº†, å¾®ä¿¡å®¢æˆ·ç«¯ç°åœ¨å†…å­˜å ç”¨æ˜¯è¶Šæ¥è¶Šå¤§äº†, æŠŠåå°å…³äº†ä¹Ÿæœ‰æ¥è¿‘300M, è€Œä½¿ç”¨ä¸€äº›å·¥å…·æ›¿ä»£å¾®ä¿¡çš„åå°æ¥æ”¶ä¿¡æ¯å·¥ä½œ, è‡ªç„¶å°±è¾¾åˆ°äº†çœç”µçœå†…å­˜çš„æ•ˆæœäº†.\næœåŠ¡å™¨é…ç½® æœ¬äººå¸¸ç”¨å¾®ä¿¡, äºæ˜¯å°±åªåšäº†å¾®ä¿¡çš„æ¨é€, QQ é…ç½®æ–¹æ³•ç±»ä¼¼, åŸºæœ¬ä¸Šä¸¾ä¸€åä¸‰, å¾ˆå®¹æ˜“å­¦ä¼š. é¦–å…ˆæˆ‘ä»¬åœ¨æœåŠ¡å™¨ä¸Šå®‰è£… perl, Ubuntu 16.04 æ“ä½œå¦‚ä¸‹:\n1 $ sudo apt-get install perl cpanminus git make screen libssl-dev libnet-ssleay-perl libio-socket-ssl-perl å®Œæˆå\n1 $ cpanm Mojo::Weixin æˆ‘ä»¬ç›´æ¥åˆ° GitHub ä¸Šçœ‹é…ç½®æ­¥éª¤, æè¿°å¾—å¾ˆè¯¦ç»†, æœ€å¤šå‡ åˆ†é’Ÿå°±å¯ä»¥æå®šäº†.\næ¥ä¸‹æ¥æˆ‘ä»¬æ–°å»ºä¸€ä¸ª wx.pl æ–‡ä»¶, å‘½åéšæ„, å†…å®¹å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 use Mojo::Weixin; my $client = Mojo::Weixin-\u0026gt;new(log_encoding=\u0026gt;\u0026#34;utf-8\u0026#34;); $client-\u0026gt;load(\u0026#34;ShowMsg\u0026#34;); $client-\u0026gt;load(\u0026#34;GCM\u0026#34;,data=\u0026gt;{ api_url =\u0026gt; \u0026#39;https://gcm-http.googleapis.com/gcm/send\u0026#39;, api_key=\u0026gt;\u0026#39;AIzaSyB18io0hduB_3uHxKD3XaebPCecug27ht8\u0026#39;, registration_ids=\u0026gt;[\u0026#34;ä»¤ç‰Œ, å®¢æˆ·ç«¯è·å–\u0026#34;], allow_group=\u0026gt;[\u0026#34;\u0026#34;,\u0026#34;\u0026#34;,\u0026#34;\u0026#34;], # ç¾¤èŠä¿¡æ¯æ¨é€ç™½åå• ban_group=\u0026gt;[], allow_discuss=\u0026gt;[], ban_discuss=\u0026gt;[], is_ban_official =\u0026gt;1, # ä¸æ¥æ”¶å…¬ä¼—å·ä¿¡æ¯ }); $client-\u0026gt;load(\u0026#34;Openwx\u0026#34;,data=\u0026gt;{ listen =\u0026gt; [ {host=\u0026gt;\u0026#34;æœåŠ¡å™¨ipåœ°å€\u0026#34;,port=\u0026gt;140}, ] , #å…¶ä¸­, ç«¯å£å·è‡ªå®šä¹‰, å¦‚140, éœ€è¦åœ¨å®¢æˆ·ç«¯è®¾ç½®ä¸­å¡«å…¥ip:portæ ¼å¼çš„åœ°å€æ‰èƒ½å¼€é€šå¿«é€Ÿå›å¤åŠŸèƒ½, å¦‚ä¸‹å›¾ }); $client-\u0026gt;run(); å°† wx.pl ä¸Šä¼ è‡³æœåŠ¡å™¨, ä½¿ç”¨ nohup perl wx.pl \u0026amp; ä½¿å…¶åœ¨åå°è¿è¡Œ. è¿™æ˜¯ä¸ªæ•ˆæœä¸å¤ªå¥½çš„æ–¹æ³•, æ–­å¼€ ssh è¿æ¥æ—¶å¾ˆå®¹æ˜“æŠŠè¿›ç¨‹ä¹Ÿå…³æ‰, ç¿»é˜…æ•™ç¨‹æ—¶æˆ‘å‘ç°å¯ä»¥ç”¨å¦ä¸€ä¸ªæ–¹æ³•æ¥å®ç°åå°è¿è¡Œ:\nscreen -S docker perl wx.pl æ­¤æ—¶æ–­å¼€ ssh è¿æ¥ä¹Ÿä¸å—ä»»ä½•å¹²æ‰°, æ”¾ç½®åå°æˆåŠŸ. å¦‚æœæƒ³å›åˆ° screen, å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤, ç»“æŸæ“ä½œåæŒ‚èµ·å³å¯:\nscreen -ls screen -r pid é™„ä¸Šä¸€ç¯‡ screen ä½¿ç”¨æ•™ç¨‹\nä¼˜åŠ¿ä¸ä¸è¶³ ä¼˜åŠ¿: gcm-for-mojo é…ç½®èµ·æ¥æ¯” EFB è¦ç®€å•å¾—å¤š,æ¯•ç«Ÿä¾èµ–æ²¡æœ‰åè€…å¤š fcm æ¨é€å¾ˆåŠæ—¶ è‡ªå®šä¹‰è®¾ç½®æ¯”è¾ƒä¸°å¯Œ ä¸è¶³: æ¯”èµ· EFB, gcm-for-mojoä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡å’Œè¡¨æƒ…åŒ…, ç”šè‡³ emoji ä¹Ÿä¸ä¼šæ˜¾ç¤º ä½¿ç”¨ nohup æŒ‡ä»¤è®©å…¶åœ¨åå°è¿è¡Œæ—¶, ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥åæœ‰ä¸€æ¬¡ä¼šè‡ªåŠ¨å…³é—­åå°è¿›ç¨‹ ä¸å¤Ÿç¨³å®š, ä¸€æ–¹é¢ WebWeixin æœ¬èº«å°±æ˜¯ä¸ªç¥å¥‡çš„ä¸œè¥¿, è¯¸å¦‚ ItChat, EFB, gcm-for-mojo è¿™äº›å€ŸåŠ©ç½‘é¡µç‰ˆå¾®ä¿¡è·å–ä¿¡æ¯çš„å·¥å…·ä¼šå¯¼è‡´è´¦å·è¢«å°(ä¸€æ®µæ—¶é—´å†…å°†æ— æ³•ä½¿ç”¨ç½‘é¡µç™»å½•) æ€»ç»“ ä¹‹å‰ç”¨è¿‡ EFB1.0, æ²¡å¤šä¹…å°±å¼ƒäº†, åŸå› æ˜¯è¿æ¥å¾ˆå®¹æ˜“æ–­å¼€, ä¸€æ—¦æ–­å¼€è¿æ¥å°±è¦å†é‡æ–°æ‰«ç ç™»å½•, è€Œå¾®ä¿¡æ— æ³•åœ¨æœ¬æœºä¸Šæ‰«ç ç™»å½•, äºæ˜¯å°±æ¯”å¦‚å€ŸåŠ©å¦ä¸€ä¸ªè®¾å¤‡æ˜¾ç¤ºäºŒç»´ç , å¯ä»¥æƒ³è±¡æœ‰å¤šéº»çƒ¦, å½“ç„¶ gcm-for-mojo ä¹Ÿæ˜¯å¦‚æ­¤, æ­£å¥½å€Ÿæ­¤æœºä¼šå¯¹æ¯”ä¸€ä¸‹ä¸¤è€…çš„ç¨³å®šæ€§, å¸Œæœ›è¿™æ¬¡èƒ½ç”¨ä¹…ä¸€ç‚¹å§ğŸ¤·â€â™€ï¸\n","date":"2018-07-06T00:00:00Z","permalink":"https://cgcel.github.io/posts/gcm-for-mojo-%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/","title":"Gcm-for-Mojo æ­å»ºæ€»ç»“"},{"content":"å¼€ç¯‡ ç»ˆäºç»“æŸäº†å¥½å‡ é—¨è€ƒè¯•, æœ‰æ—¶é—´æ›´æ–°ä¸€ä¸‹åšå®¢äº†, å°±è®°å½•ä¸€ä¸‹å‡ å¤©å‰ç»™ä¸€åŠ 1å¡åˆ· lineage15.1 å§.\nçªå¦‚å…¶æ¥çš„æ›´æ–° ä¹‹å‰æœ‰ä¸€æ®µæ—¶é—´ä¸€ç›´åœ¨ç­‰å®˜æ–¹æ›´æ–°ä¸€åŠ 1çš„ lineage15.1, æœ‰ç©ºå°±åˆ·æ–°ä¸€ä¸‹å®˜ç½‘, ä½†å§‹ç»ˆæ²¡æœ‰å‘å¸ƒ, äºæ˜¯å°±å…ˆæŠŠ lineage14.1 åˆ·äº†. ç›´åˆ°å‡ å¤©å‰æ£€æµ‹æ›´æ–°, å‘ç°æœ‰æ— æ³• ota æ›´æ–°çš„æ›´æ–°, ä»”ç»†ä¸€çœ‹åŸæ¥æ˜¯ lineage15.1, è€Œä¸”å·²ç»æ›´æ–°äº†ä¸¤ç‰ˆ, äºæ˜¯æˆ‘è¿«ä¸åŠå¾…ä¸‹è½½äº†å®‰è£…åŒ….\nè¸©å‘ å¤‡ä»½åè¿›å…¥ twrp å››æ¸…æ‰‹æœº, ç„¶åå¼€å§‹å¡åˆ·, ç„¶è€ŒæŠ¥é”™äº†:\nThis package is for \u0026quot;OnePlus\u0026quot; devices: this is a \u0026quot;A0001\u0026quot;\nç»æŸ¥è¯¢, å‘ç°æ˜¯ twrp ç‰ˆæœ¬å¤ªä½äº†, æ¢äº†æœ€æ–°çš„ twrp ä¸€è¯•, æœç„¶æˆåŠŸäº†, éšåå°±æ˜¯åˆ· gapps, magisk, å¸¸è§„æ“ä½œå°±ä¸è¯´äº†.\nå¼€æœº å¼€æœºåˆå§‹åŒ–åè¿›å…¥ç³»ç»Ÿ, è¿˜æ˜¯å’Œä»¥å¾€ç‰ˆæœ¬ä¸€æ ·æµç•…, é™„ä¸Šä¸€äº›æˆªå›¾, çŸ­æš‚ä½¿ç”¨ååªå‘ç°äº†ä¸€ä¸ªå¥‡æ€ªçš„bug: åˆºæ¿€æˆ˜åœºå¼€ä¼åå°±é—ªé€€, è¿›æ¸¸æˆæ— æ³•è¿”å›æ­£åœ¨è¿›è¡Œçš„æ¸¸æˆ\u0026hellip;\nä¸‹é¢é™„ä¸Šä¸€äº›æˆªå›¾:\nå‡çº§ ä»Šå¤©ç³»ç»Ÿè¿æ¥äº†ä¸€æ¬¡æ›´æ–°, åªæœ‰300Må·¦å³, äºæ˜¯å°±ç›´æ¥ç”¨æµé‡ä¸‹è½½äº†, é‡å¯åå‘ç°ä¿ç•™äº† root æ•ˆæœ, ä¹‹å‰ 14.1 æ—¶å€™ç”¨ superSU, æ¯æ¬¡æ›´æ–°ä¹‹åå°±è¦é‡æ–°åˆ·ä¸€éæ‰æœ‰ root æ•ˆæœ. é¡ºå¸¦ä¸€æ, æ›´æ–°ä¹‹åèˆå‹æ‹¿å»åƒé¸¡ä¸é—ªé€€äº† (å°åº¦äººå¾ˆå–œæ¬¢åƒé¸¡, å¾ˆå¤šROMæ›´æ–°ä¹‹åå¦‚æœç©ä¸äº†éƒ½ä¼šæœ‰äººåœ¨è¯„è®ºåé¦ˆğŸ˜‚)\nç»“å°¾ ç»ˆäºå¦‚æ„¿ä»¥å¿è®©å¤‡æœºåƒä¸Šäº† oreo, ä½“éªŒä¹Ÿå¾ˆå¥½, ä¸è¿‡è¿™åº”è¯¥æ˜¯ä¸€åŠ 1èƒ½åˆ·åˆ°çš„æœ€æ–°çš„ç‰ˆæœ¬äº†å§, æ„Ÿè§‰ 9.0 å¸Œæœ›ä¸å¤§, ä¸è¿‡ä¹Ÿå¾ˆéš¾å¾—äº†, æ¯•ç«Ÿè¿™ä¹ˆè€çš„æœºå‹äº†, åˆ°ç°åœ¨è¿˜æ˜¯å¾ˆæµç•…, åˆºæ¿€æˆ˜åœºä»€ä¹ˆçš„ä¹Ÿå‹åŠ›ä¸å¤§. æ”¹å¤©è¯•ä¸€è¯• rr å¥½äº†, å…¶å® rr ç»™ä¸€åŠ 1é€‚é… andoid 8.1 æ¯” lineage è¦æ—©, ä¹‹å‰ä¸‹ä¸‹æ¥ä¸€ç›´åˆ·ä¸ä¸Šå°±æ”¾å¼ƒäº†. æœ€åè´´ä¸€ä¸‹é“¾æ¥:\nlineageosä¸‹è½½ adbä¸‹è½½ gappsä¸‹è½½ twrpä¸‹è½½ ","date":"2018-07-04T00:00:00Z","permalink":"https://cgcel.github.io/posts/%E4%B8%80%E5%8A%A0-1-%E5%8D%A1%E5%88%B7-lineage15.1/","title":"ä¸€åŠ  1 å¡åˆ· lineage15.1"},{"content":"å¼€ç¯‡ 5.20å‰åå‡ å¤©, å…­ç»´ç©ºé—´å¼€æ”¾æ³¨å†Œ, äºæ˜¯ä¹…ä»°å¤§åçš„æˆ‘ä¹Ÿè·‘å»æ³¨å†Œäº†ä¸€ä¸ªè´¦å·, å› ä¸ºå…­ç»´ç©ºé—´æ¯æ—¥ç™»å½•éƒ½ä¼šé€5æµ®äº‘, å› æ­¤å°±æœ‰äº†å†™ä¸€ä¸ªæ¨¡æ‹Ÿç™»å½•æ‹¿æ¯æ—¥å¥–åŠ±çš„è„šæœ¬çš„æƒ³æ³•, å°†å…¶æ”¾åœ¨æ ¡å›­ç½‘ç™»å½•è„šæœ¬é‡Œé¢ä¸€èµ·è·‘å°±ç¾æ»‹æ»‹äº†.\nä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 # -*- coding: utf-8 -*- # author: Chan import requests from bs4 import BeautifulSoup url_start = \u0026#39;http://bt.neu6.edu.cn/member.php?mod=logging\u0026amp;action=login\u0026amp;referer=http%3A%2F%2Fbt.neu6.edu.cn%2Fforum.php\u0026#39; url_login = \u0026#39;http://bt.neu6.edu.cn/\u0026#39; url_main = \u0026#39;http://bt.neu6.edu.cn/forum.php\u0026#39; url_test = \u0026#39;http://bt.neu6.edu.cn/home.php?mod=spacecp\u0026#39; class neu6(): def __init__(self, username, password): headers = { \u0026#34;Accept\u0026#34;: \u0026#34;text/html, application/xhtml+xml, application/xml\u0026#34;, \u0026#34;Accept-Encoding\u0026#34;: \u0026#34;gzip, deflate\u0026#34;, \u0026#34;Accept-Language\u0026#34;: \u0026#34;zh-CN, zh\u0026#34;, \u0026#34;Cache-Control\u0026#34;: \u0026#34;max-age = 0\u0026#34;, \u0026#34;Connection\u0026#34;: \u0026#34;keep-alive\u0026#34;, \u0026#34;Host\u0026#34;: \u0026#34;bt.neu6.edu.cn\u0026#34;, \u0026#34;Upgrade-Insecure-Requests\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;User-Agent\u0026#34;: \u0026#34;Mozilla/5.0 (Windows NT 10.0Win64x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36\u0026#34; } self.session = requests.Session() self.session.headers.update(headers) self.username = username self.password = password r = self.session.get(url_start) soup = BeautifulSoup(r.content, \u0026#39;html.parser\u0026#39;) self.formhash = soup.find(\u0026#34;input\u0026#34;, {\u0026#34;name\u0026#34;: \u0026#34;formhash\u0026#34;})[\u0026#34;value\u0026#34;] self.action = soup.find(\u0026#34;form\u0026#34;)[\u0026#34;action\u0026#34;] def login(self): try: formdata = { \u0026#34;formhash\u0026#34;: self.formhash, \u0026#34;referer\u0026#34;: url_main, \u0026#34;username\u0026#34;: self.username, \u0026#34;password\u0026#34;: self.password, \u0026#34;questionid\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;answer\u0026#34;: \u0026#34;\u0026#34; } self.session.post(url_login+self.action+\u0026#39;\u0026amp;inajax=1\u0026#39;, data=formdata) r1 = self.session.get(url_main) except: print(\u0026#34;ç™»å½•å¤±è´¥\u0026#34;) def info(self): try: r2 = self.session.get(url_main) soup = BeautifulSoup(r2.content, \u0026#39;html.parser\u0026#39;) name = soup.find_all(\u0026#34;strong\u0026#34;, {\u0026#34;class\u0026#34;: \u0026#34;vwmy\u0026#34;})[0].get_text() points = soup.find_all(\u0026#34;a\u0026#34;, {\u0026#34;class\u0026#34;: \u0026#34;showmenu\u0026#34;})[ 0].get_text().strip() level = soup.find_all(\u0026#34;a\u0026#34;, {\u0026#34;class\u0026#34;: \u0026#34;xi2\u0026#34;})[ 0].get_text().strip() print(\u0026#34;ç”¨æˆ·å:\u0026#34;, name) print(points) print(\u0026#34;ç”¨æˆ·ç»„:\u0026#34;, level) except: print(\u0026#34;è·å–ä¿¡æ¯å¤±è´¥\u0026#34;) def main(): neu = neu6(\u0026#39;username\u0026#39;, \u0026#39;passowrd\u0026#39;) neu.login() neu.info() if __name__ == \u0026#39;__main__\u0026#39;: main() é€šè¿‡çœ‹ç½‘é¡µæºç æˆ‘ä»¬èƒ½å‘ç°, post çš„æ•°æ®ä¸ä»…ä»…æ˜¯ç”¨æˆ·åå’Œå¯†ç , ä»–çš„å®Œæ•´æ•°æ®å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 formdata = { \u0026#34;formhash\u0026#34;: self.formhash, \u0026#34;referer\u0026#34;: url_main, \u0026#34;username\u0026#34;: self.username, \u0026#34;password\u0026#34;: self.password, \u0026#34;questionid\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;answer\u0026#34;: \u0026#34;\u0026#34; } å¹¸è¿çš„æ˜¯,è¿™äº›æ•°æ®éƒ½å¯ä»¥åœ¨ç™»å½•å‰çš„é¡µé¢è·å–åˆ°, å…·ä½“åšæ³•è§ä»£ç . å°†ä»–æ”¾è¿›ä¸€é”®ç™»å½•ç¨‹åºä¸­, ä¹Ÿå¯ä»¥å†™åˆ° .bat æ–‡ä»¶ä»€ä¹ˆçš„æ¥è½»æ¾ç™»å½•, ç”šè‡³è¿˜å¯ä»¥å¸®èˆå‹, æœ‹å‹ä¸€èµ·ç™»å½•.\nå¦‚å›¾, ç™»å½•æˆåŠŸ:P\nç»“å°¾ å¥½å§, å…¶å®æˆ‘åªæ˜¯æƒ³ç©ç©æˆ‘æ–°å»ºå¥½çš„åšå®¢, äºæ˜¯å°±éšä¾¿æ‹¿ç‚¹å°ä¸œè¥¿å‘ä¸Šæ¥äº†, æœ‰éœ€è¦çš„è¯å°±æ‹¿èµ°å§:P å¦‚æœæœ‰æ›´å¥½çš„æ–¹æ³•ä¹Ÿè¯·å‘Šè¯‰æˆ‘ä¸€ä¸‹, thx.\n","date":"2018-06-23T00:00:00Z","image":"https://cgcel.github.io/2018-6-23-1.png","permalink":"https://cgcel.github.io/posts/%E5%85%AD%E7%BB%B4%E7%A9%BA%E9%97%B4%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95%E8%84%9A%E6%9C%AC/","title":"å…­ç»´ç©ºé—´è‡ªåŠ¨ç™»å½•è„šæœ¬"},{"content":"èµ·å›  Jekyll çš„åŠ è½½é€Ÿåº¦å®åœ¨æ˜¯æœ‰ç‚¹æ…¢, åœ¨åˆšä¸Šçº¿ä¸ä¹…å, æˆ‘åˆå¾—çŸ¥äº†ä¸€ä¸ªé¡µé¢åŠ è½½æ›´å¿«çš„æ–¹æ³•: ä½¿ç”¨ Hugo æ­å»ºåšå®¢.\næ­å»ºç¯å¢ƒ åˆ° ä¸‹è½½é¡µé¢ ä¸‹è½½ Windows ç‰ˆæœ¬çš„ hugo, é‡åˆ°äº†å‘, æœ€æ–°ç‰ˆæœ¬æ— æ³•åœ¨æœ¬åœ°é¢„è§ˆé¡µé¢(v0.42.1)äºæ˜¯æˆ‘ä¸‹è½½äº†å’Œæ•™ç¨‹ä¸€æ ·çš„è€ç‰ˆæœ¬, ä»¥ç¡®ä¿èƒ½å¤Ÿé¡ºåˆ©è°ƒè¯•.\né…ç½® å› ä¸ºæ‰æŠ˜è…¾è¿‡ jekyll, åŠ ä¸Š hugo æ¯”å‰è€…çš„é…ç½®è¦ç®€å•, æ‰€ä»¥æˆ‘å¾ˆå¿«å°±æ”¹å¥½äº† config æ–‡ä»¶, è¿™é‡Œè¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯, è¦å…ˆä¸‹è½½å¥½ä¸»é¢˜å†åœ¨æ ¹ç›®å½•ä½¿ç”¨ hugo server -D æŒ‡ä»¤, å¦åˆ™é¡µé¢ä¼šä¸€ç‰‡ç©ºç™½.\nåŸºç¡€çŸ¥è¯†å­¦ä¹ (Go templates) åˆ—ä¸€ä¸‹é€‚åˆåˆå­¦è€…å­¦ä¹ çš„é“¾æ¥:\nYouTube å®˜æ–¹æ–‡æ¡£ å‡½æ•°ä»¥åŠå˜é‡ æ¨¡æ¿é€‰æ‹© ä¸å¾—ä¸è¯´æ¨¡æ¿çš„é€‰æ‹©çœŸæ˜¯ä¸€é“éš¾é¢˜, å°±ç®—æ˜¯åœ¨ hugo å®˜æ–¹æä¾›çš„æ¨¡æ¿é¡µé¢ä¸­ä¸‹è½½çš„æ¨¡æ¿ä¹Ÿè¿˜æ˜¯è¦ä¼šæœ‰ä¸€äº› bug\u0026hellip;å› ä¸ºæƒ³è¦ Tags åŠŸèƒ½,è‡ªå·±ç…§è‘«èŠ¦ç”»ç“¢å†™ä¹Ÿæœ‰ç‚¹ä¸‘, æ‰€ä»¥åœ¨ä¸Šä¸€ä¸ªæ¨¡æ¿åˆšé…ç½®å®Œçš„æ—¶å€™æˆ‘åˆæ¢äº†ä¸€ä¸ªæ¨¡æ¿, è¿™ä¸ªæ¨¡æ¿åˆšå¥½æœ‰ bug ( baseurl å’Œ css ç­‰é“¾æ¥ä¹‹é—´å°‘äº†\u0026rsquo;/\u0026rsquo;) æœ¬èœé¸Ÿæ‰¾äº†å¿«ä¸€ä¸ªå°æ—¶æ‰æ‰¾å‡ºæ¥\u0026hellip;\nç¼–å†™åšå®¢ åªéœ€è¦åœ¨æ ¹ç›®å½•å‘½ä»¤è¡Œè¾“å…¥ hugo new ***/***.md å°±å¯ä»¥è‡ªåŠ¨åˆ›å»ºæ–°æ–‡ç« , å¹¶ä¸”hugoä¼šå¸®å¿™è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜ç­‰ä¿¡æ¯.\n1 2 3 4 5 6 +++ title= \u0026#34;ä½¿ç”¨hugoåˆ›å»ºåšå®¢\u0026#34; date= 2018-06-22T19:34:37+08:00 categories=[\u0026#39;tech\u0026#39;] tags= [\u0026#39;hugo\u0026#39;,\u0026#39;go\u0026#39;,\u0026#39;github.io\u0026#39;] +++ å¡«å¥½ä»¥ä¸Šæ ¼å¼, å°±å¯ä»¥å¼€å§‹åœ¨ä¸‹é¢å†™åšå®¢äº†, å’Œ jekyll éå¸¸ç›¸ä¼¼.\næ–°ç‰ˆæœ¬çš„ hugo è‡ªåŠ¨ç”Ÿæˆçš„ .md æ–‡ä»¶æ ¼å¼æœ‰ç‚¹å˜åŒ–, å¦‚ä¸‹æ‰€ç¤º:\n1 2 3 title: \u0026#34;æ¢ä¸ªä¸»é¢˜\u0026#34; date: 2019-12-01T23:50:09+08:00 categories: [\u0026#34;daily\u0026#34;] éƒ¨ç½²åˆ°github.page å’Œ jekyll ç›¸æ¯”, hugo çš„éƒ¨ç½²/æ–‡ç« æ¨é€ç•¥å¾®éº»çƒ¦ä¸€ç‚¹, å‰è€…åªéœ€è¦ä¿®æ”¹å¹¶é¢„è§ˆæ£€æŸ¥å®Œæ¯•åç›´æ¥å…¨éƒ¨ push å³å¯, è€Œ hugo æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„æ–¹æ³•æ˜¯å…ˆåœ¨æ ¹ç›®å½•è¿è¡Œä¸€é“æŒ‡ä»¤ hugo --baseUrl=\u0026quot;https://username.github.io\u0026quot; , åœ¨æ ¹ç›®å½•ç”Ÿæˆ public æ–‡ä»¶å¤¹, ç„¶åå°† public æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å†…å®¹ push è‡³ä»“åº“ä¸­. æˆ‘æŸ¥é˜…äº†ä¸€äº›å…¶ä»–çš„è‡ªåŠ¨åŒ–æ–¹æ³•, å¦‚Travis. æœ€åå«Œé…ç½®éº»çƒ¦, ç›´æ¥åœ¨æ ¹ç›®å½•åˆ›å»ºäº†ä¸€ä¸ª .bat æ–‡ä»¶,å°†å‡ ä¸ªæŒ‡ä»¤å†™è¿›å»ä¾æ¬¡è¿è¡Œ, ä¹Ÿç®—æ˜¯å®ç°äº†ä¸€é”®æ¨é€çš„åŠŸèƒ½, ä¹Ÿç®—æ˜¯æä¾›äº†å¦ä¸€ç§æ€è·¯å§.\n1 2 3 4 5 6 7 hugo --theme=pure --baseUrl=\u0026#34;https://koonchung.github.io\u0026#34; cd public git add . git commit -m \u0026#34;auto-uploaded files\u0026#34; git push -u origin master pause æš‚å‘Šä¸€æ®µè½ emm\u0026hellip;å†™åˆ°è¿™é‡Œå·²ç»åŠå¤œä¸€ç‚¹åŠäº†, é‚£å°±å…ˆå‘Šä¸€æ®µè½å§, æœ€åæ€»ç»“ä¸€ä¸‹, ä¸å¾—ä¸è¯´ hugo åŠ è½½çš„é€Ÿåº¦æ¯” jekyll å¿«äº†ä¸å°‘, æ¨¡æ¿é…ç½®å®Œæˆåä½“éªŒå¾ˆä¸é”™.\n","date":"2018-06-22T00:00:00Z","permalink":"https://cgcel.github.io/posts/%E4%BD%BF%E7%94%A8-hugo-%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/","title":"ä½¿ç”¨ hugo åˆ›å»ºåšå®¢"},{"content":"å¼€ç¯‡ æœ€è¿‘å­¦ä¹  Django å¼€å‘ç½‘é¡µ, åæ¥ç”±äº Django å¼€å‘æ¯”è¾ƒç¹çä»¥åŠå¯è¿ç§»æ€§è¾ƒå·®, äºæ˜¯è½¬å­¦ flask, ä»è€Œæœ‰äº†è¿™ä¸€ç¯‡æ–‡ç« , é¡ºä¾¿æµ‹è¯•ä¸€ä¸‹æˆ‘çš„åšå®¢å‘æ–‡åŠŸèƒ½:P\né¡¹ç›®ä¾èµ– è™½ç„¶ flask è¾ƒ Django æ›´è½»é‡, ç‰ˆæœ¬é—´è¯­æ³•å·®åˆ«ä¸å¤§, ä½†è¿˜æ˜¯ä¼šæœ‰ä¸€äº›å°å‘. æ¯”å¦‚åœ¨ä½¿ç”¨ flask-sqlalchemy æ—¶æŠ¥é”™, åŸå› æ˜¯ç‰ˆæœ¬è¿‡æ–°æˆ–è¿‡æ—§, å¦å¤– flask çš„æ‰©å±•åŒ…éœ€è¦å¦å¤–å®‰è£…, è¿™é‡Œæ³¨æ„ä¸€ä¸‹å°±è¡Œ. ä¸‹é¢åˆ—å‡ºä¸ªäººåšå®¢é¡¹ç›®çš„å®‰è£…ä¾èµ– ( python3.5 \u0026amp; python3.6 æµ‹è¯•é€šè¿‡):\n1 2 3 4 Flask_SQLAlchemy==2.1 Flask==1.0.2 Markdown==2.6.11 Flask_Bootstrap==3.3.7.1 æ•°æ®åº“ æ•°æ®åº“çš„ä½¿ç”¨æ˜¯ç½‘é¡µç¼–å†™çš„ä¸€ä¸ªéå¸¸é‡è¦çš„éƒ¨åˆ†, åŸºæœ¬ä¸Šè¯»å–, å­˜å…¥, ç™»å½•, æ³¨é”€ç­‰ç­‰æ“ä½œéƒ½å’Œæ•°æ®åº“ç›¸å…³, æœ¬é¡¹ç›®ä½¿ç”¨ sqlite3, æ“ä½œèµ·æ¥è¾ƒä¸ºç®€å•. ç®€å•æ€»ç»“ä¸€ä¸‹ flask-sqlalchemy çš„ä½¿ç”¨æŠ€å·§:\nè·¯å¾„: 1 2 3 4 MySQL: mysql+pymysql://username:password@hostname/database Postgres: postgresql://username:password@hostname/database SQLite(Unix): sqlite:////absolute/path/to/database SQLite(Windows): sqlite:///c:/absolute/path/to/database åˆå§‹åŒ–: 1 2 3 4 app = Flask(__name__)\u0026lt;br\u0026gt; app.config[\u0026#39;SQLALCHEMY_DATABASE_URI\u0026#39;] = \u0026#39;sqlite:///E:/code/Python/flask/Elvin_Blog/schema.sql\u0026#39; app.config[\u0026#39;SQLALCHEMY_TRACK_MODIFICATIONS\u0026#39;] = False db = SQLAlchemy(app) æ“ä½œè¯­å¥: 1 2 3 4 5 6 7 8 9 User.query.all() # æœç´¢æ‰€æœ‰ä¿¡æ¯ User.query.get(id) # æœç´¢å¯¹åº”ä¸»é”®ä¿¡æ¯ User.query.filter_by(username=\u0026#39;\u0026#39;).all() User.query.filter_by(username=\u0026#39;\u0026#39;).first() db.session.add(User(username,password)) db.session.commit() # ä¿®æ”¹ä¿¡æ¯ User.query.filter_by(id=id).first().username=\u0026#39;newusername\u0026#39; db.session.commit() è‡ªå®šä¹‰è¿‡æ»¤å™¨ æˆ‘å¸Œæœ›èƒ½å°† markdown æ ¼å¼çš„å†…å®¹è½¬åŒ–å¹¶ç›´æ¥æ˜¾ç¤º, è¿™å°±éœ€è¦ç”¨åˆ° flask çš„è¿‡æ»¤å™¨åŠŸèƒ½, é˜…è¯»äº†ç›¸å…³æ–‡ç« , åªéœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªè¿‡æ»¤å™¨, ä»£ç å¦‚ä¸‹:\n1 2 3 4 5 from flask import Markup import markdown @app.template_filter(\u0026#39;toMarkdown\u0026#39;) def toMarkdown(content): return Markup(markdown.markdown(content)) é€šè¿‡ jinja2 è°ƒç”¨æ—¶, åªéœ€è¦ { { content|toMartdown } } å³å¯.\nç”¨æˆ·ç™»å½•ä¸ç™»å‡º é€šè¿‡ MD5 åŠ å¯†å¯†ç å¹¶ä¿å­˜åœ¨æ•°æ®åº“, ä½¿ç”¨ flask çš„ session, ç™»å½•æˆåŠŸå, ä»£ç æ·»åŠ  session['username'] = username , åŒç†, åœ¨è¿›å…¥ä¸€äº›è¯¸å¦‚ç®¡ç†é¡µé¢çš„é¡µé¢æ—¶, åªéœ€è¦æ·»åŠ  if 'username' in session: åŠ ä»¥åˆ¤æ–­å³å¯.\n","date":"2018-06-21T00:00:00Z","permalink":"https://cgcel.github.io/posts/flask-%E8%B8%A9%E5%9D%91%E5%92%8C%E6%8E%92%E5%9D%91%E8%AE%B0%E5%BD%95/","title":"Flask è¸©å‘å’Œæ’å‘è®°å½•"},{"content":"å¼€ç¯‡ çœ‹åˆ°è¿‡ä¸å°‘ç”¨ github page æ­å»ºçš„ä¸ªäººåšå®¢, æ„Ÿè§‰éå¸¸æ–¹ä¾¿. åŠ ä¸Šå‰ä¸ä¹…åˆšå­¦äº† flask, å¯¹æ­å»ºä¸ªäººåšå®¢æŒºæ„Ÿå…´è¶£, äºæ˜¯åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€äº›æ•™ç¨‹, å¼€å§‹åˆ›å»ºåšå®¢, è¿™é‡Œåšä¸€ä¸‹ç®€å•çš„æ€»ç»“.\nåˆ›å»ºä»“åº“ åœ¨ github æ–°å»ºé¡¹ç›®, å‘½åæ ¼å¼ä¸º \u0026lt;username\u0026gt;.github.io, æœ€å¥½å…ˆé€‰ private, å› ä¸ºå¯èƒ½ä¼šæœ‰å¾ˆå¤šè¯¯æ“ä½œ. ç„¶ååœ¨æœ¬æœº (Windows) å®‰è£…ç¯å¢ƒ: gem, jekyll ç­‰ç­‰, å®‰è£…è¿™äº›æ˜¯ä¾¿äºåœ¨æœ¬åœ°ä¿®æ”¹ç½‘é¡µå¹¶ä¸”é¢„è§ˆ,è¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½ push åˆ° github æ¥è¯•äº†. ä¸è¿‡ Windows å®‰è£…èµ·æ¥æŒºéº»çƒ¦çš„, ä¸€å®šè¦æŒ‰ç…§æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥æ¥è®¾ç½®, è·Ÿæ•™ç¨‹æœ‰ä¸€äº›å‡ºå…¥çš„åœ°æ–¹è¦è‡ªå·±åˆ¤æ–­.\né€‰æ‹©ä¸»é¢˜ jekyll çš„ä¸»é¢˜æœ‰å¾ˆå¤š,æˆ‘ä»¬å¯ä»¥åœ¨ github å’Œç½‘é¡µä¸ŠæŒ‘é€‰, æœ¬æ¥æˆ‘æƒ³è¦é€‰ä¸€ä¸ª md æ ¼å¼çš„ä¸»é¢˜,å¥ˆä½•ä¸€æ—¶é—´æ‰¾ä¸åˆ°,äºæ˜¯ä» github ä¸Šé€‰æ‹©äº†ä¸€ä¸ªçº¯ç™½çš„æç®€ä¸»é¢˜.\nè‡ªå®šä¹‰é¡µé¢å†…å®¹ é€‰å¥½ä¸»é¢˜ä¹‹å, é€šè¿‡ git æŠŠä»£ç  clone åˆ°æœ¬åœ°, é¦–å…ˆå¿…é¡»è¦ç¼–è¾‘çš„æ˜¯ _config.yml,æŒ‰ç…§ä¸ªäººçš„ä¿¡æ¯å’Œéœ€æ±‚è¿›è¡Œå¢å‡æ”¹åŠ¨, å¦‚æœä¸çŸ¥é“è¯¥æ€ä¹ˆæ”¹, å»ºè®®å¤šæ‰¾å‡ ä¸ªä¸»é¢˜å¯¹æ¯”ä¸€ä¸‹æ–‡ä»¶å†…å®¹, ä¹Ÿå¯ä»¥åˆ° YouTube æ‰¾ä¸€ä¸‹ç›¸å…³è§†é¢‘æ•™ç¨‹. è®¾ç½®å®Œå, å°±å¯ä»¥å»è‡ªå®šä¹‰ä¸ªäººä¿¡æ¯å’Œç½‘é¡µæ˜¾ç¤ºå†…å®¹äº†.\né¢„è§ˆå’Œæ¨é€æµ‹è¯• ä¿®æ”¹å®Œæ–‡ä»¶å,åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰“å¼€ cmd, è¾“å…¥ jekyll s, å¦‚æœæ²¡æœ‰æŠ¥é”™å°±è¡¨ç¤ºåœ¨æœ¬åœ°è¿è¡ŒæˆåŠŸäº†, æ­¤æ—¶å¯ä»¥æ‰“å¼€æµè§ˆå™¨, è¿›å…¥ 127.0.0.1:4000 å°±å¯ä»¥é¢„è§ˆé¡µé¢. æŒ‰ç…§æ ¼å¼å‘½åæ–‡ç« , å¦‚: 2018-6-21-title.md, åœ¨æ–‡ç« å¼€å¤´åŠ ä¸Šä»¥ä¸‹å†…å®¹å°±å¯ä»¥è¢«è¯†åˆ«å¹¶æ›´æ–°åœ¨ä¸»é¡µä¸Šäº†, éå¸¸æ–¹ä¾¿:\n1 2 3 4 5 6 --- layout: post title: \u0026#34;your title\u0026#34; date: 2018-06-21 categories: --- ","date":"2018-06-21T00:00:00Z","permalink":"https://cgcel.github.io/posts/github.io-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/","title":"github.io åšå®¢æ­å»º"}]